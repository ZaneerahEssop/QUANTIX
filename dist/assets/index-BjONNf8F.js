(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function jE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var up={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function ox(){if(c1)return yc;c1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,c){var h=null;if(c!==void 0&&(h=""+c),s.key!==void 0&&(h=""+s.key),"key"in s){c={};for(var m in s)m!=="key"&&(c[m]=s[m])}else c=s;return s=c.ref,{$$typeof:t,type:i,key:h,ref:s!==void 0?s:null,props:c}}return yc.Fragment=e,yc.jsx=n,yc.jsxs=n,yc}var u1;function lx(){return u1||(u1=1,up.exports=ox()),up.exports}var f=lx(),hp={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function cx(){if(h1)return je;h1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,z={};function k(A,q,se){this.props=A,this.context=q,this.refs=z,this.updater=se||O}k.prototype.isReactComponent={},k.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=k.prototype;function Q(A,q,se){this.props=A,this.context=q,this.refs=z,this.updater=se||O}var G=Q.prototype=new F;G.constructor=Q,L(G,k.prototype),G.isPureReactComponent=!0;var $=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function V(A,q,se,ee,he,Ee){return se=Ee.ref,{$$typeof:t,type:A,key:q,ref:se!==void 0?se:null,props:Ee}}function R(A,q){return V(A.type,q,void 0,void 0,void 0,A.props)}function D(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function N(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(se){return q[se]})}var I=/\/+/g;function P(A,q){return typeof A=="object"&&A!==null&&A.key!=null?N(""+A.key):q.toString(36)}function C(){}function ye(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(C,C):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function De(A,q,se,ee,he){var Ee=typeof A;(Ee==="undefined"||Ee==="boolean")&&(A=null);var ve=!1;if(A===null)ve=!0;else switch(Ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(A.$$typeof){case t:case e:ve=!0;break;case _:return ve=A._init,De(ve(A._payload),q,se,ee,he)}}if(ve)return he=he(A),ve=ee===""?"."+P(A,0):ee,$(he)?(se="",ve!=null&&(se=ve.replace(I,"$&/")+"/"),De(he,q,se,"",function(Nt){return Nt})):he!=null&&(D(he)&&(he=R(he,se+(he.key==null||A&&A.key===he.key?"":(""+he.key).replace(I,"$&/")+"/")+ve)),q.push(he)),1;ve=0;var Ze=ee===""?".":ee+":";if($(A))for(var xe=0;xe<A.length;xe++)ee=A[xe],Ee=Ze+P(ee,xe),ve+=De(ee,q,se,Ee,he);else if(xe=w(A),typeof xe=="function")for(A=xe.call(A),xe=0;!(ee=A.next()).done;)ee=ee.value,Ee=Ze+P(ee,xe++),ve+=De(ee,q,se,Ee,he);else if(Ee==="object"){if(typeof A.then=="function")return De(ye(A),q,se,ee,he);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Z(A,q,se){if(A==null)return A;var ee=[],he=0;return De(A,ee,"","",function(Ee){return q.call(se,Ee,he++)}),ee}function te(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(se){(A._status===0||A._status===-1)&&(A._status=1,A._result=se)},function(se){(A._status===0||A._status===-1)&&(A._status=2,A._result=se)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var ce=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function me(){}return je.Children={map:Z,forEach:function(A,q,se){Z(A,function(){q.apply(this,arguments)},se)},count:function(A){var q=0;return Z(A,function(){q++}),q},toArray:function(A){return Z(A,function(q){return q})||[]},only:function(A){if(!D(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},je.Component=k,je.Fragment=n,je.Profiler=s,je.PureComponent=Q,je.StrictMode=i,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,je.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ne.H.useMemoCache(A)}},je.cache=function(A){return function(){return A.apply(null,arguments)}},je.cloneElement=function(A,q,se){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=L({},A.props),he=A.key,Ee=void 0;if(q!=null)for(ve in q.ref!==void 0&&(Ee=void 0),q.key!==void 0&&(he=""+q.key),q)!ue.call(q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&q.ref===void 0||(ee[ve]=q[ve]);var ve=arguments.length-2;if(ve===1)ee.children=se;else if(1<ve){for(var Ze=Array(ve),xe=0;xe<ve;xe++)Ze[xe]=arguments[xe+2];ee.children=Ze}return V(A.type,he,void 0,void 0,Ee,ee)},je.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},je.createElement=function(A,q,se){var ee,he={},Ee=null;if(q!=null)for(ee in q.key!==void 0&&(Ee=""+q.key),q)ue.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=q[ee]);var ve=arguments.length-2;if(ve===1)he.children=se;else if(1<ve){for(var Ze=Array(ve),xe=0;xe<ve;xe++)Ze[xe]=arguments[xe+2];he.children=Ze}if(A&&A.defaultProps)for(ee in ve=A.defaultProps,ve)he[ee]===void 0&&(he[ee]=ve[ee]);return V(A,Ee,void 0,void 0,null,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(A){return{$$typeof:m,render:A}},je.isValidElement=D,je.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:te}},je.memo=function(A,q){return{$$typeof:y,type:A,compare:q===void 0?null:q}},je.startTransition=function(A){var q=ne.T,se={};ne.T=se;try{var ee=A(),he=ne.S;he!==null&&he(se,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(me,ce)}catch(Ee){ce(Ee)}finally{ne.T=q}},je.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},je.use=function(A){return ne.H.use(A)},je.useActionState=function(A,q,se){return ne.H.useActionState(A,q,se)},je.useCallback=function(A,q){return ne.H.useCallback(A,q)},je.useContext=function(A){return ne.H.useContext(A)},je.useDebugValue=function(){},je.useDeferredValue=function(A,q){return ne.H.useDeferredValue(A,q)},je.useEffect=function(A,q,se){var ee=ne.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(A,q)},je.useId=function(){return ne.H.useId()},je.useImperativeHandle=function(A,q,se){return ne.H.useImperativeHandle(A,q,se)},je.useInsertionEffect=function(A,q){return ne.H.useInsertionEffect(A,q)},je.useLayoutEffect=function(A,q){return ne.H.useLayoutEffect(A,q)},je.useMemo=function(A,q){return ne.H.useMemo(A,q)},je.useOptimistic=function(A,q){return ne.H.useOptimistic(A,q)},je.useReducer=function(A,q,se){return ne.H.useReducer(A,q,se)},je.useRef=function(A){return ne.H.useRef(A)},je.useState=function(A){return ne.H.useState(A)},je.useSyncExternalStore=function(A,q,se){return ne.H.useSyncExternalStore(A,q,se)},je.useTransition=function(){return ne.H.useTransition()},je.version="19.1.1",je}var d1;function Ig(){return d1||(d1=1,hp.exports=cx()),hp.exports}var M=Ig();const zi=jE(M);var dp={exports:{}},vc={},fp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function ux(){return f1||(f1=1,(function(t){function e(Z,te){var ce=Z.length;Z.push(te);e:for(;0<ce;){var me=ce-1>>>1,A=Z[me];if(0<s(A,te))Z[me]=te,Z[ce]=A,ce=me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var te=Z[0],ce=Z.pop();if(ce!==te){Z[0]=ce;e:for(var me=0,A=Z.length,q=A>>>1;me<q;){var se=2*(me+1)-1,ee=Z[se],he=se+1,Ee=Z[he];if(0>s(ee,ce))he<A&&0>s(Ee,ee)?(Z[me]=Ee,Z[he]=ce,me=he):(Z[me]=ee,Z[se]=ce,me=se);else if(he<A&&0>s(Ee,ce))Z[me]=Ee,Z[he]=ce,me=he;else break e}}return te}function s(Z,te){var ce=Z.sortIndex-te.sortIndex;return ce!==0?ce:Z.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var g=[],y=[],_=1,T=null,w=3,O=!1,L=!1,z=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(Z){for(var te=n(y);te!==null;){if(te.callback===null)i(y);else if(te.startTime<=Z)i(y),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(y)}}function ne(Z){if(z=!1,$(Z),!L)if(n(g)!==null)L=!0,ue||(ue=!0,P());else{var te=n(y);te!==null&&De(ne,te.startTime-Z)}}var ue=!1,V=-1,R=5,D=-1;function N(){return k?!0:!(t.unstable_now()-D<R)}function I(){if(k=!1,ue){var Z=t.unstable_now();D=Z;var te=!0;try{e:{L=!1,z&&(z=!1,Q(V),V=-1),O=!0;var ce=w;try{t:{for($(Z),T=n(g);T!==null&&!(T.expirationTime>Z&&N());){var me=T.callback;if(typeof me=="function"){T.callback=null,w=T.priorityLevel;var A=me(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof A=="function"){T.callback=A,$(Z),te=!0;break t}T===n(g)&&i(g),$(Z)}else i(g);T=n(g)}if(T!==null)te=!0;else{var q=n(y);q!==null&&De(ne,q.startTime-Z),te=!1}}break e}finally{T=null,w=ce,O=!1}te=void 0}}finally{te?P():ue=!1}}}var P;if(typeof G=="function")P=function(){G(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ye=C.port2;C.port1.onmessage=I,P=function(){ye.postMessage(null)}}else P=function(){F(I,0)};function De(Z,te){V=F(function(){Z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var ce=w;w=te;try{return Z()}finally{w=ce}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=w;w=Z;try{return te()}finally{w=ce}},t.unstable_scheduleCallback=function(Z,te,ce){var me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,Z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ce+A,Z={id:_++,callback:te,priorityLevel:Z,startTime:ce,expirationTime:A,sortIndex:-1},ce>me?(Z.sortIndex=ce,e(y,Z),n(g)===null&&Z===n(y)&&(z?(Q(V),V=-1):z=!0,De(ne,ce-me))):(Z.sortIndex=A,e(g,Z),L||O||(L=!0,ue||(ue=!0,P()))),Z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Z){var te=w;return function(){var ce=w;w=te;try{return Z.apply(this,arguments)}finally{w=ce}}}})(mp)),mp}var m1;function hx(){return m1||(m1=1,fp.exports=ux()),fp.exports}var pp={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function dx(){if(p1)return mn;p1=1;var t=Ig();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,y,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:g,containerInfo:y,implementation:_}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},mn.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},mn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},mn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},mn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,T=m(_,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):_==="script"&&i.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},mn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,T=m(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},mn.requestFormReset=function(g){i.d.r(g)},mn.unstable_batchedUpdates=function(g,y){return g(y)},mn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var g1;function fx(){if(g1)return pp.exports;g1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=dx(),pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function mx(){if(y1)return vc;y1=1;var t=hx(),e=Ig(),n=fx();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function h(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(c(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=c(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,l=a;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),r;if(p===l)return m(d),a;p=p.sibling}throw Error(i(188))}if(o.return!==l.return)o=d,l=p;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,l=p;break}if(S===l){E=!0,l=d,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,l=d;break}if(S===l){E=!0,l=p,o=d;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case ne:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case G:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return a=r.displayName||null,a!==null?a:ye(r.type)||"Memo";case R:a=r._payload,r=r._init;try{return ye(r(a))}catch{}}return null}var De=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],A=-1;function q(r){return{current:r}}function se(r){0>A||(r.current=me[A],me[A]=null,A--)}function ee(r,a){A++,me[A]=r.current,r.current=a}var he=q(null),Ee=q(null),ve=q(null),Ze=q(null);function xe(r,a){switch(ee(ve,a),ee(Ee,r),ee(he,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?P0(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=P0(a),r=L0(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(he),ee(he,r)}function Nt(){se(he),se(Ee),se(ve)}function Kn(r){r.memoizedState!==null&&ee(Ze,r);var a=he.current,o=L0(a,r.type);a!==o&&(ee(Ee,r),ee(he,o))}function kn(r){Ee.current===r&&(se(he),se(Ee)),Ze.current===r&&(se(Ze),dc._currentValue=ce)}var Qn=Object.prototype.hasOwnProperty,gr=t.unstable_scheduleCallback,ct=t.unstable_cancelCallback,yr=t.unstable_shouldYield,Zt=t.unstable_requestPaint,Jt=t.unstable_now,Ks=t.unstable_getCurrentPriorityLevel,Xi=t.unstable_ImmediatePriority,Zi=t.unstable_UserBlockingPriority,ui=t.unstable_NormalPriority,vl=t.unstable_LowPriority,hi=t.unstable_IdlePriority,Ka=t.log,Qs=t.unstable_setDisableYieldValue,gt=null,We=null;function bn(r){if(typeof Ka=="function"&&Qs(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,r)}catch{}}var Ot=Math.clz32?Math.clz32:di,Qa=Math.log,Ws=Math.LN2;function di(r){return r>>>=0,r===0?32:31-(Qa(r)/Ws|0)|0}var Wn=256,Vr=4194304;function Vn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fi(r,a,o){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?d=Vn(l):(E&=S,E!==0?d=Vn(E):o||(o=S&~r,o!==0&&(d=Vn(o))))):(S=l&~p,S!==0?d=Vn(S):E!==0?d=Vn(E):o||(o=l&~r,o!==0&&(d=Vn(o)))),d===0?0:a!==0&&a!==d&&(a&p)===0&&(p=d&-d,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:d}function Mr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function mi(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var r=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),r}function Ji(){var r=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),r}function vr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Xn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function jt(r,a,o,l,d,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,j=r.expirationTimes,K=r.hiddenUpdates;for(o=E&~o;0<o;){var re=31-Ot(o),oe=1<<re;S[re]=0,j[re]=-1;var W=K[re];if(W!==null)for(K[re]=null,re=0;re<W.length;re++){var X=W[re];X!==null&&(X.lane&=-536870913)}o&=~oe}l!==0&&mt(r,l,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~a))}function mt(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var l=31-Ot(a);r.entangledLanes|=a,r.entanglements[l]=r.entanglements[l]|1073741824|o&4194090}function Pr(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var l=31-Ot(o),d=1<<l;d&a|r[l]&a&&(r[l]|=a),o&=~d}}function Ke(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function en(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Lr(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:r1(r.type))}function ea(r,a){var o=te.p;try{return te.p=r,a()}finally{te.p=o}}var ut=Math.random().toString(36).slice(2),St="__reactFiber$"+ut,yt="__reactProps$"+ut,tn="__reactContainer$"+ut,pi="__reactEvents$"+ut,Xa="__reactListeners$"+ut,Zn="__reactHandles$"+ut,Xs="__reactResources$"+ut,_r="__reactMarker$"+ut;function br(r){delete r[St],delete r[yt],delete r[pi],delete r[Xa],delete r[Zn]}function Er(r){var a=r[St];if(a)return a;for(var o=r.parentNode;o;){if(a=o[tn]||o[St]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=F0(r);r!==null;){if(o=r[St])return o;r=F0(r)}return a}r=o,o=r.parentNode}return null}function Jn(r){if(r=r[St]||r[tn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Re(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Ve(r){var a=r[Xs];return a||(a=r[Xs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Oe(r){r[_r]=!0}var nn=new Set,Gt={};function En(r,a){Tr(r,a),Tr(r+"Capture",a)}function Tr(r,a){for(Gt[r]=a,r=0;r<a.length;r++)nn.add(a[r])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},Za={};function cu(r){return Qn.call(Za,r)?!0:Qn.call(lu,r)?!1:Zs.test(r)?Za[r]=!0:(lu[r]=!0,!1)}function ta(r,a,o){if(cu(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Ur(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function rn(r,a,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+l)}}var Ja,uu;function gi(r){if(Ja===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Ja=a&&a[1]||"",uu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+r+uu}var Js=!1;function eo(r,a){if(!r||Js)return"";Js=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(X){var W=X}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(X){W=X}r.call(oe.prototype)}}else{try{throw Error()}catch(X){W=X}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var j=E.split(`
`),K=S.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===K.length)for(l=j.length-1,d=K.length-1;1<=l&&0<=d&&j[l]!==K[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==K[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==K[d]){var re=`
`+j[l].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=l&&0<=d);break}}}finally{Js=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?gi(o):""}function _l(r){switch(r.tag){case 26:case 27:case 5:return gi(r.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return eo(r.type,!1);case 11:return eo(r.type.render,!1);case 1:return eo(r.type,!0);case 31:return gi("Activity");default:return""}}function to(r){try{var a="";do a+=_l(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mf(r){var a=bl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),l=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function no(r){r._valueTracker||(r._valueTracker=mf(r))}function El(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),l="";return r&&(l=bl(r)?r.checked?"true":"false":r.value),r=l,r!==o?(a.setValue(r),!0):!1}function es(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pf=/[\n"\\]/g;function kt(r){return r.replace(pf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Mn(r,a,o,l,d,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Tn(a)):r.value!==""+Tn(a)&&(r.value=""+Tn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?na(r,E,Tn(a)):o!=null?na(r,E,Tn(o)):l!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Tn(S):r.removeAttribute("name")}function ts(r,a,o,l,d,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+Tn(o):"",a=a!=null?""+Tn(a):o,S||a===r.value||(r.value=a),r.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=S?r.checked:!!l,r.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function na(r,a,o){a==="number"&&es(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function yi(r,a,o,l){if(r=r.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=a.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&l&&(r[o].defaultSelected=!0)}else{for(o=""+Tn(o),a=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,l&&(r[d].defaultSelected=!0);return}a!==null||r[d].disabled||(a=r[d])}a!==null&&(a.selected=!0)}}function at(r,a,o){if(a!=null&&(a=""+Tn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Tn(o):""}function ns(r,a,o,l){if(a==null){if(l!=null){if(o!=null)throw Error(i(92));if(De(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),a=o}o=Tn(a),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l)}function er(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(r,a,o){var l=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":l?r.setProperty(a,o):typeof o!="number"||o===0||rs.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Tl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&o[d]!==l&&hu(r,d,l)}else for(var p in a)a.hasOwnProperty(p)&&hu(r,p,a[p])}function wl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(r){return yf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _i=null,bi=null;function Sl(r){var a=Jn(r);if(a&&(r=a.stateNode)){var o=r[yt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Mn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var l=o[a];if(l!==r&&l.form===r.form){var d=l[yt]||null;if(!d)throw Error(i(90));Mn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)l=o[a],l.form===r.form&&El(l)}break e;case"textarea":at(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&yi(r,!!o.multiple,a,!1)}}}var zr=!1;function du(r,a,o){if(zr)return r(a,o);zr=!0;try{var l=r(a);return l}finally{if(zr=!1,(_i!==null||bi!==null)&&(ah(),_i&&(a=_i,r=bi,bi=_i=null,Sl(a),r)))for(a=0;a<r.length;a++)Sl(r[a])}}function is(r,a){var o=r.stateNode;if(o===null)return null;var l=o[yt]||null;if(l===null)return null;o=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(wr)try{var as={};Object.defineProperty(as,"passive",{get:function(){nr=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{nr=!1}var Br=null,ra=null,Ei=null;function Al(){if(Ei)return Ei;var r,a=ra,o=a.length,l,d="value"in Br?Br.value:Br.textContent,p=d.length;for(r=0;r<o&&a[r]===d[r];r++);var E=o-r;for(l=1;l<=E&&a[o-l]===d[p-l];l++);return Ei=d.slice(r,1<l?1-l:void 0)}function Fr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function qr(){return!0}function xl(){return!1}function $t(r){function a(o,l,d,p,E){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qr:xl,this.isPropagationStopped=xl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=$t(Je),ss=_({},Je,{view:0,detail:0}),fu=$t(ss),ao,so,Hr,os=_({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(ao=r.screenX-Hr.screenX,so=r.screenY-Hr.screenY):so=ao=0,Hr=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:so}}),rr=$t(os),mu=_({},os,{dataTransfer:0}),vf=$t(mu),ls=_({},ss,{relatedTarget:0}),oo=$t(ls),Rl=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=$t(Rl),pu=_({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),co=$t(pu),_f=_({},Je,{data:0}),Nl=$t(_f),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=yu[r])?!!a[r]:!1}function us(){return Cl}var vu=_({},ss,{key:function(r){if(r.key){var a=cs[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(r){return r.type==="keypress"?Fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uo=$t(vu),_u=_({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=$t(_u),Ti=_({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),bu=$t(Ti),Eu=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=$t(Eu),wu=_({},os,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ho=$t(wu),wn=_({},Je,{newState:0,oldState:0}),Su=$t(wn),Au=[9,13,27,32],Gr=wr&&"CompositionEvent"in window,u=null;wr&&"documentMode"in document&&(u=document.documentMode);var v=wr&&"TextEvent"in window&&!u,b=wr&&(!Gr||u&&8<u&&11>=u),x=" ",H=!1;function J(r,a){switch(r){case"keyup":return Au.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qe=!1;function zt(r,a){switch(r){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(H=!0,x);case"textInput":return r=a.data,r===x&&H?null:r;default:return null}}function He(r,a){if(qe)return r==="compositionend"||!Gr&&J(r,a)?(r=Al(),Ei=ra=Br=null,qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Yt[r.type]:a==="textarea"}function wi(r,a,o,l){_i?bi?bi.push(l):bi=[l]:_i=l,a=hh(a,"onChange"),0<a.length&&(o=new io("onChange","change",null,o,l),r.push({event:o,listeners:a}))}var an=null,$r=null;function Dl(r){O0(r,0)}function xu(r){var a=Re(r);if(El(a))return r}function Jy(r,a){if(r==="change")return a}var ev=!1;if(wr){var bf;if(wr){var Ef="oninput"in document;if(!Ef){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Ef=typeof tv.oninput=="function"}bf=Ef}else bf=!1;ev=bf&&(!document.documentMode||9<document.documentMode)}function nv(){an&&(an.detachEvent("onpropertychange",rv),$r=an=null)}function rv(r){if(r.propertyName==="value"&&xu($r)){var a=[];wi(a,$r,r,tr(r)),du(Dl,a)}}function PS(r,a,o){r==="focusin"?(nv(),an=a,$r=o,an.attachEvent("onpropertychange",rv)):r==="focusout"&&nv()}function LS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu($r)}function US(r,a){if(r==="click")return xu(a)}function zS(r,a){if(r==="input"||r==="change")return xu(a)}function BS(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Pn=typeof Object.is=="function"?Object.is:BS;function Ol(r,a){if(Pn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),l=Object.keys(a);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!Qn.call(a,d)||!Pn(r[d],a[d]))return!1}return!0}function iv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function av(r,a){var o=iv(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=a&&l>=a)return{node:o,offset:a-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=iv(o)}}function sv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?sv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function ov(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=es(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=es(r.document)}return a}function Tf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var FS=wr&&"documentMode"in document&&11>=document.documentMode,fo=null,wf=null,jl=null,Sf=!1;function lv(r,a,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sf||fo==null||fo!==es(l)||(l=fo,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Ol(jl,l)||(jl=l,l=hh(wf,"onSelect"),0<l.length&&(a=new io("onSelect","select",null,a,o),r.push({event:a,listeners:l}),a.target=fo)))}function hs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var mo={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Af={},cv={};wr&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ds(r){if(Af[r])return Af[r];if(!mo[r])return r;var a=mo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in cv)return Af[r]=a[o];return r}var uv=ds("animationend"),hv=ds("animationiteration"),dv=ds("animationstart"),qS=ds("transitionrun"),HS=ds("transitionstart"),GS=ds("transitioncancel"),fv=ds("transitionend"),mv=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Sr(r,a){mv.set(r,a),En(a,[r])}var pv=new WeakMap;function ir(r,a){if(typeof r=="object"&&r!==null){var o=pv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:to(a)},pv.set(r,a),a)}return{value:r,source:a,stack:to(a)}}var ar=[],po=0,Rf=0;function Ru(){for(var r=po,a=Rf=po=0;a<r;){var o=ar[a];ar[a++]=null;var l=ar[a];ar[a++]=null;var d=ar[a];ar[a++]=null;var p=ar[a];if(ar[a++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}p!==0&&gv(o,d,p)}}function Nu(r,a,o,l){ar[po++]=r,ar[po++]=a,ar[po++]=o,ar[po++]=l,Rf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Nf(r,a,o,l){return Nu(r,a,o,l),Cu(r)}function go(r,a){return Nu(r,null,null,a),Cu(r)}function gv(r,a,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&a!==null&&(d=31-Ot(o),r=p.hiddenUpdates,l=r[d],l===null?r[d]=[a]:l.push(a),a.lane=o|536870912),p):null}function Cu(r){if(50<ic)throw ic=0,km=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var yo={};function $S(r,a,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,a,o,l){return new $S(r,a,o,l)}function Cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,a){var o=r.alternate;return o===null?(o=Ln(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function yv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Iu(r,a,o,l,d,p){var E=0;if(l=r,typeof r=="function")Cf(r)&&(E=1);else if(typeof r=="string")E=KA(r,o,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Ln(31,o,a,d),r.elementType=D,r.lanes=p,r;case L:return fs(o.children,d,p,a);case z:E=8,d|=24;break;case k:return r=Ln(12,o,a,d|2),r.elementType=k,r.lanes=p,r;case ne:return r=Ln(13,o,a,d),r.elementType=ne,r.lanes=p,r;case ue:return r=Ln(19,o,a,d),r.elementType=ue,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case G:E=10;break e;case Q:E=9;break e;case $:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),l=null}return a=Ln(E,o,a,d),a.elementType=r,a.type=l,a.lanes=p,a}function fs(r,a,o,l){return r=Ln(7,r,l,a),r.lanes=o,r}function If(r,a,o){return r=Ln(6,r,null,a),r.lanes=o,r}function Df(r,a,o){return a=Ln(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var vo=[],_o=0,Du=null,Ou=0,sr=[],or=0,ms=null,Ai=1,xi="";function ps(r,a){vo[_o++]=Ou,vo[_o++]=Du,Du=r,Ou=a}function vv(r,a,o){sr[or++]=Ai,sr[or++]=xi,sr[or++]=ms,ms=r;var l=Ai;r=xi;var d=32-Ot(l)-1;l&=~(1<<d),o+=1;var p=32-Ot(a)+d;if(30<p){var E=d-d%5;p=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Ai=1<<32-Ot(a)+d|o<<d|l,xi=p+r}else Ai=1<<p|o<<d|l,xi=r}function Of(r){r.return!==null&&(ps(r,1),vv(r,1,0))}function jf(r){for(;r===Du;)Du=vo[--_o],vo[_o]=null,Ou=vo[--_o],vo[_o]=null;for(;r===ms;)ms=sr[--or],sr[or]=null,xi=sr[--or],sr[or]=null,Ai=sr[--or],sr[or]=null}var Sn=null,At=null,Xe=!1,gs=null,Yr=!1,kf=Error(i(519));function ys(r){var a=Error(i(418,""));throw Ml(ir(a,r)),kf}function _v(r){var a=r.stateNode,o=r.type,l=r.memoizedProps;switch(a[St]=r,a[yt]=l,o){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(o=0;o<sc.length;o++)Le(sc[o],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),ts(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),no(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),ns(a,l.value,l.defaultValue,l.children),no(a)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||l.suppressHydrationWarning===!0||M0(a.textContent,o)?(l.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),l.onScroll!=null&&Le("scroll",a),l.onScrollEnd!=null&&Le("scrollend",a),l.onClick!=null&&(a.onclick=dh),a=!0):a=!1,a||ys(r)}function bv(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Sn=Sn.return}}function kl(r){if(r!==Sn)return!1;if(!Xe)return bv(r),Xe=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Wm(r.type,r.memoizedProps)),o=!o),o&&At&&ys(r),bv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){At=xr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}At=null}}else a===27?(a=At,_a(r.type)?(r=ep,ep=null,At=r):At=a):At=Sn?xr(r.stateNode.nextSibling):null;return!0}function Vl(){At=Sn=null,Xe=!1}function Ev(){var r=gs;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),gs=null),r}function Ml(r){gs===null?gs=[r]:gs.push(r)}var Vf=q(null),vs=null,Ri=null;function ia(r,a,o){ee(Vf,a._currentValue),a._currentValue=o}function Ni(r){r._currentValue=Vf.current,se(Vf)}function Mf(r,a,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),r===o)break;r=r.return}}function Pf(r,a,o,l){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var E=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var j=0;j<a.length;j++)if(S.context===a[j]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Mf(p.return,o,r),l||(E=null);break e}p=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Mf(E,o,r),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===r){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Pl(r,a,o,l){r=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=d.type;Pn(d.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(d===Ze.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(dc):r=[dc])}d=d.return}r!==null&&Pf(a,r,o,l),a.flags|=262144}function ju(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _s(r){vs=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function fn(r){return Tv(vs,r)}function ku(r,a){return vs===null&&_s(r),Tv(r,a)}function Tv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ri===null){if(r===null)throw Error(i(308));Ri=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ri=Ri.next=a;return o}var YS=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},KS=t.unstable_scheduleCallback,QS=t.unstable_NormalPriority,Ft={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new YS,data:new Map,refCount:0}}function Ll(r){r.refCount--,r.refCount===0&&KS(QS,function(){r.controller.abort()})}var Ul=null,Uf=0,bo=0,Eo=null;function WS(r,a){if(Ul===null){var o=Ul=[];Uf=0,bo=Bm(),Eo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Uf++,a.then(wv,wv),a}function wv(){if(--Uf===0&&Ul!==null){Eo!==null&&(Eo.status="fulfilled");var r=Ul;Ul=null,bo=0,Eo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function XS(r,a){var o=[],l={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),l}var Sv=Z.S;Z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&WS(r,a),Sv!==null&&Sv(r,a)};var bs=q(null);function zf(){var r=bs.current;return r!==null?r:dt.pooledCache}function Vu(r,a){a===null?ee(bs,bs.current):ee(bs,a.pool)}function Av(){var r=zf();return r===null?null:{parent:Ft._currentValue,pool:r}}var zl=Error(i(460)),xv=Error(i(474)),Mu=Error(i(542)),Bf={then:function(){}};function Rv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pu(){}function Nv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Pu,Pu),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Iv(r),r;default:if(typeof a.status=="string")a.then(Pu,Pu);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Iv(r),r}throw Bl=a,zl}}var Bl=null;function Cv(){if(Bl===null)throw Error(i(459));var r=Bl;return Bl=null,r}function Iv(r){if(r===zl||r===Mu)throw Error(i(483))}var aa=!1;function Ff(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function sa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,a,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=Cu(r),gv(r,null,o),a}return Nu(r,l,a,o),Cu(r)}function Fl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var l=a.lanes;l&=r.pendingLanes,o|=l,a.lanes=o,Pr(r,o)}}function Hf(r,a){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?d=p=a:p=p.next=a}else d=p=a;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Gf=!1;function ql(){if(Gf){var r=Eo;if(r!==null)throw r}}function Hl(r,a,o,l){Gf=!1;var d=r.updateQueue;aa=!1;var p=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,K=j.next;j.next=null,E===null?p=K:E.next=K,E=j;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==E&&(S===null?re.firstBaseUpdate=K:S.next=K,re.lastBaseUpdate=j))}if(p!==null){var oe=d.baseState;E=0,re=K=j=null,S=p;do{var W=S.lane&-536870913,X=W!==S.lane;if(X?(Ge&W)===W:(l&W)===W){W!==0&&W===bo&&(Gf=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=r,Te=S;W=a;var lt=o;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){oe=Ae.call(lt,oe,W);break e}oe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,W=typeof Ae=="function"?Ae.call(lt,oe,W):Ae,W==null)break e;oe=_({},oe,W);break e;case 2:aa=!0}}W=S.callback,W!==null&&(r.flags|=64,X&&(r.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(K=re=X,j=oe):re=re.next=X,E|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);re===null&&(j=oe),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=re,p===null&&(d.shared.lanes=0),pa|=E,r.lanes=E,r.memoizedState=oe}}function Dv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Ov(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Dv(o[r],a)}var To=q(null),Lu=q(0);function jv(r,a){r=Vi,ee(Lu,r),ee(To,a),Vi=r|a.baseLanes}function $f(){ee(Lu,Vi),ee(To,To.current)}function Yf(){Vi=Lu.current,se(To),se(Lu)}var la=0,ke=null,st=null,Vt=null,Uu=!1,wo=!1,Es=!1,zu=0,Gl=0,So=null,ZS=0;function Ct(){throw Error(i(321))}function Kf(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Pn(r[o],a[o]))return!1;return!0}function Qf(r,a,o,l,d,p){return la=p,ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=r===null||r.memoizedState===null?g_:y_,Es=!1,p=o(l,d),Es=!1,wo&&(p=Vv(a,o,l,d)),kv(r),p}function kv(r){Z.H=$u;var a=st!==null&&st.next!==null;if(la=0,Vt=st=ke=null,Uu=!1,Gl=0,So=null,a)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&ju(r)&&(Kt=!0))}function Vv(r,a,o,l){ke=r;var d=0;do{if(wo&&(So=null),Gl=0,wo=!1,25<=d)throw Error(i(301));if(d+=1,Vt=st=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=aA,p=a(o,l)}while(wo);return p}function JS(){var r=Z.H,a=r.useState()[0];return a=typeof a.then=="function"?$l(a):a,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(ke.flags|=1024),a}function Wf(){var r=zu!==0;return zu=0,r}function Xf(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Zf(r){if(Uu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Uu=!1}la=0,Vt=st=ke=null,wo=!1,Gl=zu=0,So=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ke.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Mt(){if(st===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var a=Vt===null?ke.memoizedState:Vt.next;if(a!==null)Vt=a,st=r;else{if(r===null)throw ke.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?ke.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(r){var a=Gl;return Gl+=1,So===null&&(So=[]),r=Nv(So,r,a),a=ke,(Vt===null?a.memoizedState:Vt.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?g_:y_),r}function Bu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $l(r);if(r.$$typeof===G)return fn(r)}throw Error(i(438,String(r)))}function em(r){var a=null,o=ke.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Jf(),ke.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),l=0;l<r;l++)o[l]=N;return a.index++,o}function Ci(r,a){return typeof a=="function"?a(r):a}function Fu(r){var a=Mt();return tm(a,st,r)}function tm(r,a,o){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var d=r.baseQueue,p=l.pending;if(p!==null){if(d!==null){var E=d.next;d.next=p.next,p.next=E}a.baseQueue=d=p,l.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{a=d.next;var S=E=null,j=null,K=a,re=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Ge&oe)===oe:(la&oe)===oe){var W=K.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===bo&&(re=!0);else if((la&W)===W){K=K.next,W===bo&&(re=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=oe,E=p):j=j.next=oe,ke.lanes|=W,pa|=W;oe=K.action,Es&&o(p,oe),p=K.hasEagerState?K.eagerState:o(p,oe)}else W={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=W,E=p):j=j.next=W,ke.lanes|=oe,pa|=oe;K=K.next}while(K!==null&&K!==a);if(j===null?E=p:j.next=S,!Pn(p,r.memoizedState)&&(Kt=!0,re&&(o=Eo,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=j,l.lastRenderedState=p}return d===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function nm(r){var a=Mt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var l=o.dispatch,d=o.pending,p=a.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do p=r(p,E.action),E=E.next;while(E!==d);Pn(p,a.memoizedState)||(Kt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,l]}function Mv(r,a,o){var l=ke,d=Mt(),p=Xe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Pn((st||d).memoizedState,o);E&&(d.memoizedState=o,Kt=!0),d=d.queue;var S=Uv.bind(null,l,d,r);if(Yl(2048,8,S,[r]),d.getSnapshot!==a||E||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Ao(9,qu(),Lv.bind(null,l,d,o,a),null),dt===null)throw Error(i(349));p||(la&124)!==0||Pv(l,a,o)}return o}function Pv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=ke.updateQueue,a===null?(a=Jf(),ke.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Lv(r,a,o,l){a.value=o,a.getSnapshot=l,zv(a)&&Bv(r)}function Uv(r,a,o){return o(function(){zv(a)&&Bv(r)})}function zv(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Pn(r,o)}catch{return!0}}function Bv(r){var a=go(r,2);a!==null&&qn(a,r,2)}function rm(r){var a=An();if(typeof r=="function"){var o=r;if(r=o(),Es){bn(!0);try{o()}finally{bn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},a}function Fv(r,a,o,l){return r.baseState=o,tm(r,st,typeof l=="function"?l:Ci)}function eA(r,a,o,l,d){if(Gu(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?o(!0):p.isTransition=!1,l(p),o=a.pending,o===null?(p.next=a.pending=p,qv(a,p)):(p.next=o.next,a.pending=o.next=p)}}function qv(r,a){var o=a.action,l=a.payload,d=r.state;if(a.isTransition){var p=Z.T,E={};Z.T=E;try{var S=o(d,l),j=Z.S;j!==null&&j(E,S),Hv(r,a,S)}catch(K){im(r,a,K)}finally{Z.T=p}}else try{p=o(d,l),Hv(r,a,p)}catch(K){im(r,a,K)}}function Hv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Gv(r,a,l)},function(l){return im(r,a,l)}):Gv(r,a,o)}function Gv(r,a,o){a.status="fulfilled",a.value=o,$v(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,qv(r,o)))}function im(r,a,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=o,$v(a),a=a.next;while(a!==l)}r.action=null}function $v(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Yv(r,a){return a}function Kv(r,a){if(Xe){var o=dt.formState;if(o!==null){e:{var l=ke;if(Xe){if(At){t:{for(var d=At,p=Yr;d.nodeType!==8;){if(!p){d=null;break t}if(d=xr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){At=xr(d.nextSibling),l=d.data==="F!";break e}}ys(l)}l=!1}l&&(a=o[0])}}return o=An(),o.memoizedState=o.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:a},o.queue=l,o=f_.bind(null,ke,l),l.dispatch=o,l=rm(!1),p=cm.bind(null,ke,!1,l.queue),l=An(),d={state:a,dispatch:null,action:r,pending:null},l.queue=d,o=eA.bind(null,ke,d,p,o),d.dispatch=o,l.memoizedState=r,[a,o,!1]}function Qv(r){var a=Mt();return Wv(a,st,r)}function Wv(r,a,o){if(a=tm(r,a,Yv)[0],r=Fu(Ci)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=$l(a)}catch(E){throw E===zl?Mu:E}else l=a;a=Mt();var d=a.queue,p=d.dispatch;return o!==a.memoizedState&&(ke.flags|=2048,Ao(9,qu(),tA.bind(null,d,o),null)),[l,p,r]}function tA(r,a){r.action=a}function Xv(r){var a=Mt(),o=st;if(o!==null)return Wv(a,o,r);Mt(),a=a.memoizedState,o=Mt();var l=o.queue.dispatch;return o.memoizedState=r,[a,l,!1]}function Ao(r,a,o,l){return r={tag:r,create:o,deps:l,inst:a,next:null},a=ke.updateQueue,a===null&&(a=Jf(),ke.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,a.lastEffect=r),r}function qu(){return{destroy:void 0,resource:void 0}}function Zv(){return Mt().memoizedState}function Hu(r,a,o,l){var d=An();l=l===void 0?null:l,ke.flags|=r,d.memoizedState=Ao(1|a,qu(),o,l)}function Yl(r,a,o,l){var d=Mt();l=l===void 0?null:l;var p=d.memoizedState.inst;st!==null&&l!==null&&Kf(l,st.memoizedState.deps)?d.memoizedState=Ao(a,p,o,l):(ke.flags|=r,d.memoizedState=Ao(1|a,p,o,l))}function Jv(r,a){Hu(8390656,8,r,a)}function e_(r,a){Yl(2048,8,r,a)}function t_(r,a){return Yl(4,2,r,a)}function n_(r,a){return Yl(4,4,r,a)}function r_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function i_(r,a,o){o=o!=null?o.concat([r]):null,Yl(4,4,r_.bind(null,a,r),o)}function am(){}function a_(r,a){var o=Mt();a=a===void 0?null:a;var l=o.memoizedState;return a!==null&&Kf(a,l[1])?l[0]:(o.memoizedState=[r,a],r)}function s_(r,a){var o=Mt();a=a===void 0?null:a;var l=o.memoizedState;if(a!==null&&Kf(a,l[1]))return l[0];if(l=r(),Es){bn(!0);try{r()}finally{bn(!1)}}return o.memoizedState=[l,a],l}function sm(r,a,o){return o===void 0||(la&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=c0(),ke.lanes|=r,pa|=r,o)}function o_(r,a,o,l){return Pn(o,a)?o:To.current!==null?(r=sm(r,o,l),Pn(r,a)||(Kt=!0),r):(la&42)===0?(Kt=!0,r.memoizedState=o):(r=c0(),ke.lanes|=r,pa|=r,a)}function l_(r,a,o,l,d){var p=te.p;te.p=p!==0&&8>p?p:8;var E=Z.T,S={};Z.T=S,cm(r,!1,a,o);try{var j=d(),K=Z.S;if(K!==null&&K(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=XS(j,l);Kl(r,a,re,Fn(r))}else Kl(r,a,l,Fn(r))}catch(oe){Kl(r,a,{then:function(){},status:"rejected",reason:oe},Fn())}finally{te.p=p,Z.T=E}}function nA(){}function om(r,a,o,l){if(r.tag!==5)throw Error(i(476));var d=c_(r).queue;l_(r,d,a,ce,o===null?nA:function(){return u_(r),o(l)})}function c_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ce},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function u_(r){var a=c_(r).next.queue;Kl(r,a,{},Fn())}function lm(){return fn(dc)}function h_(){return Mt().memoizedState}function d_(){return Mt().memoizedState}function rA(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Fn();r=sa(o);var l=oa(a,r,o);l!==null&&(qn(l,a,o),Fl(l,a,o)),a={cache:Lf()},r.payload=a;return}a=a.return}}function iA(r,a,o){var l=Fn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(r)?m_(a,o):(o=Nf(r,a,o,l),o!==null&&(qn(o,r,l),p_(o,a,l)))}function f_(r,a,o){var l=Fn();Kl(r,a,o,l)}function Kl(r,a,o,l){var d={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gu(r))m_(a,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,S=p(E,o);if(d.hasEagerState=!0,d.eagerState=S,Pn(S,E))return Nu(r,a,d,0),dt===null&&Ru(),!1}catch{}finally{}if(o=Nf(r,a,d,l),o!==null)return qn(o,r,l),p_(o,a,l),!0}return!1}function cm(r,a,o,l){if(l={lane:2,revertLane:Bm(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(r)){if(a)throw Error(i(479))}else a=Nf(r,o,l,2),a!==null&&qn(a,r,2)}function Gu(r){var a=r.alternate;return r===ke||a!==null&&a===ke}function m_(r,a){wo=Uu=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function p_(r,a,o){if((o&4194048)!==0){var l=a.lanes;l&=r.pendingLanes,o|=l,a.lanes=o,Pr(r,o)}}var $u={readContext:fn,use:Bu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},g_={readContext:fn,use:Bu,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:fn,useEffect:Jv,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Hu(4194308,4,r_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Hu(4194308,4,r,a)},useInsertionEffect:function(r,a){Hu(4,2,r,a)},useMemo:function(r,a){var o=An();a=a===void 0?null:a;var l=r();if(Es){bn(!0);try{r()}finally{bn(!1)}}return o.memoizedState=[l,a],l},useReducer:function(r,a,o){var l=An();if(o!==void 0){var d=o(a);if(Es){bn(!0);try{o(a)}finally{bn(!1)}}}else d=a;return l.memoizedState=l.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},l.queue=r,r=r.dispatch=iA.bind(null,ke,r),[l.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:function(r){r=rm(r);var a=r.queue,o=f_.bind(null,ke,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:am,useDeferredValue:function(r,a){var o=An();return sm(o,r,a)},useTransition:function(){var r=rm(!1);return r=l_.bind(null,ke,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var l=ke,d=An();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),dt===null)throw Error(i(349));(Ge&124)!==0||Pv(l,a,o)}d.memoizedState=o;var p={value:o,getSnapshot:a};return d.queue=p,Jv(Uv.bind(null,l,p,r),[r]),l.flags|=2048,Ao(9,qu(),Lv.bind(null,l,p,o,a),null),o},useId:function(){var r=An(),a=dt.identifierPrefix;if(Xe){var o=xi,l=Ai;o=(l&~(1<<32-Ot(l)-1)).toString(32)+o,a="«"+a+"R"+o,o=zu++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=ZS++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:lm,useFormState:Kv,useActionState:Kv,useOptimistic:function(r){var a=An();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=cm.bind(null,ke,!0,o),o.dispatch=a,[r,a]},useMemoCache:em,useCacheRefresh:function(){return An().memoizedState=rA.bind(null,ke)}},y_={readContext:fn,use:Bu,useCallback:a_,useContext:fn,useEffect:e_,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:s_,useReducer:Fu,useRef:Zv,useState:function(){return Fu(Ci)},useDebugValue:am,useDeferredValue:function(r,a){var o=Mt();return o_(o,st.memoizedState,r,a)},useTransition:function(){var r=Fu(Ci)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:$l(r),a]},useSyncExternalStore:Mv,useId:h_,useHostTransitionStatus:lm,useFormState:Qv,useActionState:Qv,useOptimistic:function(r,a){var o=Mt();return Fv(o,st,r,a)},useMemoCache:em,useCacheRefresh:d_},aA={readContext:fn,use:Bu,useCallback:a_,useContext:fn,useEffect:e_,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:s_,useReducer:nm,useRef:Zv,useState:function(){return nm(Ci)},useDebugValue:am,useDeferredValue:function(r,a){var o=Mt();return st===null?sm(o,r,a):o_(o,st.memoizedState,r,a)},useTransition:function(){var r=nm(Ci)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:$l(r),a]},useSyncExternalStore:Mv,useId:h_,useHostTransitionStatus:lm,useFormState:Xv,useActionState:Xv,useOptimistic:function(r,a){var o=Mt();return st!==null?Fv(o,st,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:em,useCacheRefresh:d_},xo=null,Ql=0;function Yu(r){var a=Ql;return Ql+=1,xo===null&&(xo=[]),Nv(xo,r,a)}function Wl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ku(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function v_(r){var a=r._init;return a(r._payload)}function __(r){function a(B,U){if(r){var Y=B.deletions;Y===null?(B.deletions=[U],B.flags|=16):Y.push(U)}}function o(B,U){if(!r)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function d(B,U){return B=Si(B,U),B.index=0,B.sibling=null,B}function p(B,U,Y){return B.index=Y,r?(Y=B.alternate,Y!==null?(Y=Y.index,Y<U?(B.flags|=67108866,U):Y):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,Y,ae){return U===null||U.tag!==6?(U=If(Y,B.mode,ae),U.return=B,U):(U=d(U,Y),U.return=B,U)}function j(B,U,Y,ae){var ge=Y.type;return ge===L?re(B,U,Y.props.children,ae,Y.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&v_(ge)===U.type)?(U=d(U,Y.props),Wl(U,Y),U.return=B,U):(U=Iu(Y.type,Y.key,Y.props,null,B.mode,ae),Wl(U,Y),U.return=B,U)}function K(B,U,Y,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Df(Y,B.mode,ae),U.return=B,U):(U=d(U,Y.children||[]),U.return=B,U)}function re(B,U,Y,ae,ge){return U===null||U.tag!==7?(U=fs(Y,B.mode,ae,ge),U.return=B,U):(U=d(U,Y),U.return=B,U)}function oe(B,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=If(""+U,B.mode,Y),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return Y=Iu(U.type,U.key,U.props,null,B.mode,Y),Wl(Y,U),Y.return=B,Y;case O:return U=Df(U,B.mode,Y),U.return=B,U;case R:var ae=U._init;return U=ae(U._payload),oe(B,U,Y)}if(De(U)||P(U))return U=fs(U,B.mode,Y,null),U.return=B,U;if(typeof U.then=="function")return oe(B,Yu(U),Y);if(U.$$typeof===G)return oe(B,ku(B,U),Y);Ku(B,U)}return null}function W(B,U,Y,ae){var ge=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:S(B,U,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===ge?j(B,U,Y,ae):null;case O:return Y.key===ge?K(B,U,Y,ae):null;case R:return ge=Y._init,Y=ge(Y._payload),W(B,U,Y,ae)}if(De(Y)||P(Y))return ge!==null?null:re(B,U,Y,ae,null);if(typeof Y.then=="function")return W(B,U,Yu(Y),ae);if(Y.$$typeof===G)return W(B,U,ku(B,Y),ae);Ku(B,Y)}return null}function X(B,U,Y,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(Y)||null,S(U,B,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return B=B.get(ae.key===null?Y:ae.key)||null,j(U,B,ae,ge);case O:return B=B.get(ae.key===null?Y:ae.key)||null,K(U,B,ae,ge);case R:var Me=ae._init;return ae=Me(ae._payload),X(B,U,Y,ae,ge)}if(De(ae)||P(ae))return B=B.get(Y)||null,re(U,B,ae,ge,null);if(typeof ae.then=="function")return X(B,U,Y,Yu(ae),ge);if(ae.$$typeof===G)return X(B,U,Y,ku(U,ae),ge);Ku(U,ae)}return null}function Ae(B,U,Y,ae){for(var ge=null,Me=null,_e=U,we=U=0,Wt=null;_e!==null&&we<Y.length;we++){_e.index>we?(Wt=_e,_e=null):Wt=_e.sibling;var Qe=W(B,_e,Y[we],ae);if(Qe===null){_e===null&&(_e=Wt);break}r&&_e&&Qe.alternate===null&&a(B,_e),U=p(Qe,U,we),Me===null?ge=Qe:Me.sibling=Qe,Me=Qe,_e=Wt}if(we===Y.length)return o(B,_e),Xe&&ps(B,we),ge;if(_e===null){for(;we<Y.length;we++)_e=oe(B,Y[we],ae),_e!==null&&(U=p(_e,U,we),Me===null?ge=_e:Me.sibling=_e,Me=_e);return Xe&&ps(B,we),ge}for(_e=l(_e);we<Y.length;we++)Wt=X(_e,B,we,Y[we],ae),Wt!==null&&(r&&Wt.alternate!==null&&_e.delete(Wt.key===null?we:Wt.key),U=p(Wt,U,we),Me===null?ge=Wt:Me.sibling=Wt,Me=Wt);return r&&_e.forEach(function(Sa){return a(B,Sa)}),Xe&&ps(B,we),ge}function Te(B,U,Y,ae){if(Y==null)throw Error(i(151));for(var ge=null,Me=null,_e=U,we=U=0,Wt=null,Qe=Y.next();_e!==null&&!Qe.done;we++,Qe=Y.next()){_e.index>we?(Wt=_e,_e=null):Wt=_e.sibling;var Sa=W(B,_e,Qe.value,ae);if(Sa===null){_e===null&&(_e=Wt);break}r&&_e&&Sa.alternate===null&&a(B,_e),U=p(Sa,U,we),Me===null?ge=Sa:Me.sibling=Sa,Me=Sa,_e=Wt}if(Qe.done)return o(B,_e),Xe&&ps(B,we),ge;if(_e===null){for(;!Qe.done;we++,Qe=Y.next())Qe=oe(B,Qe.value,ae),Qe!==null&&(U=p(Qe,U,we),Me===null?ge=Qe:Me.sibling=Qe,Me=Qe);return Xe&&ps(B,we),ge}for(_e=l(_e);!Qe.done;we++,Qe=Y.next())Qe=X(_e,B,we,Qe.value,ae),Qe!==null&&(r&&Qe.alternate!==null&&_e.delete(Qe.key===null?we:Qe.key),U=p(Qe,U,we),Me===null?ge=Qe:Me.sibling=Qe,Me=Qe);return r&&_e.forEach(function(sx){return a(B,sx)}),Xe&&ps(B,we),ge}function lt(B,U,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var ge=Y.key;U!==null;){if(U.key===ge){if(ge=Y.type,ge===L){if(U.tag===7){o(B,U.sibling),ae=d(U,Y.props.children),ae.return=B,B=ae;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&v_(ge)===U.type){o(B,U.sibling),ae=d(U,Y.props),Wl(ae,Y),ae.return=B,B=ae;break e}o(B,U);break}else a(B,U);U=U.sibling}Y.type===L?(ae=fs(Y.props.children,B.mode,ae,Y.key),ae.return=B,B=ae):(ae=Iu(Y.type,Y.key,Y.props,null,B.mode,ae),Wl(ae,Y),ae.return=B,B=ae)}return E(B);case O:e:{for(ge=Y.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(B,U.sibling),ae=d(U,Y.children||[]),ae.return=B,B=ae;break e}else{o(B,U);break}else a(B,U);U=U.sibling}ae=Df(Y,B.mode,ae),ae.return=B,B=ae}return E(B);case R:return ge=Y._init,Y=ge(Y._payload),lt(B,U,Y,ae)}if(De(Y))return Ae(B,U,Y,ae);if(P(Y)){if(ge=P(Y),typeof ge!="function")throw Error(i(150));return Y=ge.call(Y),Te(B,U,Y,ae)}if(typeof Y.then=="function")return lt(B,U,Yu(Y),ae);if(Y.$$typeof===G)return lt(B,U,ku(B,Y),ae);Ku(B,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(B,U.sibling),ae=d(U,Y),ae.return=B,B=ae):(o(B,U),ae=If(Y,B.mode,ae),ae.return=B,B=ae),E(B)):o(B,U)}return function(B,U,Y,ae){try{Ql=0;var ge=lt(B,U,Y,ae);return xo=null,ge}catch(_e){if(_e===zl||_e===Mu)throw _e;var Me=Ln(29,_e,null,B.mode);return Me.lanes=ae,Me.return=B,Me}finally{}}}var Ro=__(!0),b_=__(!1),lr=q(null),Kr=null;function ca(r){var a=r.alternate;ee(qt,qt.current&1),ee(lr,r),Kr===null&&(a===null||To.current!==null||a.memoizedState!==null)&&(Kr=r)}function E_(r){if(r.tag===22){if(ee(qt,qt.current),ee(lr,r),Kr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Kr=r)}}else ua()}function ua(){ee(qt,qt.current),ee(lr,lr.current)}function Ii(r){se(lr),Kr===r&&(Kr=null),se(qt)}var qt=q(0);function Qu(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Jm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function um(r,a,o,l){a=r.memoizedState,o=o(l,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hm={enqueueSetState:function(r,a,o){r=r._reactInternals;var l=Fn(),d=sa(l);d.payload=a,o!=null&&(d.callback=o),a=oa(r,d,l),a!==null&&(qn(a,r,l),Fl(a,r,l))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var l=Fn(),d=sa(l);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=oa(r,d,l),a!==null&&(qn(a,r,l),Fl(a,r,l))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Fn(),l=sa(o);l.tag=2,a!=null&&(l.callback=a),a=oa(r,l,o),a!==null&&(qn(a,r,o),Fl(a,r,o))}};function T_(r,a,o,l,d,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,p,E):a.prototype&&a.prototype.isPureReactComponent?!Ol(o,l)||!Ol(d,p):!0}function w_(r,a,o,l){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,l),a.state!==r&&hm.enqueueReplaceState(a,a.state,null)}function Ts(r,a){var o=a;if("ref"in a){o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Wu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function S_(r){Wu(r)}function A_(r){console.error(r)}function x_(r){Wu(r)}function Xu(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function R_(r,a,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dm(r,a,o){return o=sa(o),o.tag=3,o.payload={element:null},o.callback=function(){Xu(r,a)},o}function N_(r){return r=sa(r),r.tag=3,r}function C_(r,a,o,l){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;r.payload=function(){return d(p)},r.callback=function(){R_(a,o,l)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){R_(a,o,l),typeof d!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function sA(r,a,o,l,d){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=o.alternate,a!==null&&Pl(a,o,d,!0),o=lr.current,o!==null){switch(o.tag){case 13:return Kr===null?Mm():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,l===Bf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([l]):a.add(l),Lm(r,l,d)),!1;case 22:return o.flags|=65536,l===Bf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([l]):o.add(l)),Lm(r,l,d)),!1}throw Error(i(435,o.tag))}return Lm(r,l,d),Mm(),!1}if(Xe)return a=lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==kf&&(r=Error(i(422),{cause:l}),Ml(ir(r,o)))):(l!==kf&&(a=Error(i(423),{cause:l}),Ml(ir(a,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,l=ir(l,o),d=dm(r.stateNode,l,d),Hf(r,d),xt!==4&&(xt=2)),!1;var p=Error(i(520),{cause:l});if(p=ir(p,o),rc===null?rc=[p]:rc.push(p),xt!==4&&(xt=2),a===null)return!0;l=ir(l,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=dm(o.stateNode,l,r),Hf(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ga===null||!ga.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=N_(d),C_(d,r,o,l),Hf(o,d),!1}o=o.return}while(o!==null);return!1}var I_=Error(i(461)),Kt=!1;function sn(r,a,o,l){a.child=r===null?b_(a,null,o,l):Ro(a,r.child,o,l)}function D_(r,a,o,l,d){o=o.render;var p=a.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return _s(a),l=Qf(r,a,o,E,p,d),S=Wf(),r!==null&&!Kt?(Xf(r,a,d),Di(r,a,d)):(Xe&&S&&Of(a),a.flags|=1,sn(r,a,l,d),a.child)}function O_(r,a,o,l,d){if(r===null){var p=o.type;return typeof p=="function"&&!Cf(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,j_(r,a,p,l,d)):(r=Iu(o.type,null,l,a,a.mode,d),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!bm(r,d)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(E,l)&&r.ref===a.ref)return Di(r,a,d)}return a.flags|=1,r=Si(p,l),r.ref=a.ref,r.return=a,a.child=r}function j_(r,a,o,l,d){if(r!==null){var p=r.memoizedProps;if(Ol(p,l)&&r.ref===a.ref)if(Kt=!1,a.pendingProps=l=p,bm(r,d))(r.flags&131072)!==0&&(Kt=!0);else return a.lanes=r.lanes,Di(r,a,d)}return fm(r,a,o,l,d)}function k_(r,a,o){var l=a.pendingProps,d=l.children,p=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=p!==null?p.baseLanes|o:o,r!==null){for(d=a.child=r.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;a.childLanes=p&~l}else a.childLanes=0,a.child=null;return V_(r,a,l,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vu(a,p!==null?p.cachePool:null),p!==null?jv(a,p):$f(),E_(a);else return a.lanes=a.childLanes=536870912,V_(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Vu(a,p.cachePool),jv(a,p),ua(),a.memoizedState=null):(r!==null&&Vu(a,null),$f(),ua());return sn(r,a,d,o),a.child}function V_(r,a,o,l){var d=zf();return d=d===null?null:{parent:Ft._currentValue,pool:d},a.memoizedState={baseLanes:o,cachePool:d},r!==null&&Vu(a,null),$f(),E_(a),r!==null&&Pl(r,a,l,!0),null}function Zu(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function fm(r,a,o,l,d){return _s(a),o=Qf(r,a,o,l,void 0,d),l=Wf(),r!==null&&!Kt?(Xf(r,a,d),Di(r,a,d)):(Xe&&l&&Of(a),a.flags|=1,sn(r,a,o,d),a.child)}function M_(r,a,o,l,d,p){return _s(a),a.updateQueue=null,o=Vv(a,l,o,d),kv(r),l=Wf(),r!==null&&!Kt?(Xf(r,a,p),Di(r,a,p)):(Xe&&l&&Of(a),a.flags|=1,sn(r,a,o,p),a.child)}function P_(r,a,o,l,d){if(_s(a),a.stateNode===null){var p=yo,E=o.contextType;typeof E=="object"&&E!==null&&(p=fn(E)),p=new o(l,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=l,p.state=a.memoizedState,p.refs={},Ff(a),E=o.contextType,p.context=typeof E=="object"&&E!==null?fn(E):yo,p.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(um(a,o,E,l),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&hm.enqueueReplaceState(p,p.state,null),Hl(a,l,p,d),ql(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(r===null){p=a.stateNode;var S=a.memoizedProps,j=Ts(o,S);p.props=j;var K=p.context,re=o.contextType;E=yo,typeof re=="object"&&re!==null&&(E=fn(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==E)&&w_(a,p,l,E),aa=!1;var W=a.memoizedState;p.state=W,Hl(a,l,p,d),ql(),K=a.memoizedState,S||W!==K||aa?(typeof oe=="function"&&(um(a,o,oe,l),K=a.memoizedState),(j=aa||T_(a,o,j,l,W,K,E))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=K),p.props=l,p.state=K,p.context=E,l=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{p=a.stateNode,qf(r,a),E=a.memoizedProps,re=Ts(o,E),p.props=re,oe=a.pendingProps,W=p.context,K=o.contextType,j=yo,typeof K=="object"&&K!==null&&(j=fn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||W!==j)&&w_(a,p,l,j),aa=!1,W=a.memoizedState,p.state=W,Hl(a,l,p,d),ql();var X=a.memoizedState;E!==oe||W!==X||aa||r!==null&&r.dependencies!==null&&ju(r.dependencies)?(typeof S=="function"&&(um(a,o,S,l),X=a.memoizedState),(re=aa||T_(a,o,re,l,W,X,j)||r!==null&&r.dependencies!==null&&ju(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=X),p.props=l,p.state=X,p.context=j,l=re):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),l=!1)}return p=l,Zu(r,a),l=(a.flags&128)!==0,p||l?(p=a.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&l?(a.child=Ro(a,r.child,null,d),a.child=Ro(a,null,o,d)):sn(r,a,o,d),a.memoizedState=p.state,r=a.child):r=Di(r,a,d),r}function L_(r,a,o,l){return Vl(),a.flags|=256,sn(r,a,o,l),a.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(r){return{baseLanes:r,cachePool:Av()}}function gm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=cr),r}function U_(r,a,o){var l=a.pendingProps,d=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),E&&(d=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xe){if(d?ca(a):ua(),Xe){var S=At,j;if(j=S){e:{for(j=S,S=Yr;j.nodeType!==8;){if(!S){S=null;break e}if(j=xr(j.nextSibling),j===null){S=null;break e}}S=j}S!==null?(a.memoizedState={dehydrated:S,treeContext:ms!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},j=Ln(18,null,null,0),j.stateNode=S,j.return=a,a.child=j,Sn=a,At=null,j=!0):j=!1}j||ys(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Jm(S)?a.lanes=32:a.lanes=536870912,null;Ii(a)}return S=l.children,l=l.fallback,d?(ua(),d=a.mode,S=Ju({mode:"hidden",children:S},d),l=fs(l,d,o,null),S.return=a,l.return=a,S.sibling=l,a.child=S,d=a.child,d.memoizedState=pm(o),d.childLanes=gm(r,E,o),a.memoizedState=mm,l):(ca(a),ym(a,S))}if(j=r.memoizedState,j!==null&&(S=j.dehydrated,S!==null)){if(p)a.flags&256?(ca(a),a.flags&=-257,a=vm(r,a,o)):a.memoizedState!==null?(ua(),a.child=r.child,a.flags|=128,a=null):(ua(),d=l.fallback,S=a.mode,l=Ju({mode:"visible",children:l.children},S),d=fs(d,S,o,null),d.flags|=2,l.return=a,d.return=a,l.sibling=d,a.child=l,Ro(a,r.child,null,o),l=a.child,l.memoizedState=pm(o),l.childLanes=gm(r,E,o),a.memoizedState=mm,a=d);else if(ca(a),Jm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,l=Error(i(419)),l.stack="",l.digest=E,Ml({value:l,source:null,stack:null}),a=vm(r,a,o)}else if(Kt||Pl(r,a,o,!1),E=(o&r.childLanes)!==0,Kt||E){if(E=dt,E!==null&&(l=o&-o,l=(l&42)!==0?1:Ke(l),l=(l&(E.suspendedLanes|o))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,go(r,l),qn(E,r,l),I_;S.data==="$?"||Mm(),a=vm(r,a,o)}else S.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,At=xr(S.nextSibling),Sn=a,Xe=!0,gs=null,Yr=!1,r!==null&&(sr[or++]=Ai,sr[or++]=xi,sr[or++]=ms,Ai=r.id,xi=r.overflow,ms=a),a=ym(a,l.children),a.flags|=4096);return a}return d?(ua(),d=l.fallback,S=a.mode,j=r.child,K=j.sibling,l=Si(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,K!==null?d=Si(K,d):(d=fs(d,S,o,null),d.flags|=2),d.return=a,l.return=a,l.sibling=d,a.child=l,l=d,d=a.child,S=r.child.memoizedState,S===null?S=pm(o):(j=S.cachePool,j!==null?(K=Ft._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=Av(),S={baseLanes:S.baseLanes|o,cachePool:j}),d.memoizedState=S,d.childLanes=gm(r,E,o),a.memoizedState=mm,l):(ca(a),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:l.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function ym(r,a){return a=Ju({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Ju(r,a){return r=Ln(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function vm(r,a,o){return Ro(a,r.child,null,o),r=ym(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function z_(r,a,o){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a),Mf(r.return,a,o)}function _m(r,a,o,l,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=d)}function B_(r,a,o){var l=a.pendingProps,d=l.revealOrder,p=l.tail;if(sn(r,a,l.children,o),l=qt.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&z_(r,o,a);else if(r.tag===19)z_(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(ee(qt,l),d){case"forwards":for(o=a.child,d=null;o!==null;)r=o.alternate,r!==null&&Qu(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),_m(a,!1,d,o,p);break;case"backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(r=d.alternate,r!==null&&Qu(r)===null){a.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}_m(a,!0,o,null,p);break;case"together":_m(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Di(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),pa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Pl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Si(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function bm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ju(r)))}function oA(r,a,o){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),ia(a,Ft,r.memoizedState.cache),Vl();break;case 27:case 5:Kn(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:ia(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(a),a.flags|=128,null):(o&a.child.childLanes)!==0?U_(r,a,o):(ca(a),r=Di(r,a,o),r!==null?r.sibling:null);ca(a);break;case 19:var d=(r.flags&128)!==0;if(l=(o&a.childLanes)!==0,l||(Pl(r,a,o,!1),l=(o&a.childLanes)!==0),d){if(l)return B_(r,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(qt,qt.current),l)break;return null;case 22:case 23:return a.lanes=0,k_(r,a,o);case 24:ia(a,Ft,r.memoizedState.cache)}return Di(r,a,o)}function F_(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Kt=!0;else{if(!bm(r,o)&&(a.flags&128)===0)return Kt=!1,oA(r,a,o);Kt=(r.flags&131072)!==0}else Kt=!1,Xe&&(a.flags&1048576)!==0&&vv(a,Ou,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var l=a.elementType,d=l._init;if(l=d(l._payload),a.type=l,typeof l=="function")Cf(l)?(r=Ts(l,r),a.tag=1,a=P_(null,a,l,r,o)):(a.tag=0,a=fm(null,a,l,r,o));else{if(l!=null){if(d=l.$$typeof,d===$){a.tag=11,a=D_(null,a,l,r,o);break e}else if(d===V){a.tag=14,a=O_(null,a,l,r,o);break e}}throw a=ye(l)||l,Error(i(306,a,""))}}return a;case 0:return fm(r,a,a.type,a.pendingProps,o);case 1:return l=a.type,d=Ts(l,a.pendingProps),P_(r,a,l,d,o);case 3:e:{if(xe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));l=a.pendingProps;var p=a.memoizedState;d=p.element,qf(r,a),Hl(a,l,null,o);var E=a.memoizedState;if(l=E.cache,ia(a,Ft,l),l!==p.cache&&Pf(a,[Ft],o,!0),ql(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=L_(r,a,l,o);break e}else if(l!==d){d=ir(Error(i(424)),a),Ml(d),a=L_(r,a,l,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(At=xr(r.firstChild),Sn=a,Xe=!0,gs=null,Yr=!0,o=b_(a,null,l,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),l===d){a=Di(r,a,o);break e}sn(r,a,l,o)}a=a.child}return a;case 26:return Zu(r,a),r===null?(o=$0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Xe||(o=a.type,r=a.pendingProps,l=fh(ve.current).createElement(o),l[St]=a,l[yt]=r,ln(l,o,r),Oe(l),a.stateNode=l):a.memoizedState=$0(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Kn(a),r===null&&Xe&&(l=a.stateNode=q0(a.type,a.pendingProps,ve.current),Sn=a,Yr=!0,d=At,_a(a.type)?(ep=d,At=xr(l.firstChild)):At=d),sn(r,a,a.pendingProps.children,o),Zu(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xe&&((d=l=At)&&(l=VA(l,a.type,a.pendingProps,Yr),l!==null?(a.stateNode=l,Sn=a,At=xr(l.firstChild),Yr=!1,d=!0):d=!1),d||ys(a)),Kn(a),d=a.type,p=a.pendingProps,E=r!==null?r.memoizedProps:null,l=p.children,Wm(d,p)?l=null:E!==null&&Wm(d,E)&&(a.flags|=32),a.memoizedState!==null&&(d=Qf(r,a,JS,null,null,o),dc._currentValue=d),Zu(r,a),sn(r,a,l,o),a.child;case 6:return r===null&&Xe&&((r=o=At)&&(o=MA(o,a.pendingProps,Yr),o!==null?(a.stateNode=o,Sn=a,At=null,r=!0):r=!1),r||ys(a)),null;case 13:return U_(r,a,o);case 4:return xe(a,a.stateNode.containerInfo),l=a.pendingProps,r===null?a.child=Ro(a,null,l,o):sn(r,a,l,o),a.child;case 11:return D_(r,a,a.type,a.pendingProps,o);case 7:return sn(r,a,a.pendingProps,o),a.child;case 8:return sn(r,a,a.pendingProps.children,o),a.child;case 12:return sn(r,a,a.pendingProps.children,o),a.child;case 10:return l=a.pendingProps,ia(a,a.type,l.value),sn(r,a,l.children,o),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,_s(a),d=fn(d),l=l(d),a.flags|=1,sn(r,a,l,o),a.child;case 14:return O_(r,a,a.type,a.pendingProps,o);case 15:return j_(r,a,a.type,a.pendingProps,o);case 19:return B_(r,a,o);case 31:return l=a.pendingProps,o=a.mode,l={mode:l.mode,children:l.children},r===null?(o=Ju(l,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Si(r.child,l),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return k_(r,a,o);case 24:return _s(a),l=fn(Ft),r===null?(d=zf(),d===null&&(d=dt,p=Lf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),a.memoizedState={parent:l,cache:d},Ff(a),ia(a,Ft,d)):((r.lanes&o)!==0&&(qf(r,a),Hl(a,null,null,o),ql()),d=r.memoizedState,p=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),ia(a,Ft,l)):(l=p.cache,ia(a,Ft,l),l!==d.cache&&Pf(a,[Ft],o,!0))),sn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Oi(r){r.flags|=4}function q_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!X0(a)){if(a=lr.current,a!==null&&((Ge&4194048)===Ge?Kr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||a!==Kr))throw Bl=Bf,xv;r.flags|=8192}}function eh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ji():536870912,r.lanes|=a,Do|=a)}function Xl(r,a){if(!Xe)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Et(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(a)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=l,r.childLanes=o,a}function lA(r,a,o){var l=a.pendingProps;switch(jf(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return o=a.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ni(Ft),Nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(kl(a)?Oi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ev())),Et(a),null;case 26:return o=a.memoizedState,r===null?(Oi(a),o!==null?(Et(a),q_(a,o)):(Et(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Oi(a),Et(a),q_(a,o)):(Et(a),a.flags&=-16777217):(r.memoizedProps!==l&&Oi(a),Et(a),a.flags&=-16777217),null;case 27:kn(a),o=ve.current;var d=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==l&&Oi(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Et(a),null}r=he.current,kl(a)?_v(a):(r=q0(d,l,o),a.stateNode=r,Oi(a))}return Et(a),null;case 5:if(kn(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==l&&Oi(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Et(a),null}if(r=he.current,kl(a))_v(a);else{switch(d=fh(ve.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?d.createElement(o,{is:l.is}):d.createElement(o)}}r[St]=a,r[yt]=l;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=r;e:switch(ln(r,o,l),o){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(a)}}return Et(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==l&&Oi(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(r=ve.current,kl(a)){if(r=a.stateNode,o=a.memoizedProps,l=null,d=Sn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}r[St]=a,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||M0(r.nodeValue,o)),r||ys(a)}else r=fh(r).createTextNode(l),r[St]=a,a.stateNode=r}return Et(a),null;case 13:if(l=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=kl(a),l!==null&&l.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[St]=a}else Vl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),d=!1}else d=Ev(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Ii(a),a):(Ii(a),null)}if(Ii(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=l!==null,r=r!==null&&r.memoizedState!==null,o){l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),eh(a,a.updateQueue),Et(a),null;case 4:return Nt(),r===null&&Gm(a.stateNode.containerInfo),Et(a),null;case 10:return Ni(a.type),Et(a),null;case 19:if(se(qt),d=a.memoizedState,d===null)return Et(a),null;if(l=(a.flags&128)!==0,p=d.rendering,p===null)if(l)Xl(d,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=Qu(r),p!==null){for(a.flags|=128,Xl(d,!1),r=p.updateQueue,a.updateQueue=r,eh(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)yv(o,r),o=o.sibling;return ee(qt,qt.current&1|2),a.child}r=r.sibling}d.tail!==null&&Jt()>rh&&(a.flags|=128,l=!0,Xl(d,!1),a.lanes=4194304)}else{if(!l)if(r=Qu(p),r!==null){if(a.flags|=128,l=!0,r=r.updateQueue,a.updateQueue=r,eh(a,r),Xl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Xe)return Et(a),null}else 2*Jt()-d.renderingStartTime>rh&&o!==536870912&&(a.flags|=128,l=!0,Xl(d,!1),a.lanes=4194304);d.isBackwards?(p.sibling=a.child,a.child=p):(r=d.last,r!==null?r.sibling=p:a.child=p,d.last=p)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Jt(),a.sibling=null,r=qt.current,ee(qt,l?r&1|2:r&1),a):(Et(a),null);case 22:case 23:return Ii(a),Yf(),l=a.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(o&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),o=a.updateQueue,o!==null&&eh(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==o&&(a.flags|=2048),r!==null&&se(bs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ni(Ft),Et(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function cA(r,a){switch(jf(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ni(Ft),Nt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return kn(a),null;case 13:if(Ii(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Vl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return se(qt),null;case 4:return Nt(),null;case 10:return Ni(a.type),null;case 22:case 23:return Ii(a),Yf(),r!==null&&se(bs),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ni(Ft),null;case 25:return null;default:return null}}function H_(r,a){switch(jf(a),a.tag){case 3:Ni(Ft),Nt();break;case 26:case 27:case 5:kn(a);break;case 4:Nt();break;case 13:Ii(a);break;case 19:se(qt);break;case 10:Ni(a.type);break;case 22:case 23:Ii(a),Yf(),r!==null&&se(bs);break;case 24:Ni(Ft)}}function Zl(r,a){try{var o=a.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var d=l.next;o=d;do{if((o.tag&r)===r){l=void 0;var p=o.create,E=o.inst;l=p(),E.destroy=l}o=o.next}while(o!==d)}}catch(S){ht(a,a.return,S)}}function ha(r,a,o){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&r)===r){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=a;var j=o,K=S;try{K()}catch(re){ht(d,j,re)}}}l=l.next}while(l!==p)}}catch(re){ht(a,a.return,re)}}function G_(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Ov(a,o)}catch(l){ht(r,r.return,l)}}}function $_(r,a,o){o.props=Ts(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){ht(r,a,l)}}function Jl(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(d){ht(r,a,d)}}function Qr(r,a){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(d){ht(r,a,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ht(r,a,d)}else o.current=null}function Y_(r){var a=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(d){ht(r,r.return,d)}}function Em(r,a,o){try{var l=r.stateNode;IA(l,r.type,o,a),l[yt]=a}catch(d){ht(r,r.return,d)}}function K_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function Tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||K_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wm(r,a,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=dh));else if(l!==4&&(l===27&&_a(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(wm(r,a,o),r=r.sibling;r!==null;)wm(r,a,o),r=r.sibling}function th(r,a,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(l!==4&&(l===27&&_a(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(th(r,a,o),r=r.sibling;r!==null;)th(r,a,o),r=r.sibling}function Q_(r){var a=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);ln(a,l,o),a[St]=r,a[yt]=o}catch(p){ht(r,r.return,p)}}var ji=!1,It=!1,Sm=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function uA(r,a){if(r=r.containerInfo,Km=_h,r=ov(r),Tf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,j=-1,K=0,re=0,oe=r,W=null;t:for(;;){for(var X;oe!==o||d!==0&&oe.nodeType!==3||(S=E+d),oe!==p||l!==0&&oe.nodeType!==3||(j=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(X=oe.firstChild)!==null;)W=oe,oe=X;for(;;){if(oe===r)break t;if(W===o&&++K===d&&(S=E),W===p&&++re===l&&(j=E),(X=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=X}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qm={focusedElem:r,selectionRange:o},_h=!1,Qt=a;Qt!==null;)if(a=Qt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Qt=r;else for(;Qt!==null;){switch(a=Qt,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,d=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var Ae=Ts(o.type,d,o.elementType===o.type);r=l.getSnapshotBeforeUpdate(Ae,p),l.__reactInternalSnapshotBeforeUpdate=r}catch(Te){ht(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Zm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Qt=r;break}Qt=a.return}}function X_(r,a,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:da(r,o),l&4&&Zl(5,o);break;case 1:if(da(r,o),l&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){ht(o,o.return,E)}else{var d=Ts(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(d,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(o,o.return,E)}}l&64&&G_(o),l&512&&Jl(o,o.return);break;case 3:if(da(r,o),l&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Ov(r,a)}catch(E){ht(o,o.return,E)}}break;case 27:a===null&&l&4&&Q_(o);case 26:case 5:da(r,o),a===null&&l&4&&Y_(o),l&512&&Jl(o,o.return);break;case 12:da(r,o);break;case 13:da(r,o),l&4&&e0(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=_A.bind(null,o),PA(r,o))));break;case 22:if(l=o.memoizedState!==null||ji,!l){a=a!==null&&a.memoizedState!==null||It,d=ji;var p=It;ji=l,(It=a)&&!p?fa(r,o,(o.subtreeFlags&8772)!==0):da(r,o),ji=d,It=p}break;case 30:break;default:da(r,o)}}function Z_(r){var a=r.alternate;a!==null&&(r.alternate=null,Z_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&br(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,xn=!1;function ki(r,a,o){for(o=o.child;o!==null;)J_(r,a,o),o=o.sibling}function J_(r,a,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:It||Qr(o,a),ki(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Qr(o,a);var l=vt,d=xn;_a(o.type)&&(vt=o.stateNode,xn=!1),ki(r,a,o),lc(o.stateNode),vt=l,xn=d;break;case 5:It||Qr(o,a);case 6:if(l=vt,d=xn,vt=null,ki(r,a,o),vt=l,xn=d,vt!==null)if(xn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(p){ht(o,a,p)}else try{vt.removeChild(o.stateNode)}catch(p){ht(o,a,p)}break;case 18:vt!==null&&(xn?(r=vt,B0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),gc(r)):B0(vt,o.stateNode));break;case 4:l=vt,d=xn,vt=o.stateNode.containerInfo,xn=!0,ki(r,a,o),vt=l,xn=d;break;case 0:case 11:case 14:case 15:It||ha(2,o,a),It||ha(4,o,a),ki(r,a,o);break;case 1:It||(Qr(o,a),l=o.stateNode,typeof l.componentWillUnmount=="function"&&$_(o,a,l)),ki(r,a,o);break;case 21:ki(r,a,o);break;case 22:It=(l=It)||o.memoizedState!==null,ki(r,a,o),It=l;break;default:ki(r,a,o)}}function e0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gc(r)}catch(o){ht(a,a.return,o)}}function hA(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new W_),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new W_),a;default:throw Error(i(435,r.tag))}}function Am(r,a){var o=hA(r);a.forEach(function(l){var d=bA.bind(null,r,l);o.has(l)||(o.add(l),l.then(d,d))})}function Un(r,a){var o=a.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l],p=r,E=a,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(_a(S.type)){vt=S.stateNode,xn=!1;break e}break;case 5:vt=S.stateNode,xn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(vt===null)throw Error(i(160));J_(p,E,d),vt=null,xn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)t0(a,r),a=a.sibling}var Ar=null;function t0(r,a){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Un(a,r),zn(r),l&4&&(ha(3,r,r.return),Zl(3,r),ha(5,r,r.return));break;case 1:Un(a,r),zn(r),l&512&&(It||o===null||Qr(o,o.return)),l&64&&ji&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var d=Ar;if(Un(a,r),zn(r),l&512&&(It||o===null||Qr(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[_r]||p[St]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),ln(p,l,o),p[St]=r,Oe(p),l=p;break e;case"link":var E=Q0("link","href",d).get(l+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=d.createElement(l),ln(p,l,o),d.head.appendChild(p);break;case"meta":if(E=Q0("meta","content",d).get(l+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=d.createElement(l),ln(p,l,o),d.head.appendChild(p);break;default:throw Error(i(468,l))}p[St]=r,Oe(p),l=p}r.stateNode=l}else W0(d,r.type,r.stateNode);else r.stateNode=K0(d,l,r.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?W0(d,r.type,r.stateNode):K0(d,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Em(r,r.memoizedProps,o.memoizedProps)}break;case 27:Un(a,r),zn(r),l&512&&(It||o===null||Qr(o,o.return)),o!==null&&l&4&&Em(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Un(a,r),zn(r),l&512&&(It||o===null||Qr(o,o.return)),r.flags&32){d=r.stateNode;try{er(d,"")}catch(X){ht(r,r.return,X)}}l&4&&r.stateNode!=null&&(d=r.memoizedProps,Em(r,d,o!==null?o.memoizedProps:d)),l&1024&&(Sm=!0);break;case 6:if(Un(a,r),zn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(X){ht(r,r.return,X)}}break;case 3:if(gh=null,d=Ar,Ar=mh(a.containerInfo),Un(a,r),Ar=d,zn(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{gc(a.containerInfo)}catch(X){ht(r,r.return,X)}Sm&&(Sm=!1,n0(r));break;case 4:l=Ar,Ar=mh(r.stateNode.containerInfo),Un(a,r),zn(r),Ar=l;break;case 12:Un(a,r),zn(r);break;case 13:Un(a,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dm=Jt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Am(r,l)));break;case 22:d=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=ji,re=It;if(ji=K||d,It=re||j,Un(a,r),It=re,ji=K,zn(r),l&8192)e:for(a=r.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||j||ji||It||ws(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(p=j.stateNode,d)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=j.stateNode;var oe=j.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){ht(j,j.return,X)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(X){ht(j,j.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Am(r,o))));break;case 19:Un(a,r),zn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Am(r,l)));break;case 30:break;case 21:break;default:Un(a,r),zn(r)}}function zn(r){var a=r.flags;if(a&2){try{for(var o,l=r.return;l!==null;){if(K_(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=Tm(r);th(r,p,d);break;case 5:var E=o.stateNode;o.flags&32&&(er(E,""),o.flags&=-33);var S=Tm(r);th(r,S,E);break;case 3:case 4:var j=o.stateNode.containerInfo,K=Tm(r);wm(r,K,j);break;default:throw Error(i(161))}}catch(re){ht(r,r.return,re)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function n0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;n0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function da(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)X_(r,a.alternate,a),a=a.sibling}function ws(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),ws(a);break;case 1:Qr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&$_(a,a.return,o),ws(a);break;case 27:lc(a.stateNode);case 26:case 5:Qr(a,a.return),ws(a);break;case 22:a.memoizedState===null&&ws(a);break;case 30:ws(a);break;default:ws(a)}r=r.sibling}}function fa(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=r,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:fa(d,p,o),Zl(4,p);break;case 1:if(fa(d,p,o),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){ht(l,l.return,K)}if(l=p,d=l.updateQueue,d!==null){var S=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)Dv(j[d],S)}catch(K){ht(l,l.return,K)}}o&&E&64&&G_(p),Jl(p,p.return);break;case 27:Q_(p);case 26:case 5:fa(d,p,o),o&&l===null&&E&4&&Y_(p),Jl(p,p.return);break;case 12:fa(d,p,o);break;case 13:fa(d,p,o),o&&E&4&&e0(d,p);break;case 22:p.memoizedState===null&&fa(d,p,o),Jl(p,p.return);break;case 30:break;default:fa(d,p,o)}a=a.sibling}}function xm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ll(o))}function Rm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ll(r))}function Wr(r,a,o,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r0(r,a,o,l),a=a.sibling}function r0(r,a,o,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Wr(r,a,o,l),d&2048&&Zl(9,a);break;case 1:Wr(r,a,o,l);break;case 3:Wr(r,a,o,l),d&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ll(r)));break;case 12:if(d&2048){Wr(r,a,o,l),r=a.stateNode;try{var p=a.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){ht(a,a.return,j)}}else Wr(r,a,o,l);break;case 13:Wr(r,a,o,l);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?Wr(r,a,o,l):ec(r,a):p._visibility&2?Wr(r,a,o,l):(p._visibility|=2,No(r,a,o,l,(a.subtreeFlags&10256)!==0)),d&2048&&xm(E,a);break;case 24:Wr(r,a,o,l),d&2048&&Rm(a.alternate,a);break;default:Wr(r,a,o,l)}}function No(r,a,o,l,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,E=a,S=o,j=l,K=E.flags;switch(E.tag){case 0:case 11:case 15:No(p,E,S,j,d),Zl(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?No(p,E,S,j,d):ec(p,E):(re._visibility|=2,No(p,E,S,j,d)),d&&K&2048&&xm(E.alternate,E);break;case 24:No(p,E,S,j,d),d&&K&2048&&Rm(E.alternate,E);break;default:No(p,E,S,j,d)}a=a.sibling}}function ec(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,l=a,d=l.flags;switch(l.tag){case 22:ec(o,l),d&2048&&xm(l.alternate,l);break;case 24:ec(o,l),d&2048&&Rm(l.alternate,l);break;default:ec(o,l)}a=a.sibling}}var tc=8192;function Co(r){if(r.subtreeFlags&tc)for(r=r.child;r!==null;)i0(r),r=r.sibling}function i0(r){switch(r.tag){case 26:Co(r),r.flags&tc&&r.memoizedState!==null&&WA(Ar,r.memoizedState,r.memoizedProps);break;case 5:Co(r);break;case 3:case 4:var a=Ar;Ar=mh(r.stateNode.containerInfo),Co(r),Ar=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=tc,tc=16777216,Co(r),tc=a):Co(r));break;default:Co(r)}}function a0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function nc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Qt=l,o0(l,r)}a0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s0(r),r=r.sibling}function s0(r){switch(r.tag){case 0:case 11:case 15:nc(r),r.flags&2048&&ha(9,r,r.return);break;case 3:nc(r);break;case 12:nc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,nh(r)):nc(r);break;default:nc(r)}}function nh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Qt=l,o0(l,r)}a0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ha(8,a,a.return),nh(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,nh(a));break;default:nh(a)}r=r.sibling}}function o0(r,a){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:ha(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Qt=l;else e:for(o=r;Qt!==null;){l=Qt;var d=l.sibling,p=l.return;if(Z_(l),l===o){Qt=null;break e}if(d!==null){d.return=p,Qt=d;break e}Qt=p}}}var dA={getCacheForType:function(r){var a=fn(Ft),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},fA=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,Pe=null,Ge=0,rt=0,Bn=null,ma=!1,Io=!1,Nm=!1,Vi=0,xt=0,pa=0,Ss=0,Cm=0,cr=0,Do=0,rc=null,Rn=null,Im=!1,Dm=0,rh=1/0,ih=null,ga=null,on=0,ya=null,Oo=null,jo=0,Om=0,jm=null,l0=null,ic=0,km=null;function Fn(){if((nt&2)!==0&&Ge!==0)return Ge&-Ge;if(Z.T!==null){var r=bo;return r!==0?r:Bm()}return Lr()}function c0(){cr===0&&(cr=(Ge&536870912)===0||Xe?Wa():536870912);var r=lr.current;return r!==null&&(r.flags|=32),cr}function qn(r,a,o){(r===dt&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(ko(r,0),va(r,Ge,cr,!1)),Xn(r,o),((nt&2)===0||r!==dt)&&(r===dt&&((nt&2)===0&&(Ss|=o),xt===4&&va(r,Ge,cr,!1)),Xr(r))}function u0(r,a,o){if((nt&6)!==0)throw Error(i(327));var l=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Mr(r,a),d=l?gA(r,a):Pm(r,a,!0),p=l;do{if(d===0){Io&&!l&&va(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!mA(o)){d=Pm(r,a,!1),p=!1;continue}if(d===2){if(p=a,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var S=r;d=rc;var j=S.current.memoizedState.isDehydrated;if(j&&(ko(S,E).flags|=256),E=Pm(S,E,!1),E!==2){if(Nm&&!j){S.errorRecoveryDisabledLanes|=p,Ss|=p,d=4;break e}p=Rn,Rn=d,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}d=E}if(p=!1,d!==2)continue}}if(d===1){ko(r,0),va(r,a,0,!0);break}e:{switch(l=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:va(l,a,cr,!ma);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Dm+300-Jt(),10<d)){if(va(l,a,cr,!ma),fi(l,0,!0)!==0)break e;l.timeoutHandle=U0(h0.bind(null,l,o,Rn,ih,Im,a,cr,Ss,Do,ma,p,2,-0,0),d);break e}h0(l,o,Rn,ih,Im,a,cr,Ss,Do,ma,p,0,-0,0)}}break}while(!0);Xr(r)}function h0(r,a,o,l,d,p,E,S,j,K,re,oe,W,X){if(r.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(hc={stylesheets:null,count:0,unsuspend:QA},i0(a),oe=XA(),oe!==null)){r.cancelPendingCommit=oe(v0.bind(null,r,a,p,o,l,d,E,S,j,re,1,W,X)),va(r,p,E,!K);return}v0(r,a,p,o,l,d,E,S,j)}function mA(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var d=o[l],p=d.getSnapshot;d=d.value;try{if(!Pn(p(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function va(r,a,o,l){a&=~Cm,a&=~Ss,r.suspendedLanes|=a,r.pingedLanes&=~a,l&&(r.warmLanes|=a),l=r.expirationTimes;for(var d=a;0<d;){var p=31-Ot(d),E=1<<p;l[p]=-1,d&=~E}o!==0&&mt(r,o,a)}function ah(){return(nt&6)===0?(ac(0),!1):!0}function Vm(){if(Pe!==null){if(rt===0)var r=Pe.return;else r=Pe,Ri=vs=null,Zf(r),xo=null,Ql=0,r=Pe;for(;r!==null;)H_(r.alternate,r),r=r.return;Pe=null}}function ko(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,OA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Vm(),dt=r,Pe=o=Si(r.current,null),Ge=a,rt=0,Bn=null,ma=!1,Io=Mr(r,a),Nm=!1,Do=cr=Cm=Ss=pa=xt=0,Rn=rc=null,Im=!1,(a&8)!==0&&(a|=a&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=a;0<l;){var d=31-Ot(l),p=1<<d;a|=r[d],l&=~p}return Vi=a,Ru(),o}function d0(r,a){ke=null,Z.H=$u,a===zl||a===Mu?(a=Cv(),rt=3):a===xv?(a=Cv(),rt=4):rt=a===I_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,Pe===null&&(xt=1,Xu(r,ir(a,r.current)))}function f0(){var r=Z.H;return Z.H=$u,r===null?$u:r}function m0(){var r=Z.A;return Z.A=dA,r}function Mm(){xt=4,ma||(Ge&4194048)!==Ge&&lr.current!==null||(Io=!0),(pa&134217727)===0&&(Ss&134217727)===0||dt===null||va(dt,Ge,cr,!1)}function Pm(r,a,o){var l=nt;nt|=2;var d=f0(),p=m0();(dt!==r||Ge!==a)&&(ih=null,ko(r,a)),a=!1;var E=xt;e:do try{if(rt!==0&&Pe!==null){var S=Pe,j=Bn;switch(rt){case 8:Vm(),E=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(a=!0);var K=rt;if(rt=0,Bn=null,Vo(r,S,j,K),o&&Io){E=0;break e}break;default:K=rt,rt=0,Bn=null,Vo(r,S,j,K)}}pA(),E=xt;break}catch(re){d0(r,re)}while(!0);return a&&r.shellSuspendCounter++,Ri=vs=null,nt=l,Z.H=d,Z.A=p,Pe===null&&(dt=null,Ge=0,Ru()),E}function pA(){for(;Pe!==null;)p0(Pe)}function gA(r,a){var o=nt;nt|=2;var l=f0(),d=m0();dt!==r||Ge!==a?(ih=null,rh=Jt()+500,ko(r,a)):Io=Mr(r,a);e:do try{if(rt!==0&&Pe!==null){a=Pe;var p=Bn;t:switch(rt){case 1:rt=0,Bn=null,Vo(r,a,p,1);break;case 2:case 9:if(Rv(p)){rt=0,Bn=null,g0(a);break}a=function(){rt!==2&&rt!==9||dt!==r||(rt=7),Xr(r)},p.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Rv(p)?(rt=0,Bn=null,g0(a)):(rt=0,Bn=null,Vo(r,a,p,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var S=Pe;if(!E||X0(E)){rt=0,Bn=null;var j=S.sibling;if(j!==null)Pe=j;else{var K=S.return;K!==null?(Pe=K,sh(K)):Pe=null}break t}}rt=0,Bn=null,Vo(r,a,p,5);break;case 6:rt=0,Bn=null,Vo(r,a,p,6);break;case 8:Vm(),xt=6;break e;default:throw Error(i(462))}}yA();break}catch(re){d0(r,re)}while(!0);return Ri=vs=null,Z.H=l,Z.A=d,nt=o,Pe!==null?0:(dt=null,Ge=0,Ru(),xt)}function yA(){for(;Pe!==null&&!yr();)p0(Pe)}function p0(r){var a=F_(r.alternate,r,Vi);r.memoizedProps=r.pendingProps,a===null?sh(r):Pe=a}function g0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=M_(o,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=M_(o,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:Zf(a);default:H_(o,a),a=Pe=yv(a,Vi),a=F_(o,a,Vi)}r.memoizedProps=r.pendingProps,a===null?sh(r):Pe=a}function Vo(r,a,o,l){Ri=vs=null,Zf(a),xo=null,Ql=0;var d=a.return;try{if(sA(r,d,a,o,Ge)){xt=1,Xu(r,ir(o,r.current)),Pe=null;return}}catch(p){if(d!==null)throw Pe=d,p;xt=1,Xu(r,ir(o,r.current)),Pe=null;return}a.flags&32768?(Xe||l===1?r=!0:Io||(Ge&536870912)!==0?r=!1:(ma=r=!0,(l===2||l===9||l===3||l===6)&&(l=lr.current,l!==null&&l.tag===13&&(l.flags|=16384))),y0(a,r)):sh(a)}function sh(r){var a=r;do{if((a.flags&32768)!==0){y0(a,ma);return}r=a.return;var o=lA(a.alternate,a,Vi);if(o!==null){Pe=o;return}if(a=a.sibling,a!==null){Pe=a;return}Pe=a=r}while(a!==null);xt===0&&(xt=5)}function y0(r,a){do{var o=cA(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);xt=6,Pe=null}function v0(r,a,o,l,d,p,E,S,j){r.cancelPendingCommit=null;do oh();while(on!==0);if((nt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Rf,jt(r,o,p,E,S,j),r===dt&&(Pe=dt=null,Ge=0),Oo=a,ya=r,jo=o,Om=p,jm=d,l0=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,EA(ui,function(){return w0(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,d=te.p,te.p=2,E=nt,nt|=4;try{uA(r,a,o)}finally{nt=E,te.p=d,Z.T=l}}on=1,_0(),b0(),E0()}}function _0(){if(on===1){on=0;var r=ya,a=Oo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var l=te.p;te.p=2;var d=nt;nt|=4;try{t0(a,r);var p=Qm,E=ov(r.containerInfo),S=p.focusedElem,j=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&sv(S.ownerDocument.documentElement,S)){if(j!==null&&Tf(S)){var K=j.start,re=j.end;if(re===void 0&&(re=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(re,S.value.length);else{var oe=S.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var X=W.getSelection(),Ae=S.textContent.length,Te=Math.min(j.start,Ae),lt=j.end===void 0?Te:Math.min(j.end,Ae);!X.extend&&Te>lt&&(E=lt,lt=Te,Te=E);var B=av(S,Te),U=av(S,lt);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var Y=oe.createRange();Y.setStart(B.node,B.offset),X.removeAllRanges(),Te>lt?(X.addRange(Y),X.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),X.addRange(Y))}}}}for(oe=[],X=S;X=X.parentNode;)X.nodeType===1&&oe.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ae=oe[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}_h=!!Km,Qm=Km=null}finally{nt=d,te.p=l,Z.T=o}}r.current=a,on=2}}function b0(){if(on===2){on=0;var r=ya,a=Oo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var l=te.p;te.p=2;var d=nt;nt|=4;try{X_(r,a.alternate,a)}finally{nt=d,te.p=l,Z.T=o}}on=3}}function E0(){if(on===4||on===3){on=0,Zt();var r=ya,a=Oo,o=jo,l=l0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?on=5:(on=0,Oo=ya=null,T0(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ga=null),en(o),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=Z.T,d=te.p,te.p=2,Z.T=null;try{for(var p=r.onRecoverableError,E=0;E<l.length;E++){var S=l[E];p(S.value,{componentStack:S.stack})}}finally{Z.T=a,te.p=d}}(jo&3)!==0&&oh(),Xr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===km?ic++:(ic=0,km=r):ic=0,ac(0)}}function T0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ll(a)))}function oh(r){return _0(),b0(),E0(),w0()}function w0(){if(on!==5)return!1;var r=ya,a=Om;Om=0;var o=en(jo),l=Z.T,d=te.p;try{te.p=32>o?32:o,Z.T=null,o=jm,jm=null;var p=ya,E=jo;if(on=0,Oo=ya=null,jo=0,(nt&6)!==0)throw Error(i(331));var S=nt;if(nt|=4,s0(p.current),r0(p,p.current,E,o),nt=S,ac(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,p)}catch{}return!0}finally{te.p=d,Z.T=l,T0(r,a)}}function S0(r,a,o){a=ir(o,a),a=dm(r.stateNode,a,2),r=oa(r,a,2),r!==null&&(Xn(r,2),Xr(r))}function ht(r,a,o){if(r.tag===3)S0(r,r,o);else for(;a!==null;){if(a.tag===3){S0(a,r,o);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){r=ir(o,r),o=N_(2),l=oa(a,o,2),l!==null&&(C_(o,l,a,r),Xn(l,2),Xr(l));break}}a=a.return}}function Lm(r,a,o){var l=r.pingCache;if(l===null){l=r.pingCache=new fA;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(o)||(Nm=!0,d.add(o),r=vA.bind(null,r,a,o),a.then(r,r))}function vA(r,a,o){var l=r.pingCache;l!==null&&l.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(Ge&o)===o&&(xt===4||xt===3&&(Ge&62914560)===Ge&&300>Jt()-Dm?(nt&2)===0&&ko(r,0):Cm|=o,Do===Ge&&(Do=0)),Xr(r)}function A0(r,a){a===0&&(a=Ji()),r=go(r,a),r!==null&&(Xn(r,a),Xr(r))}function _A(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),A0(r,o)}function bA(r,a){var o=0;switch(r.tag){case 13:var l=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),A0(r,o)}function EA(r,a){return gr(r,a)}var lh=null,Mo=null,Um=!1,ch=!1,zm=!1,As=0;function Xr(r){r!==Mo&&r.next===null&&(Mo===null?lh=Mo=r:Mo=Mo.next=r),ch=!0,Um||(Um=!0,wA())}function ac(r,a){if(!zm&&ch){zm=!0;do for(var o=!1,l=lh;l!==null;){if(r!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var E=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Ot(42|r)+1)-1,p&=d&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,C0(l,p))}else p=Ge,p=fi(l,l===dt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Mr(l,p)||(o=!0,C0(l,p));l=l.next}while(o);zm=!1}}function TA(){x0()}function x0(){ch=Um=!1;var r=0;As!==0&&(DA()&&(r=As),As=0);for(var a=Jt(),o=null,l=lh;l!==null;){var d=l.next,p=R0(l,a);p===0?(l.next=null,o===null?lh=d:o.next=d,d===null&&(Mo=o)):(o=l,(r!==0||(p&3)!==0)&&(ch=!0)),l=d}ac(r)}function R0(r,a){for(var o=r.suspendedLanes,l=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Ot(p),S=1<<E,j=d[E];j===-1?((S&o)===0||(S&l)!==0)&&(d[E]=mi(S,a)):j<=a&&(r.expiredLanes|=S),p&=~S}if(a=dt,o=Ge,o=fi(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===a&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&ct(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Mr(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(l!==null&&ct(l),en(o)){case 2:case 8:o=Zi;break;case 32:o=ui;break;case 268435456:o=hi;break;default:o=ui}return l=N0.bind(null,r),o=gr(o,l),r.callbackPriority=a,r.callbackNode=o,a}return l!==null&&l!==null&&ct(l),r.callbackPriority=2,r.callbackNode=null,2}function N0(r,a){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(oh()&&r.callbackNode!==o)return null;var l=Ge;return l=fi(r,r===dt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(u0(r,l,a),R0(r,Jt()),r.callbackNode!=null&&r.callbackNode===o?N0.bind(null,r):null)}function C0(r,a){if(oh())return null;u0(r,a,!0)}function wA(){jA(function(){(nt&6)!==0?gr(Xi,TA):x0()})}function Bm(){return As===0&&(As=Wa()),As}function I0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ro(""+r)}function D0(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function SA(r,a,o,l,d){if(a==="submit"&&o&&o.stateNode===d){var p=I0((d[yt]||null).action),E=l.submitter;E&&(a=(a=E[yt]||null)?I0(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var S=new io("action","action",null,l,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var j=E?D0(d,E):new FormData(d);om(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(S.preventDefault(),j=E?D0(d,E):new FormData(d),om(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var Fm=0;Fm<xf.length;Fm++){var qm=xf[Fm],AA=qm.toLowerCase(),xA=qm[0].toUpperCase()+qm.slice(1);Sr(AA,"on"+xA)}Sr(uv,"onAnimationEnd"),Sr(hv,"onAnimationIteration"),Sr(dv,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(qS,"onTransitionRun"),Sr(HS,"onTransitionStart"),Sr(GS,"onTransitionCancel"),Sr(fv,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function O0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],d=l.event;l=l.listeners;e:{var p=void 0;if(a)for(var E=l.length-1;0<=E;E--){var S=l[E],j=S.instance,K=S.currentTarget;if(S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=K;try{p(d)}catch(re){Wu(re)}d.currentTarget=null,p=j}else for(E=0;E<l.length;E++){if(S=l[E],j=S.instance,K=S.currentTarget,S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=K;try{p(d)}catch(re){Wu(re)}d.currentTarget=null,p=j}}}}function Le(r,a){var o=a[pi];o===void 0&&(o=a[pi]=new Set);var l=r+"__bubble";o.has(l)||(j0(a,r,2,!1),o.add(l))}function Hm(r,a,o){var l=0;a&&(l|=4),j0(o,r,l,a)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Gm(r){if(!r[uh]){r[uh]=!0,nn.forEach(function(o){o!=="selectionchange"&&(RA.has(o)||Hm(o,!1,r),Hm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[uh]||(a[uh]=!0,Hm("selectionchange",!1,a))}}function j0(r,a,o,l){switch(r1(a)){case 2:var d=ex;break;case 8:d=tx;break;default:d=ap}o=d.bind(null,a,o,r),d=void 0,!nr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?r.addEventListener(a,o,{capture:!0,passive:d}):r.addEventListener(a,o,!0):d!==void 0?r.addEventListener(a,o,{passive:d}):r.addEventListener(a,o,!1)}function $m(r,a,o,l,d){var p=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=l.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Er(S),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){l=p=E;continue e}S=S.parentNode}}l=l.return}du(function(){var K=p,re=tr(o),oe=[];e:{var W=mv.get(r);if(W!==void 0){var X=io,Ae=r;switch(r){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":X=uo;break;case"focusin":Ae="focus",X=oo;break;case"focusout":Ae="blur",X=oo;break;case"beforeblur":case"afterblur":X=oo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=bu;break;case uv:case hv:case dv:X=lo;break;case fv:X=Tu;break;case"scroll":case"scrollend":X=fu;break;case"wheel":X=ho;break;case"copy":case"cut":case"paste":X=co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Il;break;case"toggle":case"beforetoggle":X=Su}var Te=(a&4)!==0,lt=!Te&&(r==="scroll"||r==="scrollend"),B=Te?W!==null?W+"Capture":null:W;Te=[];for(var U=K,Y;U!==null;){var ae=U;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||B===null||(ae=is(U,B),ae!=null&&Te.push(oc(U,ae,Y))),lt)break;U=U.return}0<Te.length&&(W=new X(W,Ae,null,o,re),oe.push({event:W,listeners:Te}))}}if((a&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",W&&o!==vi&&(Ae=o.relatedTarget||o.fromElement)&&(Er(Ae)||Ae[tn]))break e;if((X||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,X?(Ae=o.relatedTarget||o.toElement,X=K,Ae=Ae?Er(Ae):null,Ae!==null&&(lt=c(Ae),Te=Ae.tag,Ae!==lt||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):(X=null,Ae=K),X!==Ae)){if(Te=rr,ae="onMouseLeave",B="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Il,ae="onPointerLeave",B="onPointerEnter",U="pointer"),lt=X==null?W:Re(X),Y=Ae==null?W:Re(Ae),W=new Te(ae,U+"leave",X,o,re),W.target=lt,W.relatedTarget=Y,ae=null,Er(re)===K&&(Te=new Te(B,U+"enter",Ae,o,re),Te.target=Y,Te.relatedTarget=lt,ae=Te),lt=ae,X&&Ae)t:{for(Te=X,B=Ae,U=0,Y=Te;Y;Y=Po(Y))U++;for(Y=0,ae=B;ae;ae=Po(ae))Y++;for(;0<U-Y;)Te=Po(Te),U--;for(;0<Y-U;)B=Po(B),Y--;for(;U--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=Po(Te),B=Po(B)}Te=null}else Te=null;X!==null&&k0(oe,W,X,Te,!1),Ae!==null&&lt!==null&&k0(oe,lt,Ae,Te,!0)}}e:{if(W=K?Re(K):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var ge=Jy;else if(Bt(W))if(ev)ge=zS;else{ge=LS;var Me=PS}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&wl(K.elementType)&&(ge=Jy):ge=US;if(ge&&(ge=ge(r,K))){wi(oe,ge,o,re);break e}Me&&Me(r,W,K),r==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&na(W,"number",W.value)}switch(Me=K?Re(K):window,r){case"focusin":(Bt(Me)||Me.contentEditable==="true")&&(fo=Me,wf=K,jl=null);break;case"focusout":jl=wf=fo=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,lv(oe,o,re);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":lv(oe,o,re)}var _e;if(Gr)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else qe?J(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(b&&o.locale!=="ko"&&(qe||we!=="onCompositionStart"?we==="onCompositionEnd"&&qe&&(_e=Al()):(Br=re,ra="value"in Br?Br.value:Br.textContent,qe=!0)),Me=hh(K,we),0<Me.length&&(we=new Nl(we,r,null,o,re),oe.push({event:we,listeners:Me}),_e?we.data=_e:(_e=de(o),_e!==null&&(we.data=_e)))),(_e=v?zt(r,o):He(r,o))&&(we=hh(K,"onBeforeInput"),0<we.length&&(Me=new Nl("onBeforeInput","beforeinput",null,o,re),oe.push({event:Me,listeners:we}),Me.data=_e)),SA(oe,r,K,o,re)}O0(oe,a)})}function oc(r,a,o){return{instance:r,listener:a,currentTarget:o}}function hh(r,a){for(var o=a+"Capture",l=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=is(r,o),d!=null&&l.unshift(oc(r,d,p)),d=is(r,a),d!=null&&l.push(oc(r,d,p))),r.tag===3)return l;r=r.return}return[]}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function k0(r,a,o,l,d){for(var p=a._reactName,E=[];o!==null&&o!==l;){var S=o,j=S.alternate,K=S.stateNode;if(S=S.tag,j!==null&&j===l)break;S!==5&&S!==26&&S!==27||K===null||(j=K,d?(K=is(o,p),K!=null&&E.unshift(oc(o,K,j))):d||(K=is(o,p),K!=null&&E.push(oc(o,K,j)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var NA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function V0(r){return(typeof r=="string"?r:""+r).replace(NA,`
`).replace(CA,"")}function M0(r,a){return a=V0(a),V0(r)===a}function dh(){}function ot(r,a,o,l,d,p){switch(o){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||er(r,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&er(r,""+l);break;case"className":Ur(r,"class",l);break;case"tabIndex":Ur(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(r,o,l);break;case"style":Tl(r,l,p);break;case"data":if(a!=="object"){Ur(r,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=ro(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&ot(r,a,"name",d.name,d,null),ot(r,a,"formEncType",d.formEncType,d,null),ot(r,a,"formMethod",d.formMethod,d,null),ot(r,a,"formTarget",d.formTarget,d,null)):(ot(r,a,"encType",d.encType,d,null),ot(r,a,"method",d.method,d,null),ot(r,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=ro(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=dh);break;case"onScroll":l!=null&&Le("scroll",r);break;case"onScrollEnd":l!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=ro(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Le("beforetoggle",r),Le("toggle",r),ta(r,"popover",l);break;case"xlinkActuate":rn(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gf.get(o)||o,ta(r,o,l))}}function Ym(r,a,o,l,d,p){switch(o){case"style":Tl(r,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof l=="string"?er(r,l):(typeof l=="number"||typeof l=="bigint")&&er(r,""+l);break;case"onScroll":l!=null&&Le("scroll",r);break;case"onScrollEnd":l!=null&&Le("scrollend",r);break;case"onClick":l!=null&&(r.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),p=r[yt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,l,d);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ta(r,o,l)}}}function ln(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var l=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(r,a,p,E,o,null)}}d&&ot(r,a,"srcSet",o.srcSet,o,null),l&&ot(r,a,"src",o.src,o,null);return;case"input":Le("invalid",r);var S=p=E=d=null,j=null,K=null;for(l in o)if(o.hasOwnProperty(l)){var re=o[l];if(re!=null)switch(l){case"name":d=re;break;case"type":E=re;break;case"checked":j=re;break;case"defaultChecked":K=re;break;case"value":p=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:ot(r,a,l,re,o,null)}}ts(r,p,S,j,K,E,d,!1),no(r);return;case"select":Le("invalid",r),l=E=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:ot(r,a,d,S,o,null)}a=p,o=E,r.multiple=!!l,a!=null?yi(r,!!l,a,!1):o!=null&&yi(r,!!l,o,!0);return;case"textarea":Le("invalid",r),p=d=l=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ot(r,a,E,S,o,null)}ns(r,l,d,p),no(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(l=o[j],l!=null))switch(j){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(r,a,j,l,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(l=0;l<sc.length;l++)Le(sc[l],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(l=o[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(r,a,K,l,o,null)}return;default:if(wl(a)){for(re in o)o.hasOwnProperty(re)&&(l=o[re],l!==void 0&&Ym(r,a,re,l,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(l=o[S],l!=null&&ot(r,a,S,l,o,null))}function IA(r,a,o,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,E=null,S=null,j=null,K=null,re=null;for(X in o){var oe=o[X];if(o.hasOwnProperty(X)&&oe!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=oe;default:l.hasOwnProperty(X)||ot(r,a,X,null,l,oe)}}for(var W in l){var X=l[W];if(oe=o[W],l.hasOwnProperty(W)&&(X!=null||oe!=null))switch(W){case"type":p=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":re=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==oe&&ot(r,a,W,X,l,oe)}}Mn(r,E,S,j,K,re,p,d);return;case"select":X=E=S=W=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":X=j;default:l.hasOwnProperty(p)||ot(r,a,p,null,l,j)}for(d in l)if(p=l[d],j=o[d],l.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":W=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==j&&ot(r,a,d,p,l,j)}a=S,o=E,l=X,W!=null?yi(r,!!o,W,!1):!!l!=!!o&&(a!=null?yi(r,!!o,a,!0):yi(r,!!o,o?[]:"",!1));return;case"textarea":X=W=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(r,a,S,null,l,d)}for(E in l)if(d=l[E],p=o[E],l.hasOwnProperty(E)&&(d!=null||p!=null))switch(E){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&ot(r,a,E,d,l,p)}at(r,W,X);return;case"option":for(var Ae in o)if(W=o[Ae],o.hasOwnProperty(Ae)&&W!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:ot(r,a,Ae,null,l,W)}for(j in l)if(W=l[j],X=o[j],l.hasOwnProperty(j)&&W!==X&&(W!=null||X!=null))switch(j){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ot(r,a,j,W,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!l.hasOwnProperty(Te)&&ot(r,a,Te,null,l,W);for(K in l)if(W=l[K],X=o[K],l.hasOwnProperty(K)&&W!==X&&(W!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:ot(r,a,K,W,l,X)}return;default:if(wl(a)){for(var lt in o)W=o[lt],o.hasOwnProperty(lt)&&W!==void 0&&!l.hasOwnProperty(lt)&&Ym(r,a,lt,void 0,l,W);for(re in l)W=l[re],X=o[re],!l.hasOwnProperty(re)||W===X||W===void 0&&X===void 0||Ym(r,a,re,W,l,X);return}}for(var B in o)W=o[B],o.hasOwnProperty(B)&&W!=null&&!l.hasOwnProperty(B)&&ot(r,a,B,null,l,W);for(oe in l)W=l[oe],X=o[oe],!l.hasOwnProperty(oe)||W===X||W==null&&X==null||ot(r,a,oe,W,l,X)}var Km=null,Qm=null;function fh(r){return r.nodeType===9?r:r.ownerDocument}function P0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Wm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xm=null;function DA(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(r){return z0.resolve(null).then(r).catch(kA)}:U0;function kA(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function B0(r,a){var o=a,l=0,d=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<l&&8>l){o=l;var E=r.ownerDocument;if(o&1&&lc(E.documentElement),o&2&&lc(E.body),o&4)for(o=E.head,lc(o),E=o.firstChild;E;){var S=E.nextSibling,j=E.nodeName;E[_r]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(d===0){r.removeChild(p),gc(a);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:l=o.charCodeAt(0)-48;else l=0;o=p}while(o);gc(a)}function Zm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zm(o),br(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function VA(r,a,o,l){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[_r])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function MA(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xr(r.nextSibling),r===null))return null;return r}function Jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function PA(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var l=function(){a(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function xr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var ep=null;function F0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function q0(r,a,o){switch(a=fh(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function lc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);br(r)}var ur=new Map,H0=new Set;function mh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Mi=te.d;te.d={f:LA,r:UA,D:zA,C:BA,L:FA,m:qA,X:GA,S:HA,M:$A};function LA(){var r=Mi.f(),a=ah();return r||a}function UA(r){var a=Jn(r);a!==null&&a.tag===5&&a.type==="form"?u_(a):Mi.r(r)}var Lo=typeof document>"u"?null:document;function G0(r,a,o){var l=Lo;if(l&&typeof a=="string"&&a){var d=kt(a);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),H0.has(d)||(H0.add(d),r={rel:r,crossOrigin:o,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),ln(a,"link",r),Oe(a),l.head.appendChild(a)))}}function zA(r){Mi.D(r),G0("dns-prefetch",r,null)}function BA(r,a){Mi.C(r,a),G0("preconnect",r,a)}function FA(r,a,o){Mi.L(r,a,o);var l=Lo;if(l&&r&&a){var d='link[rel="preload"][as="'+kt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+kt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+kt(o.imageSizes)+'"]')):d+='[href="'+kt(r)+'"]';var p=d;switch(a){case"style":p=Uo(r);break;case"script":p=zo(r)}ur.has(p)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),ur.set(p,r),l.querySelector(d)!==null||a==="style"&&l.querySelector(cc(p))||a==="script"&&l.querySelector(uc(p))||(a=l.createElement("link"),ln(a,"link",r),Oe(a),l.head.appendChild(a)))}}function qA(r,a){Mi.m(r,a);var o=Lo;if(o&&r){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(r)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zo(r)}if(!ur.has(p)&&(r=_({rel:"modulepreload",href:r},a),ur.set(p,r),o.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uc(p)))return}l=o.createElement("link"),ln(l,"link",r),Oe(l),o.head.appendChild(l)}}}function HA(r,a,o){Mi.S(r,a,o);var l=Lo;if(l&&r){var d=Ve(l).hoistableStyles,p=Uo(r);a=a||"default";var E=d.get(p);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(cc(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=ur.get(p))&&tp(r,o);var j=E=l.createElement("link");Oe(j),ln(j,"link",r),j._p=new Promise(function(K,re){j.onload=K,j.onerror=re}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ph(E,a,l)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(p,E)}}}function GA(r,a){Mi.X(r,a);var o=Lo;if(o&&r){var l=Ve(o).hoistableScripts,d=zo(r),p=l.get(d);p||(p=o.querySelector(uc(d)),p||(r=_({src:r,async:!0},a),(a=ur.get(d))&&np(r,a),p=o.createElement("script"),Oe(p),ln(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function $A(r,a){Mi.M(r,a);var o=Lo;if(o&&r){var l=Ve(o).hoistableScripts,d=zo(r),p=l.get(d);p||(p=o.querySelector(uc(d)),p||(r=_({src:r,async:!0,type:"module"},a),(a=ur.get(d))&&np(r,a),p=o.createElement("script"),Oe(p),ln(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function $0(r,a,o,l){var d=(d=ve.current)?mh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Uo(o.href),o=Ve(d).hoistableStyles,l=o.get(a),l||(l={type:"style",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Uo(o.href);var p=Ve(d).hoistableStyles,E=p.get(r);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=d.querySelector(cc(r)))&&!p._p&&(E.instance=p,E.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),p||YA(d,r,o,E.state))),a&&l===null)throw Error(i(528,""));return E}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zo(o),o=Ve(d).hoistableScripts,l=o.get(a),l||(l={type:"script",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Uo(r){return'href="'+kt(r)+'"'}function cc(r){return'link[rel="stylesheet"]['+r+"]"}function Y0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function YA(r,a,o,l){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ln(a,"link",o),Oe(a),r.head.appendChild(a))}function zo(r){return'[src="'+kt(r)+'"]'}function uc(r){return"script[async]"+r}function K0(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var l=r.querySelector('style[data-href~="'+kt(o.href)+'"]');if(l)return a.instance=l,Oe(l),l;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Oe(l),ln(l,"style",d),ph(l,o.precedence,r),a.instance=l;case"stylesheet":d=Uo(o.href);var p=r.querySelector(cc(d));if(p)return a.state.loading|=4,a.instance=p,Oe(p),p;l=Y0(o),(d=ur.get(d))&&tp(l,d),p=(r.ownerDocument||r).createElement("link"),Oe(p);var E=p;return E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),ln(p,"link",l),a.state.loading|=4,ph(p,o.precedence,r),a.instance=p;case"script":return p=zo(o.src),(d=r.querySelector(uc(p)))?(a.instance=d,Oe(d),d):(l=o,(d=ur.get(p))&&(l=_({},o),np(l,d)),r=r.ownerDocument||r,d=r.createElement("script"),Oe(d),ln(d,"link",l),r.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,ph(l,o.precedence,r));return a.instance}function ph(r,a,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===a)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function tp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function np(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var gh=null;function Q0(r,a,o){if(gh===null){var l=new Map,d=gh=new Map;d.set(o,l)}else d=gh,l=d.get(o),l||(l=new Map,d.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[_r]||p[St]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=r+E;var S=l.get(E);S?S.push(p):l.set(E,[p])}}return l}function W0(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function KA(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function X0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hc=null;function QA(){}function WA(r,a,o){if(hc===null)throw Error(i(475));var l=hc;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Uo(o.href),p=r.querySelector(cc(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=yh.bind(l),r.then(l,l)),a.state.loading|=4,a.instance=p,Oe(p);return}p=r.ownerDocument||r,o=Y0(o),(d=ur.get(d))&&tp(o,d),p=p.createElement("link"),Oe(p);var E=p;E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),ln(p,"link",o),a.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=yh.bind(l),r.addEventListener("load",a),r.addEventListener("error",a))}}function XA(){if(hc===null)throw Error(i(475));var r=hc;return r.stylesheets&&r.count===0&&rp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function yh(){if(this.count--,this.count===0){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vh=null;function rp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vh=new Map,a.forEach(ZA,r),vh=null,yh.call(r))}function ZA(r,a){if(!(a.state.loading&4)){var o=vh.get(r);if(o)var l=o.get(null);else{o=new Map,vh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var E=d[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),l=E)}l&&o.set(null,l)}d=a.instance,E=d.getAttribute("data-precedence"),p=o.get(E)||l,p===l&&o.set(null,d),o.set(E,d),this.count++,l=yh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),a.state.loading|=4}}var dc={$$typeof:G,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function JA(r,a,o,l,d,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Z0(r,a,o,l,d,p,E,S,j,K,re,oe){return r=new JA(r,a,o,E,S,j,K,oe),a=1,p===!0&&(a|=24),p=Ln(3,null,null,a),r.current=p,p.stateNode=r,a=Lf(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:a},Ff(p),r}function J0(r){return r?(r=yo,r):yo}function e1(r,a,o,l,d,p){d=J0(d),l.context===null?l.context=d:l.pendingContext=d,l=sa(a),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=oa(r,l,a),o!==null&&(qn(o,r,a),Fl(o,r,a))}function t1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function ip(r,a){t1(r,a),(r=r.alternate)&&t1(r,a)}function n1(r){if(r.tag===13){var a=go(r,67108864);a!==null&&qn(a,r,67108864),ip(r,67108864)}}var _h=!0;function ex(r,a,o,l){var d=Z.T;Z.T=null;var p=te.p;try{te.p=2,ap(r,a,o,l)}finally{te.p=p,Z.T=d}}function tx(r,a,o,l){var d=Z.T;Z.T=null;var p=te.p;try{te.p=8,ap(r,a,o,l)}finally{te.p=p,Z.T=d}}function ap(r,a,o,l){if(_h){var d=sp(l);if(d===null)$m(r,a,l,bh,o),i1(r,l);else if(rx(d,r,a,o,l))l.stopPropagation();else if(i1(r,l),a&4&&-1<nx.indexOf(r)){for(;d!==null;){var p=Jn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Vn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var j=1<<31-Ot(E);S.entanglements[1]|=j,E&=~j}Xr(p),(nt&6)===0&&(rh=Jt()+500,ac(0))}}break;case 13:S=go(p,2),S!==null&&qn(S,p,2),ah(),ip(p,2)}if(p=sp(l),p===null&&$m(r,a,l,bh,o),p===d)break;d=p}d!==null&&l.stopPropagation()}else $m(r,a,l,null,o)}}function sp(r){return r=tr(r),op(r)}var bh=null;function op(r){if(bh=null,r=Er(r),r!==null){var a=c(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=h(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return bh=r,null}function r1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ks()){case Xi:return 2;case Zi:return 8;case ui:case vl:return 32;case hi:return 268435456;default:return 32}default:return 32}}var lp=!1,ba=null,Ea=null,Ta=null,fc=new Map,mc=new Map,wa=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i1(r,a){switch(r){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(a.pointerId)}}function pc(r,a,o,l,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},a!==null&&(a=Jn(a),a!==null&&n1(a)),r):(r.eventSystemFlags|=l,a=r.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),r)}function rx(r,a,o,l,d){switch(a){case"focusin":return ba=pc(ba,r,a,o,l,d),!0;case"dragenter":return Ea=pc(Ea,r,a,o,l,d),!0;case"mouseover":return Ta=pc(Ta,r,a,o,l,d),!0;case"pointerover":var p=d.pointerId;return fc.set(p,pc(fc.get(p)||null,r,a,o,l,d)),!0;case"gotpointercapture":return p=d.pointerId,mc.set(p,pc(mc.get(p)||null,r,a,o,l,d)),!0}return!1}function a1(r){var a=Er(r.target);if(a!==null){var o=c(a);if(o!==null){if(a=o.tag,a===13){if(a=h(o),a!==null){r.blockedOn=a,ea(r.priority,function(){if(o.tag===13){var l=Fn();l=Ke(l);var d=go(o,l);d!==null&&qn(d,o,l),ip(o,l)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=sp(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);vi=l,o.target.dispatchEvent(l),vi=null}else return a=Jn(o),a!==null&&n1(a),r.blockedOn=o,!1;a.shift()}return!0}function s1(r,a,o){Eh(r)&&o.delete(a)}function ix(){lp=!1,ba!==null&&Eh(ba)&&(ba=null),Ea!==null&&Eh(Ea)&&(Ea=null),Ta!==null&&Eh(Ta)&&(Ta=null),fc.forEach(s1),mc.forEach(s1)}function Th(r,a){r.blockedOn===a&&(r.blockedOn=null,lp||(lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ix)))}var wh=null;function o1(r){wh!==r&&(wh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wh===r&&(wh=null);for(var a=0;a<r.length;a+=3){var o=r[a],l=r[a+1],d=r[a+2];if(typeof l!="function"){if(op(l||o)===null)continue;break}var p=Jn(o);p!==null&&(r.splice(a,3),a-=3,om(p,{pending:!0,data:d,method:o.method,action:l},l,d))}}))}function gc(r){function a(j){return Th(j,r)}ba!==null&&Th(ba,r),Ea!==null&&Th(Ea,r),Ta!==null&&Th(Ta,r),fc.forEach(a),mc.forEach(a);for(var o=0;o<wa.length;o++){var l=wa[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<wa.length&&(o=wa[0],o.blockedOn===null);)a1(o),o.blockedOn===null&&wa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],E=d[yt]||null;if(typeof p=="function")E||o1(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,E=p[yt]||null)S=E.formAction;else if(op(d)!==null)continue}else S=E.action;typeof S=="function"?o[l+1]=S:(o.splice(l,3),l-=3),o1(o)}}}function cp(r){this._internalRoot=r}Sh.prototype.render=cp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,l=Fn();e1(o,l,r,a,null,null)},Sh.prototype.unmount=cp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;e1(r.current,2,null,r,null,null),ah(),a[tn]=null}};function Sh(r){this._internalRoot=r}Sh.prototype.unstable_scheduleHydration=function(r){if(r){var a=Lr();r={blockedOn:null,target:r,priority:a};for(var o=0;o<wa.length&&a!==0&&a<wa[o].priority;o++);wa.splice(o,0,r),o===0&&a1(r)}};var l1=e.version;if(l1!=="19.1.1")throw Error(i(527,l1,"19.1.1"));te.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var ax={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{gt=Ah.inject(ax),We=Ah}catch{}}return vc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,l="",d=S_,p=A_,E=x_,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=Z0(r,1,!1,null,null,o,l,d,p,E,S,null),r[tn]=a.current,Gm(r),new cp(a)},vc.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var l=!1,d="",p=S_,E=A_,S=x_,j=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),a=Z0(r,1,!0,a,o??null,l,d,p,E,S,j,K),a.context=J0(null),o=a.current,l=Fn(),l=Ke(l),d=sa(l),d.callback=null,oa(o,d,l),o=l,a.current.lanes=o,Xn(a,o),Xr(a),r[tn]=a.current,Gm(r),new Sh(a)},vc.version="19.1.1",vc}var v1;function px(){if(v1)return dp.exports;v1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dp.exports=mx(),dp.exports}var gx=px();const yx=jE(gx);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _1="popstate";function vx(t={}){function e(i,s){let{pathname:c,search:h,hash:m}=i.location;return zp("",{pathname:c,search:h,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:jc(s)}return bx(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _x(){return Math.random().toString(36).substring(2,10)}function b1(t,e){return{usr:t.state,key:t.key,idx:e}}function zp(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:n,key:e&&e.key||i||_x()}}function jc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function bx(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:c=!1}=i,h=s.history,m="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let k=_(),F=k==null?null:k-y;y=k,g&&g({action:m,location:z.location,delta:F})}function w(k,F){m="PUSH";let Q=zp(z.location,k,F);y=_()+1;let G=b1(Q,y),$=z.createHref(Q);try{h.pushState(G,"",$)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign($)}c&&g&&g({action:m,location:z.location,delta:1})}function O(k,F){m="REPLACE";let Q=zp(z.location,k,F);y=_();let G=b1(Q,y),$=z.createHref(Q);h.replaceState(G,"",$),c&&g&&g({action:m,location:z.location,delta:0})}function L(k){return Ex(k)}let z={get action(){return m},get location(){return t(s,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(_1,T),g=k,()=>{s.removeEventListener(_1,T),g=null}},createHref(k){return e(s,k)},createURL:L,encodeLocation(k){let F=L(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:O,go(k){return h.go(k)}};return z}function Ex(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:jc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function kE(t,e,n="/"){return Tx(t,e,n,!1)}function Tx(t,e,n,i){let s=typeof e=="string"?ol(e):e,c=Hi(s.pathname||"/",n);if(c==null)return null;let h=VE(t);wx(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=kx(c);m=Ox(h[g],y,i)}return m}function VE(t,e=[],n=[],i="",s=!1){let c=(h,m,g=s,y)=>{let _={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;_t(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=Bi([i,_.relativePath]),w=n.concat(_);h.children&&h.children.length>0&&(_t(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VE(h.children,e,w,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:Ix(T,h.index),routesMeta:w})};return t.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of ME(h.path))c(h,m,!0,g)}),e}function ME(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return s?[c,""]:[c];let h=ME(i.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),s&&m.push(...h),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function wx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Sx=/^:[\w-]+$/,Ax=3,xx=2,Rx=1,Nx=10,Cx=-2,E1=t=>t==="*";function Ix(t,e){let n=t.split("/"),i=n.length;return n.some(E1)&&(i+=Cx),e&&(i+=xx),n.filter(s=>!E1(s)).reduce((s,c)=>s+(Sx.test(c)?Ax:c===""?Rx:Nx),i)}function Dx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function Ox(t,e,n=!1){let{routesMeta:i}=t,s={},c="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,_=c==="/"?e:e.slice(c.length)||"/",T=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),w=g.route;if(!T&&y&&n&&!i[i.length-1].route.index&&(T=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),h.push({params:s,pathname:Bi([c,T.pathname]),pathnameBase:Lx(Bi([c,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(c=Bi([c,T.pathnameBase]))}return h}function Qh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let c=s[0],h=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:T},w)=>{if(_==="*"){let L=m[w]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[w];return T&&!O?y[_]=void 0:y[_]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:t}}function jx(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function kx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Vx(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:Mx(n,e):e,search:Ux(i),hash:zx(s)}}function Mx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Px(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(t){let e=Px(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Og(t,e,n,i=!1){let s;typeof t=="string"?s=ol(t):(s={...t},_t(!s.pathname||!s.pathname.includes("?"),gp("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),gp("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),gp("#","search","hash",s)));let c=t===""||s.pathname==="",h=c?"/":s.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;s.pathname=w.join("/")}m=T>=0?e[T]:"/"}let g=Vx(s,m),y=h&&h!=="/"&&h.endsWith("/"),_=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var Bi=t=>t.join("/").replace(/\/\/+/g,"/"),Lx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PE=["POST","PUT","PATCH","DELETE"];new Set(PE);var Fx=["GET",...PE];new Set(Fx);var ll=M.createContext(null);ll.displayName="DataRouter";var Sd=M.createContext(null);Sd.displayName="DataRouterState";M.createContext(!1);var LE=M.createContext({isTransitioning:!1});LE.displayName="ViewTransition";var qx=M.createContext(new Map);qx.displayName="Fetchers";var Hx=M.createContext(null);Hx.displayName="Await";var jr=M.createContext(null);jr.displayName="Navigation";var qc=M.createContext(null);qc.displayName="Location";var kr=M.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var jg=M.createContext(null);jg.displayName="RouteError";function Gx(t,{relative:e}={}){_t(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(jr),{hash:s,pathname:c,search:h}=Hc(t,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Bi([n,c])),i.createHref({pathname:m,search:h,hash:s})}function cl(){return M.useContext(qc)!=null}function Ba(){return _t(cl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(qc).location}var UE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zE(t){M.useContext(jr).static||M.useLayoutEffect(t)}function Yn(){let{isDataRoute:t}=M.useContext(kr);return t?i4():$x()}function $x(){_t(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ll),{basename:e,navigator:n}=M.useContext(jr),{matches:i}=M.useContext(kr),{pathname:s}=Ba(),c=JSON.stringify(Dg(i)),h=M.useRef(!1);return zE(()=>{h.current=!0}),M.useCallback((g,y={})=>{if(Ir(h.current,UE),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=Og(g,JSON.parse(c),s,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Bi([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,s,t])}M.createContext(null);function BE(){let{matches:t}=M.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Hc(t,{relative:e}={}){let{matches:n}=M.useContext(kr),{pathname:i}=Ba(),s=JSON.stringify(Dg(n));return M.useMemo(()=>Og(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function Yx(t,e){return FE(t,e)}function FE(t,e,n,i,s){_t(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(jr),{matches:h}=M.useContext(kr),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";qE(y,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=Ba(),O;if(e){let Q=typeof e=="string"?ol(e):e;_t(_==="/"||Q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=w;let L=O.pathname||"/",z=L;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(Q.length).join("/")}let k=kE(t,{pathname:z});Ir(T||k!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ir(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Zx(k&&k.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:Bi([_,c.encodeLocation?c.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:Bi([_,c.encodeLocation?c.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,n,i,s);return e&&F?M.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},F):F}function Kx(){let t=r4(),e=Bx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,h)}var Qx=M.createElement(Kx,null),Wx=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(kr.Provider,{value:this.props.routeContext},M.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xx({routeContext:t,match:e,children:n}){let i=M.useContext(ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(kr.Provider,{value:t},n)}function Zx(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,h=n?.errors;if(h!=null){let y=c.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);_t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:T,errors:w}=n,O=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||O){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,T)=>{let w,O=!1,L=null,z=null;n&&(w=h&&_.route.id?h[_.route.id]:void 0,L=_.route.errorElement||Qx,m&&(g<0&&T===0?(qE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):g===T&&(O=!0,z=_.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,T+1)),F=()=>{let Q;return w?Q=L:O?Q=z:_.route.Component?Q=M.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=y,M.createElement(Xx,{match:_,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?M.createElement(Wx,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:F(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):F()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(t){let e=M.useContext(ll);return _t(e,kg(t)),e}function e4(t){let e=M.useContext(Sd);return _t(e,kg(t)),e}function t4(t){let e=M.useContext(kr);return _t(e,kg(t)),e}function Vg(t){let e=t4(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function n4(){return Vg("useRouteId")}function r4(){let t=M.useContext(jg),e=e4("useRouteError"),n=Vg("useRouteError");return t!==void 0?t:e.errors?.[n]}function i4(){let{router:t}=Jx("useNavigate"),e=Vg("useNavigate"),n=M.useRef(!1);return zE(()=>{n.current=!0}),M.useCallback(async(s,c={})=>{Ir(n.current,UE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...c}))},[t,e])}var T1={};function qE(t,e,n){!e&&!T1[t]&&(T1[t]=!0,Ir(!1,n))}M.memo(a4);function a4({routes:t,future:e,state:n,unstable_onError:i}){return FE(t,void 0,n,i,e)}function w1({to:t,replace:e,state:n,relative:i}){_t(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(jr);Ir(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(kr),{pathname:h}=Ba(),m=Yn(),g=Og(t,Dg(c),h,i==="path"),y=JSON.stringify(g);return M.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:i})},[m,y,i,e,n]),null}function gn(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s4({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:c=!1}){_t(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:h,navigator:s,static:c,future:{}}),[h,s,c]);typeof n=="string"&&(n=ol(n));let{pathname:g="/",search:y="",hash:_="",state:T=null,key:w="default"}=n,O=M.useMemo(()=>{let L=Hi(g,h);return L==null?null:{location:{pathname:L,search:y,hash:_,state:T,key:w},navigationType:i}},[h,g,y,_,T,w,i]);return Ir(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(jr.Provider,{value:m},M.createElement(qc.Provider,{children:e,value:O}))}function o4({children:t,location:e}){return Yx(Bp(t),e)}function Bp(t,e=[]){let n=[];return M.Children.forEach(t,(i,s)=>{if(!M.isValidElement(i))return;let c=[...e,s];if(i.type===M.Fragment){n.push.apply(n,Bp(i.props.children,c));return}_t(i.type===gn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Bp(i.props.children,c)),n.push(h)}),n}var Mh="get",Ph="application/x-www-form-urlencoded";function Ad(t){return t!=null&&typeof t.tagName=="string"}function l4(t){return Ad(t)&&t.tagName.toLowerCase()==="button"}function c4(t){return Ad(t)&&t.tagName.toLowerCase()==="form"}function u4(t){return Ad(t)&&t.tagName.toLowerCase()==="input"}function h4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d4(t,e){return t.button===0&&(!e||e==="_self")&&!h4(t)}var xh=null;function f4(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var m4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(t){return t!=null&&!m4.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):t}function p4(t,e){let n,i,s,c,h;if(c4(t)){let m=t.getAttribute("action");i=m?Hi(m,e):null,n=t.getAttribute("method")||Mh,s=yp(t.getAttribute("enctype"))||Ph,c=new FormData(t)}else if(l4(t)||u4(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(i=g?Hi(g,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Mh,s=yp(t.getAttribute("formenctype"))||yp(m.getAttribute("enctype"))||Ph,c=new FormData(m,t),!f4()){let{name:y,type:_,value:T}=t;if(_==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,T)}}else{if(Ad(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,s=Ph,h=t}return c&&s==="text/plain"&&(h=c,c=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g4(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Hi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function y4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _4(t,e,n){let i=await Promise.all(t.map(async s=>{let c=e.routes[s.route.id];if(c){let h=await y4(c,n);return h.links?h.links():[]}return[]}));return w4(i.flat(1).filter(v4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function S1(t,e,n,i,s,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function b4(t,e,{includeHydrateFallback:n}={}){return E4(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function E4(t){return[...new Set(t)]}function T4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function w4(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let c=JSON.stringify(T4(s));return n.has(c)||(n.add(c),i.push({key:c,link:s})),i},[])}function HE(){let t=M.useContext(ll);return Mg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function S4(){let t=M.useContext(Sd);return Mg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pg=M.createContext(void 0);Pg.displayName="FrameworkContext";function GE(){let t=M.useContext(Pg);return Mg(t,"You must render this element inside a <HydratedRouter> element"),t}function A4(t,e){let n=M.useContext(Pg),[i,s]=M.useState(!1),[c,h]=M.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let z=F=>{F.forEach(Q=>{h(Q.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),M.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let O=()=>{s(!0)},L=()=>{s(!1),h(!1)};return n?t!=="intent"?[c,w,{}]:[c,w,{onFocus:_c(m,O),onBlur:_c(g,L),onMouseEnter:_c(y,O),onMouseLeave:_c(_,L),onTouchStart:_c(T,O)}]:[!1,w,{}]}function _c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function x4({page:t,...e}){let{router:n}=HE(),i=M.useMemo(()=>kE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(N4,{page:t,matches:i,...e}):null}function R4(t){let{manifest:e,routeModules:n}=GE(),[i,s]=M.useState([]);return M.useEffect(()=>{let c=!1;return _4(t,e,n).then(h=>{c||s(h)}),()=>{c=!0}},[t,e,n]),i}function N4({page:t,matches:e,...n}){let i=Ba(),{manifest:s,routeModules:c}=GE(),{basename:h}=HE(),{loaderData:m,matches:g}=S4(),y=M.useMemo(()=>S1(t,e,g,s,i,"data"),[t,e,g,s,i]),_=M.useMemo(()=>S1(t,e,g,s,i,"assets"),[t,e,g,s,i]),T=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let L=new Set,z=!1;if(e.forEach(F=>{let Q=s.routes[F.route.id];!Q||!Q.hasLoader||(!y.some(G=>G.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||Q.hasClientLoader?z=!0:L.add(F.route.id))}),L.size===0)return[];let k=g4(t,h,"data");return z&&L.size>0&&k.searchParams.set("_routes",e.filter(F=>L.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[h,m,i,s,y,e,t,c]),w=M.useMemo(()=>b4(_,s),[_,s]),O=R4(_);return M.createElement(M.Fragment,null,T.map(L=>M.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),w.map(L=>M.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),O.map(({key:L,link:z})=>M.createElement("link",{key:L,nonce:n.nonce,...z})))}function C4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$E&&(window.__reactRouterVersion="7.8.2")}catch{}function I4({basename:t,children:e,window:n}){let i=M.useRef();i.current==null&&(i.current=vx({window:n,v5Compat:!0}));let s=i.current,[c,h]=M.useState({action:s.action,location:s.location}),m=M.useCallback(g=>{M.startTransition(()=>h(g))},[h]);return M.useLayoutEffect(()=>s.listen(m),[s,m]),M.createElement(s4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:s})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lg=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:c,replace:h,state:m,target:g,to:y,preventScrollReset:_,viewTransition:T,...w},O){let{basename:L}=M.useContext(jr),z=typeof y=="string"&&YE.test(y),k,F=!1;if(typeof y=="string"&&z&&(k=y,$E))try{let D=new URL(window.location.href),N=y.startsWith("//")?new URL(D.protocol+y):new URL(y),I=Hi(N.pathname,L);N.origin===D.origin&&I!=null?y=I+N.search+N.hash:F=!0}catch{Ir(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Gx(y,{relative:s}),[G,$,ne]=A4(i,w),ue=k4(y,{replace:h,state:m,target:g,preventScrollReset:_,relative:s,viewTransition:T});function V(D){e&&e(D),D.defaultPrevented||ue(D)}let R=M.createElement("a",{...w,...ne,href:k||Q,onClick:F||c?e:V,ref:C4(O,$),target:g,"data-discover":!z&&n==="render"?"true":void 0});return G&&!z?M.createElement(M.Fragment,null,R,M.createElement(x4,{page:Q})):R});Lg.displayName="Link";var D4=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:c,to:h,viewTransition:m,children:g,...y},_){let T=Hc(h,{relative:y.relative}),w=Ba(),O=M.useContext(Sd),{navigator:L,basename:z}=M.useContext(jr),k=O!=null&&U4(T)&&m===!0,F=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Q=w.pathname,G=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&z&&(G=Hi(G,z)||G);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=Q===F||!s&&Q.startsWith(F)&&Q.charAt($)==="/",ue=G!=null&&(G===F||!s&&G.startsWith(F)&&G.charAt(F.length)==="/"),V={isActive:ne,isPending:ue,isTransitioning:k},R=ne?e:void 0,D;typeof i=="function"?D=i(V):D=[i,ne?"active":null,ue?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(V):c;return M.createElement(Lg,{...y,"aria-current":R,className:D,ref:_,style:N,to:h,viewTransition:m},typeof g=="function"?g(V):g)});D4.displayName="NavLink";var O4=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:c,method:h=Mh,action:m,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:T,...w},O)=>{let L=P4(),z=L4(m,{relative:y}),k=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&YE.test(m),Q=G=>{if(g&&g(G),G.defaultPrevented)return;G.preventDefault();let $=G.nativeEvent.submitter,ne=$?.getAttribute("formmethod")||h;L($||G.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:s,state:c,relative:y,preventScrollReset:_,viewTransition:T})};return M.createElement("form",{ref:O,method:k,action:z,onSubmit:i?g:Q,...w,"data-discover":!F&&t==="render"?"true":void 0})});O4.displayName="Form";function j4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(t){let e=M.useContext(ll);return _t(e,j4(t)),e}function k4(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:c,viewTransition:h}={}){let m=Yn(),g=Ba(),y=Hc(t,{relative:c});return M.useCallback(_=>{if(d4(_,e)){_.preventDefault();let T=n!==void 0?n:jc(g)===jc(y);m(t,{replace:T,state:i,preventScrollReset:s,relative:c,viewTransition:h})}},[g,m,y,n,i,e,t,s,c,h])}var V4=0,M4=()=>`__${String(++V4)}__`;function P4(){let{router:t}=KE("useSubmit"),{basename:e}=M.useContext(jr),n=n4();return M.useCallback(async(i,s={})=>{let{action:c,method:h,encType:m,formData:g,body:y}=p4(i,e);if(s.navigate===!1){let _=s.fetcherKey||M4();await t.fetch(_,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||m,flushSync:s.flushSync})}else await t.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function L4(t,{relative:e}={}){let{basename:n}=M.useContext(jr),i=M.useContext(kr);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),c={...Hc(t||".",{relative:e})},h=Ba();if(t==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();c.search=_?`?${_}`:""}}return(!t||t===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Bi([n,c.pathname])),jc(c)}function U4(t,{relative:e}={}){let n=M.useContext(LE);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KE("useViewTransitionState"),s=Hc(t,{relative:e});if(!n.isTransitioning)return!1;let c=Hi(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Hi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qh(s.pathname,h)!=null||Qh(s.pathname,c)!=null}const z4=()=>{const t=e=>{window.location.href=e};return f.jsxs("div",{className:"landing-page",children:[f.jsxs("nav",{children:[f.jsx("div",{className:"logo",children:f.jsx("span",{className:"gradient",children:"Event-ually Perfect"})}),f.jsxs("div",{className:"nav-links",children:[f.jsx("a",{href:"#services",children:"Services"}),f.jsx("a",{href:"#about",children:"About"}),f.jsx("button",{className:"nav-button",onClick:()=>t("signup"),children:"Sign Up"}),f.jsx("button",{className:"nav-button",onClick:()=>t("login"),children:"Login"})]})]}),f.jsx("section",{className:"hero",children:f.jsxs("div",{className:"hero-content",children:[f.jsxs("h1",{children:["Event-ually ",f.jsx("span",{className:"gradient",children:"Perfect"})]}),f.jsx("p",{children:"We give you all the tools needed to create unforgettable experiences tailored to your vision. From intimate gatherings to grand celebrations, we handle every detail so you can enjoy the moment."}),f.jsx("button",{className:"hero-button",onClick:()=>t("signup"),children:"Get Started"})]})}),f.jsx("section",{className:"content-section services",id:"services",children:f.jsxs("div",{className:"section-container",children:[f.jsx("h2",{className:"section-smallTitle",children:"Our Services"}),f.jsx("h3",{className:"gradient-text",children:"We are here to help you"}),f.jsx("p",{className:"section-text",children:"We offer a wide range of services to make your event planning experience hassle-free and stress-free."}),f.jsxs("div",{className:"value-grid",children:[f.jsxs("div",{className:"my-block",children:[f.jsx("i",{className:"fas fa-users"}),f.jsx("h3",{className:"block-title",children:"Guest Management"}),f.jsx("p",{className:"block-text",children:"Track RSVPs, dietary needs, and seating in one place."})]}),f.jsxs("div",{className:"my-block",children:[f.jsx("i",{className:"fas fa-utensils"}),f.jsx("h3",{className:"block-title",children:"Vendor Coordination"}),f.jsx("p",{className:"block-text",children:"Compare and book caterers, venues, and more."})]}),f.jsxs("div",{className:"my-block",children:[f.jsx("i",{className:"fas fa-map-marked-alt"}),f.jsx("h3",{className:"block-title",children:"Event Blueprints"}),f.jsx("p",{className:"block-text",children:"Design floorplans and schedules with drag-and-drop."})]})]})]})}),f.jsx("section",{className:"content-section about",id:"about",children:f.jsxs("div",{className:"section-container",children:[f.jsx("h2",{className:"gradient-text",children:"Why We Do It"}),f.jsxs("div",{className:"about-content",children:[f.jsxs("p",{className:"section-text highlight-first",children:["At ",f.jsx("strong",{children:"Event-ually Perfect"}),", we believe every celebration should be as unique as the people it honors. Your events aren't just dates on a calendar—they're the milestones that define your story."]}),f.jsxs("div",{className:"about-features",children:[f.jsxs("div",{className:"feature-block",children:[f.jsx("i",{className:"fas fa-palette feature-icon"}),f.jsx("h3",{className:"feature-title",children:"Custom Design"}),f.jsx("p",{children:"Themes that reflect your personality"})]}),f.jsxs("div",{className:"feature-block",children:[f.jsx("i",{className:"fas fa-clock feature-icon"}),f.jsx("h3",{className:"feature-title",children:"Seamless Execution"}),f.jsx("p",{children:"Precision coordination so you can be present"})]}),f.jsxs("div",{className:"feature-block",children:[f.jsx("i",{className:"fas fa-heart feature-icon"}),f.jsx("h3",{className:"feature-title",children:"Thoughtful Details"}),f.jsx("p",{children:"From signature cocktails to custom timelines"})]})]}),f.jsxs("div",{className:"mission-statement",children:[f.jsx("p",{className:"section-text",children:"Because your wedding should taste like childhood memories. Because your gala should spark the same excitement as your first success. We don't just plan events—we design experiences that disappear into the background, leaving only the joy of connection."}),f.jsx("button",{className:"hero-button",onClick:()=>t("signup"),children:"Let's Create Together"})]})]})]})})]})},B4=()=>{};var A1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const c=t[n++];e[i++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){const c=t[n++],h=t[n++],m=t[n++],g=((s&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=t[n++],h=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(c&63)<<6|h&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const c=t[s],h=s+1<t.length,m=h?t[s+1]:0,g=s+2<t.length,y=g?t[s+2]:0,_=c>>2,T=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,O=y&63;g||(O=64,h||(w=64)),i.push(n[_],n[T],n[w],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const c=n[t.charAt(s++)],m=s<t.length?n[t.charAt(s)]:0;++s;const y=s<t.length?n[t.charAt(s)]:64;++s;const T=s<t.length?n[t.charAt(s)]:64;if(++s,c==null||m==null||y==null||T==null)throw new q4;const w=c<<2|m>>4;if(i.push(w),y!==64){const O=m<<4&240|y>>2;if(i.push(O),T!==64){const L=y<<6&192|T;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H4=function(t){const e=QE(t);return WE.encodeByteArray(e,!0)},Wh=function(t){return H4(t).replace(/\./g,"")},XE=function(t){try{return WE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=()=>G4().__FIREBASE_DEFAULTS__,Y4=()=>{if(typeof process>"u"||typeof A1>"u")return;const t=A1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XE(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return B4()||$4()||Y4()||K4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>xd()?.emulatorHosts?.[t],JE=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},e2=()=>xd()?.config,t2=t=>xd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ug(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(h)),""].join(".")}const Ac={};function W4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function X4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x1=!1;function zg(t,e){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||Ac[t]===e||Ac[t]||x1)return;Ac[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",c=W4().prod.length>0;function h(){const w=document.getElementById(i);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{x1=!0,h()},w}function _(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=X4(i),O=n("text"),L=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),k=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;m(G),_(k,z);const $=y();g(Q,F),G.append(Q,L,k,$),document.body.appendChild(G)}c?(L.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function J4(){const t=xd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rR(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i2(){try{return typeof indexedDB=="object"}catch{return!1}}function a2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function iR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class pr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,c=this.errors[e],h=c?sR(c,i):"Error",m=`${this.serviceName}: ${h} (${s}).`;return new pr(s,m,i)}}function sR(t,e){return t.replace(oR,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const oR=/\{\$([^}]+)}/g;function lR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const c=t[s],h=e[s];if(R1(c)&&R1(h)){if(!ai(c,h))return!1}else if(c!==h)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function R1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cR(t,e){const n=new uR(t,e);return n.subscribe.bind(n)}class uR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1e3,fR=2,mR=14400*1e3,pR=.5;function N1(t,e=dR,n=fR){const i=e*Math.pow(n,t),s=Math.round(pR*i*(Math.random()-.5)*2);return Math.min(mR,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Q4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:s});i.resolve(c)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const c=this.instances.get(i);return c&&e(c,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(t){return t===xs?void 0:t}function vR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const bR={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ER=ze.INFO,TR={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},wR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=TR[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=ER,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const SR=(t,e)=>e.some(n=>t instanceof n);let C1,I1;function AR(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s2=new WeakMap,Fp=new WeakMap,o2=new WeakMap,_p=new WeakMap,Bg=new WeakMap;function RR(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",c),t.removeEventListener("error",h)},c=()=>{n(Ia(t.result)),s()},h=()=>{i(t.error),s()};t.addEventListener("success",c),t.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&s2.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function NR(t){if(Fp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",h),t.removeEventListener("abort",h)},c=()=>{n(),s()},h=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",c),t.addEventListener("error",h),t.addEventListener("abort",h)});Fp.set(t,e)}let qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CR(t){qp=t(qp)}function IR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(bp(this),e,...n);return o2.set(i,e.sort?e.sort():[e]),Ia(i)}:xR().includes(t)?function(...e){return t.apply(bp(this),e),Ia(s2.get(this))}:function(...e){return Ia(t.apply(bp(this),e))}}function DR(t){return typeof t=="function"?IR(t):(t instanceof IDBTransaction&&NR(t),SR(t,AR())?new Proxy(t,qp):t)}function Ia(t){if(t instanceof IDBRequest)return RR(t);if(_p.has(t))return _p.get(t);const e=DR(t);return e!==t&&(_p.set(t,e),Bg.set(e,t)),e}const bp=t=>Bg.get(t);function l2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:c}={}){const h=indexedDB.open(t,e),m=Ia(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Ia(h.result),g.oldVersion,g.newVersion,Ia(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),s&&g.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const OR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Ep=new Map;function D1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=jR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||OR.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,s?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),s&&g.done]))[0]};return Ep.set(e,c),c}CR(t=>({...t,get:(e,n,i)=>D1(e,n)||t.get(e,n,i),has:(e,n)=>!!D1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function VR(t){return t.getComponent()?.type==="VERSION"}const Hp="@firebase/app",O1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Rd("@firebase/app"),MR="@firebase/app-compat",PR="@firebase/analytics-compat",LR="@firebase/analytics",UR="@firebase/app-check-compat",zR="@firebase/app-check",BR="@firebase/auth",FR="@firebase/auth-compat",qR="@firebase/database",HR="@firebase/data-connect",GR="@firebase/database-compat",$R="@firebase/functions",YR="@firebase/functions-compat",KR="@firebase/installations",QR="@firebase/installations-compat",WR="@firebase/messaging",XR="@firebase/messaging-compat",ZR="@firebase/performance",JR="@firebase/performance-compat",eN="@firebase/remote-config",tN="@firebase/remote-config-compat",nN="@firebase/storage",rN="@firebase/storage-compat",iN="@firebase/firestore",aN="@firebase/ai",sN="@firebase/firestore-compat",oN="firebase",lN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",cN={[Hp]:"fire-core",[MR]:"fire-core-compat",[LR]:"fire-analytics",[PR]:"fire-analytics-compat",[zR]:"fire-app-check",[UR]:"fire-app-check-compat",[BR]:"fire-auth",[FR]:"fire-auth-compat",[qR]:"fire-rtdb",[HR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[$R]:"fire-fn",[YR]:"fire-fn-compat",[KR]:"fire-iid",[QR]:"fire-iid-compat",[WR]:"fire-fcm",[XR]:"fire-fcm-compat",[ZR]:"fire-perf",[JR]:"fire-perf-compat",[eN]:"fire-rc",[tN]:"fire-rc-compat",[nN]:"fire-gcs",[rN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat",[aN]:"fire-vertex","fire-js":"fire-js",[oN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,uN=new Map,$p=new Map;function j1(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if($p.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of Xh.values())j1(n,t);for(const n of uN.values())j1(n,t);return!0}function Fa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Bs("app","Firebase",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=lN;function c2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Gp,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Da.create("bad-app-name",{appName:String(s)});if(n||(n=e2()),!n)throw Da.create("no-options");const c=Xh.get(s);if(c){if(ai(n,c.options)&&ai(i,c.config))return c;throw Da.create("duplicate-app",{appName:s})}const h=new _R(s);for(const g of $p.values())h.addComponent(g);const m=new dN(n,i,h);return Xh.set(s,m),m}function Nd(t=Gp){const e=Xh.get(t);if(!e&&t===Gp&&e2())return c2();if(!e)throw Da.create("no-app",{appName:t});return e}function In(t,e,n){let i=cN[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(h.join(" "));return}Dr(new mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",mN=1,kc="firebase-heartbeat-store";let Tp=null;function u2(){return Tp||(Tp=l2(fN,mN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Da.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function pN(t){try{const n=(await u2()).transaction(kc),i=await n.objectStore(kc).get(h2(t));return await n.done,i}catch(e){if(e instanceof pr)Gi.warn(e.message);else{const n=Da.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(n.message)}}}async function k1(t,e){try{const i=(await u2()).transaction(kc,"readwrite");await i.objectStore(kc).put(e,h2(t)),await i.done}catch(n){if(n instanceof pr)Gi.warn(n.message);else{const i=Da.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(i.message)}}}function h2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=1024,yN=30;class vN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=V1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>yN){const s=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V1(),{heartbeatsToSend:n,unsentEntries:i}=_N(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Gi.warn(e),""}}}function V1(){return new Date().toISOString().substring(0,10)}function _N(t,e=gN){const n=[];let i=t.slice();for(const s of t){const c=n.find(h=>h.agent===s.agent);if(c){if(c.dates.push(s.date),M1(n)>e){c.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i2()?a2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M1(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function EN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){Dr(new mr("platform-logger",e=>new kR(e),"PRIVATE")),Dr(new mr("heartbeat",e=>new vN(e),"PRIVATE")),In(Hp,O1,t),In(Hp,O1,"esm2020"),In("fire-js","")}TN("");var wN="firebase",SN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(wN,SN,"app");const d2="@firebase/installations",Fg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1e4,m2=`w:${Fg}`,p2="FIS_v2",AN="https://firebaseinstallations.googleapis.com/v1",xN=3600*1e3,RN="installations",NN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vs=new Bs(RN,NN,CN);function g2(t){return t instanceof pr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2({projectId:t}){return`${AN}/projects/${t}/installations`}function v2(t){return{token:t.token,requestStatus:2,expiresIn:DN(t.expiresIn),creationTime:Date.now()}}async function _2(t,e){const i=(await e.json()).error;return Vs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function b2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IN(t,{refreshToken:e}){const n=b2(t);return n.append("Authorization",ON(e)),n}async function E2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DN(t){return Number(t.replace("s","000"))}function ON(t){return`${p2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=y2(t),s=b2(t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const h={fid:n,authVersion:p2,appId:t.appId,sdkVersion:m2},m={method:"POST",headers:s,body:JSON.stringify(h)},g=await E2(()=>fetch(i,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:v2(y.authToken)}}else throw await _2("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=/^[cdef][\w-]{21}$/,Yp="";function MN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PN(t);return VN.test(n)?n:Yp}catch{return Yp}}function PN(t){return kN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Map;function S2(t,e){const n=Cd(t);A2(n,e),LN(n,e)}function A2(t,e){const n=w2.get(t);if(n)for(const i of n)i(e)}function LN(t,e){const n=UN();n&&n.postMessage({key:t,fid:e}),zN()}let Rs=null;function UN(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=t=>{A2(t.data.key,t.data.fid)}),Rs}function zN(){w2.size===0&&Rs&&(Rs.close(),Rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebase-installations-database",FN=1,Ms="firebase-installations-store";let wp=null;function qg(){return wp||(wp=l2(BN,FN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ms)}}})),wp}async function Zh(t,e){const n=Cd(t),s=(await qg()).transaction(Ms,"readwrite"),c=s.objectStore(Ms),h=await c.get(n);return await c.put(e,n),await s.done,(!h||h.fid!==e.fid)&&S2(t,e.fid),e}async function x2(t){const e=Cd(t),i=(await qg()).transaction(Ms,"readwrite");await i.objectStore(Ms).delete(e),await i.done}async function Id(t,e){const n=Cd(t),s=(await qg()).transaction(Ms,"readwrite"),c=s.objectStore(Ms),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await s.done,m&&(!h||h.fid!==m.fid)&&S2(t,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hg(t){let e;const n=await Id(t.appConfig,i=>{const s=qN(i),c=HN(t,s);return e=c.registrationPromise,c.installationEntry});return n.fid===Yp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qN(t){const e=t||{fid:MN(),registrationStatus:0};return R2(e)}function HN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=GN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$N(t)}:{installationEntry:e}}async function GN(t,e){try{const n=await jN(t,e);return Zh(t.appConfig,n)}catch(n){throw g2(n)&&n.customData.serverCode===409?await x2(t.appConfig):await Zh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $N(t){let e=await P1(t.appConfig);for(;e.registrationStatus===1;)await T2(100),e=await P1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Hg(t);return i||n}return e}function P1(t){return Id(t,e=>{if(!e)throw Vs.create("installation-not-found");return R2(e)})}function R2(t){return YN(t)?{fid:t.fid,registrationStatus:0}:t}function YN(t){return t.registrationStatus===1&&t.registrationTime+f2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN({appConfig:t,heartbeatServiceProvider:e},n){const i=QN(t,n),s=IN(t,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const h={installation:{sdkVersion:m2,appId:t.appId}},m={method:"POST",headers:s,body:JSON.stringify(h)},g=await E2(()=>fetch(i,m));if(g.ok){const y=await g.json();return v2(y)}else throw await _2("Generate Auth Token",g)}function QN(t,{fid:e}){return`${y2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t,e=!1){let n;const i=await Id(t.appConfig,c=>{if(!N2(c))throw Vs.create("not-registered");const h=c.authToken;if(!e&&ZN(h))return c;if(h.requestStatus===1)return n=WN(t,e),c;{if(!navigator.onLine)throw Vs.create("app-offline");const m=eC(c);return n=XN(t,m),m}});return n?await n:i.authToken}async function WN(t,e){let n=await L1(t.appConfig);for(;n.authToken.requestStatus===1;)await T2(100),n=await L1(t.appConfig);const i=n.authToken;return i.requestStatus===0?Gg(t,e):i}function L1(t){return Id(t,e=>{if(!N2(e))throw Vs.create("not-registered");const n=e.authToken;return tC(n)?{...e,authToken:{requestStatus:0}}:e})}async function XN(t,e){try{const n=await KN(t,e),i={...e,authToken:n};return await Zh(t.appConfig,i),n}catch(n){if(g2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x2(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Zh(t.appConfig,i)}throw n}}function N2(t){return t!==void 0&&t.registrationStatus===2}function ZN(t){return t.requestStatus===2&&!JN(t)}function JN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xN}function eC(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function tC(t){return t.requestStatus===1&&t.requestTime+f2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t){const e=t,{installationEntry:n,registrationPromise:i}=await Hg(e);return i?i.catch(console.error):Gg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e=!1){const n=t;return await iC(n),(await Gg(n,e)).token}async function iC(t){const{registrationPromise:e}=await Hg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){if(!t||!t.options)throw Sp("App Configuration");if(!t.name)throw Sp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sp(t){return Vs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="installations",sC="installations-internal",oC=t=>{const e=t.getProvider("app").getImmediate(),n=aC(e),i=Fa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},lC=t=>{const e=t.getProvider("app").getImmediate(),n=Fa(e,C2).getImmediate();return{getId:()=>nC(n),getToken:s=>rC(n,s)}};function cC(){Dr(new mr(C2,oC,"PUBLIC")),Dr(new mr(sC,lC,"PRIVATE"))}cC();In(d2,Fg);In(d2,Fg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="analytics",uC="firebase_id",hC="origin",dC=60*1e3,fC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Bs("analytics","Analytics",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(!t.startsWith($g)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return Dn.warn(e.message),""}return t}function I2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function gC(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yC(t,e){const n=gC("firebase-js-sdk-policy",{createScriptURL:pC}),i=document.createElement("script"),s=`${$g}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function vC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _C(t,e,n,i,s,c){const h=i[s];try{if(h)await e[h];else{const g=(await I2(n)).find(y=>y.measurementId===s);g&&await e[g.appId]}}catch(m){Dn.error(m)}t("config",s,c)}async function bC(t,e,n,i,s){try{let c=[];if(s&&s.send_to){let h=s.send_to;Array.isArray(h)||(h=[h]);const m=await I2(n);for(const g of h){const y=m.find(T=>T.measurementId===g),_=y&&e[y.appId];if(_)c.push(_);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),t("event",i,s||{})}catch(c){Dn.error(c)}}function EC(t,e,n,i){async function s(c,...h){try{if(c==="event"){const[m,g]=h;await bC(t,e,n,m,g)}else if(c==="config"){const[m,g]=h;await _C(t,e,n,i,m,g)}else if(c==="consent"){const[m,g]=h;t("consent",m,g)}else if(c==="get"){const[m,g,y]=h;t("get",m,g,y)}else if(c==="set"){const[m]=h;t("set",m)}else t(c,...h)}catch(m){Dn.error(m)}}return s}function TC(t,e,n,i,s){let c=function(...h){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(c=window[s]),window[s]=EC(c,t,e,n),{gtagCore:c,wrappedGtag:window[s]}}function wC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($g)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=30,AC=1e3;class xC{constructor(e={},n=AC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D2=new xC;function RC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function NC(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:RC(n)},s=fC.replace("{app-id}",e),c=await fetch(s,i);if(c.status!==200&&c.status!==304){let h="";try{const m=await c.json();m.error?.message&&(h=m.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function CC(t,e=D2,n){const{appId:i,apiKey:s,measurementId:c}=t.options;if(!i)throw $n.create("no-app-id");if(!s){if(c)return{measurementId:c,appId:i};throw $n.create("no-api-key")}const h=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new OC;return setTimeout(async()=>{m.abort()},dC),O2({appId:i,apiKey:s,measurementId:c},h,m,e)}async function O2(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=D2){const{appId:c,measurementId:h}=t;try{await IC(i,e)}catch(m){if(h)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw m}try{const m=await NC(t);return s.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!DC(g)){if(s.deleteThrottleMetadata(c),h)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw m}const y=Number(g?.customData?.httpStatus)===503?N1(n,s.intervalMillis,SC):N1(n,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return s.setThrottleMetadata(c,_),Dn.debug(`Calling attemptFetch again in ${y} millis`),O2(t,_,i,s)}}function IC(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),c=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(c),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DC(t){if(!(t instanceof pr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class OC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jC(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const c=await e,h={...i,send_to:c};t("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(){if(i2())try{await a2()}catch(t){return Dn.warn($n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Dn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VC(t,e,n,i,s,c,h){const m=CC(t);m.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Dn.error(w)),e.push(m);const g=kC().then(w=>{if(w)return i.getId()}),[y,_]=await Promise.all([m,g]);wC(c)||yC(c,y.measurementId),s("js",new Date);const T=h?.config??{};return T[hC]="firebase",T.update=!0,_!=null&&(T[uC]=_),s("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.app=e}_delete(){return delete xc[this.app.options.appId],Promise.resolve()}}let xc={},U1=[];const z1={};let Ap="dataLayer",PC="gtag",B1,j2,F1=!1;function LC(){const t=[];if(r2()&&t.push("This is a browser extension environment."),iR()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function UC(t,e,n){LC();const i=t.options.appId;if(!i)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(xc[i]!=null)throw $n.create("already-exists",{id:i});if(!F1){vC(Ap);const{wrappedGtag:c,gtagCore:h}=TC(xc,U1,z1,Ap,PC);j2=c,B1=h,F1=!0}return xc[i]=VC(t,U1,z1,e,B1,Ap,n),new MC(t)}function zC(t=Nd()){t=Tt(t);const e=Fa(t,Jh);return e.isInitialized()?e.getImmediate():BC(t)}function BC(t,e={}){const n=Fa(t,Jh);if(n.isInitialized()){const s=n.getImmediate();if(ai(e,n.getOptions()))return s;throw $n.create("already-initialized")}return n.initialize({options:e})}function FC(t,e,n,i){t=Tt(t),jC(j2,xc[t.app.options.appId],e,n,i).catch(s=>Dn.error(s))}const q1="@firebase/analytics",H1="0.10.18";function qC(){Dr(new mr(Jh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return UC(i,s,n)},"PUBLIC")),Dr(new mr("analytics-internal",t,"PRIVATE")),In(q1,H1),In(q1,H1,"esm2020");function t(e){try{const n=e.getProvider(Jh).getImmediate();return{logEvent:(i,s,c)=>FC(n,i,s,c)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}qC();function k2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HC=k2,V2=new Bs("auth","Firebase",k2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Rd("@firebase/auth");function GC(t,...e){ed.logLevel<=ze.WARN&&ed.warn(`Auth (${Fs}): ${t}`,...e)}function Lh(t,...e){ed.logLevel<=ze.ERROR&&ed.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw Kg(t,...e)}function Cr(t,...e){return Kg(t,...e)}function Yg(t,e,n){const i={...HC(),[e]:n};return new Bs("auth","Firebase",i).create(e,{appName:t.name})}function Is(t){return Yg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $C(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&si(t,"argument-error"),Yg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return V2.create(t,...e)}function Ne(t,e,...n){if(!t)throw Kg(e,...n)}function Li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function $i(t,e){t||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){return typeof self<"u"&&self.location?.href||""}function YC(){return G1()==="http:"||G1()==="https:"}function G1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YC()||r2()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=Z4()||tR()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZC=new $c(3e4,6e4);function Wg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,i,s={}){return P2(t,s,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=Gc({key:t.config.apiKey,...h}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:g,...c};return eR()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&zs(t.emulatorConfig.host)&&(y.credentials="include"),M2.fetch()(await L2(t,t.config.apiHost,n,m),y)})}async function P2(t,e,n){t._canInitEmulator=!1;const i={...WC,...e};try{const s=new eI(t),c=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Rh(t,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",h);if(g==="USER_DISABLED")throw Rh(t,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yg(t,_,y);si(t,_)}}catch(s){if(s instanceof pr)throw s;si(t,"network-request-failed",{message:String(s)})}}async function JC(t,e,n,i,s={}){const c=await ul(t,e,n,i,s);return"mfaPendingCredential"in c&&si(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function L2(t,e,n,i){const s=`${e}${n}?${i}`,c=t,h=c.config.emulator?Qg(t.config,s):`${t.config.apiScheme}://${s}`;return XC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cr(this.auth,"network-request-failed")),ZC.get())})}}function Rh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Cr(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function td(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(t,e=!1){const n=Tt(t),i=await n.getIdToken(e),s=Xg(i);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const c=typeof s.firebase=="object"?s.firebase:void 0,h=c?.sign_in_provider;return{claims:s,token:i,authTime:Rc(xp(s.auth_time)),issuedAtTime:Rc(xp(s.iat)),expirationTime:Rc(xp(s.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xp(t){return Number(t)*1e3}function Xg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const s=XE(n);return s?JSON.parse(s):(Lh("Failed to decode base64 JWT payload"),null)}catch(s){return Lh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $1(t){const e=Xg(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof pr&&rI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function rI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){const e=t.auth,n=await t.getIdToken(),i=await Vc(t,td(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const c=s.providerUserInfo?.length?U2(s.providerUserInfo):[],h=sI(t.providerData,c),m=t.isAnonymous,g=!(t.email&&s.passwordHash)&&!h?.length,y=m?g:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function aI(t){const e=Tt(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sI(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function U2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t,e){const n=await P2(t,{},async()=>{const i=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:c}=t.config,h=await L2(t,s,"/v1/token",`key=${c}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return t.emulatorConfig&&zs(t.emulatorConfig.host)&&(g.credentials="include"),M2.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lI(t,e){return ul(t,"POST","/v2/accounts:revokeToken",Wg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=$1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:c}=await oI(e,n);this.updateTokensAndExpiration(i,s,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:c}=n,h=new Yo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),h.accessToken=s),c&&(Ne(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new iI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nI(this,e)}reload(){return aI(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Vc(this,tI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:L,stsTokenManager:z}=n;Ne(T&&z,e,"internal-error");const k=Yo.fromJSON(this.name,z);Ne(typeof T=="string",e,"internal-error"),Aa(i,e.name),Aa(s,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof O=="boolean",e,"internal-error"),Aa(c,e.name),Aa(h,e.name),Aa(m,e.name),Aa(g,e.name),Aa(y,e.name),Aa(_,e.name);const F=new Rr({uid:T,auth:e,email:s,emailVerified:w,displayName:i,isAnonymous:O,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:_});return L&&Array.isArray(L)&&(F.providerData=L.map(Q=>({...Q}))),g&&(F._redirectEventId=g),F}static async _fromIdTokenResponse(e,n,i=!1){const s=new Yo;s.updateFromServerResponse(n);const c=new Rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await nd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const c=s.providerUserInfo!==void 0?U2(s.providerUserInfo):[],h=!(s.email&&s.passwordHash)&&!c?.length,m=new Yo;m.updateFromIdToken(i);const g=new Rr({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function Ui(t){$i(t instanceof Function,"Expected a class definition");let e=Y1.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}z2.type="NONE";const K1=z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:c}=this.auth;this.fullUserKey=Uh(this.userKey,s.apiKey,c),this.fullPersistenceKey=Uh("persistence",s.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ko(Ui(K1),e,i);const s=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=s[0]||Ui(K1);const h=Uh(i,e.config.apiKey,e.name);let m=null;for(const y of n)try{const _=await y._get(h);if(_){let T;if(typeof _=="string"){const w=await td(e,{idToken:_}).catch(()=>{});if(!w)break;T=await Rr._fromGetAccountInfoResponse(e,w,_)}else T=Rr._fromJSON(e,_);y!==c&&(m=T),c=y;break}}catch{}const g=s.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ko(c,e,i):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Ko(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($2(e))return"Blackberry";if(Y2(e))return"Webos";if(F2(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(G2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function B2(t=_n()){return/firefox\//i.test(t)}function F2(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(t=_n()){return/crios\//i.test(t)}function H2(t=_n()){return/iemobile/i.test(t)}function G2(t=_n()){return/android/i.test(t)}function $2(t=_n()){return/blackberry/i.test(t)}function Y2(t=_n()){return/webos/i.test(t)}function Zg(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cI(t=_n()){return Zg(t)&&!!window.navigator?.standalone}function uI(){return nR()&&document.documentMode===10}function K2(t=_n()){return Zg(t)||G2(t)||Y2(t)||$2(t)||/windows phone/i.test(t)||H2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e=[]){let n;switch(t){case"Browser":n=Q1(_n());break;case"Worker":n=`${Q1(_n())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(t,e={}){return ul(t,"GET","/v2/passwordPolicy",Wg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=6;class mI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(i=m.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Is(this));const n=e?Tt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dI(this),n=new mI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await lI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,s);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dd(t){return Tt(t)}class W1{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(t){Jg=t}function yI(t){return Jg.loadJS(t)}function vI(){return Jg.gapiScript}function _I(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){const n=Fa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),c=n.getOptions();if(ai(c,e??{}))return s;si(s,"already-initialized")}return n.initialize({options:e})}function EI(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function TI(t,e,n){const i=Dd(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,c=W2(e),{host:h,port:m}=wI(e),g=m===null?"":`:${m}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(ai(y,i.config.emulator)&&ai(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,zs(h)?(Ug(`${c}//${h}${g}`),zg("Auth",!0)):SI()}function W2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wI(t){const e=W2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const c=s[1];return{host:c,port:X1(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:X1(h)}}}function X1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return JC(t,"POST","/v1/accounts:signInWithIdp",Wg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Ps extends X2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...c}=n;if(!i||!s)return null;const h=new Ps(i,s);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Yc{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Pi.credential(n,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Yc{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Yc{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Na.credential(n,i)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const c=await Rr._fromIdTokenResponse(e,i,s),h=Z1(i);return new Xo({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Z1(i);return new Xo({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends pr{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new rd(e,n,i,s)}}function Z2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,c,e,i):c})}async function xI(t,e,n=!1){const i=await Vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,e,n=!1){const{auth:i}=t;if(hr(i.app))return Promise.reject(Is(i));const s="reauthenticate";try{const c=await Vc(t,Z2(i,s,e,t),n);Ne(c.idToken,i,"internal-error");const h=Xg(c.idToken);Ne(h,i,"internal-error");const{sub:m}=h;return Ne(t.uid===m,i,"user-mismatch"),Xo._forOperation(t,s,c)}catch(c){throw c?.code==="auth/user-not-found"&&si(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t,e,n=!1){if(hr(t.app))return Promise.reject(Is(t));const i="signIn",s=await Z2(t,i,e),c=await Xo._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(c.user),c}function CI(t,e,n,i){return Tt(t).onIdTokenChanged(e,n,i)}function II(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function Od(t,e,n,i){return Tt(t).onAuthStateChanged(e,n,i)}function J2(t){return Tt(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1e3,OI=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);uI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const jI=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nT.type="SESSION";const rT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new jd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:c}=n.data,h=this.handlersMap[s];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(h).map(async y=>y(n.origin,c)),g=await kI(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const y=ty("",20);s.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:s,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function MI(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function PI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){return navigator?.serviceWorker?.controller||null}function UI(){return iT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",zI=1,ad="firebaseLocalStorage",sT="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function BI(){const t=indexedDB.deleteDatabase(aT);return new Kc(t).toPromise()}function Wp(){const t=indexedDB.open(aT,zI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ad,{keyPath:sT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ad)?e(i):(i.close(),await BI(),e(await Wp()))})})}async function J1(t,e,n){const i=kd(t,!0).put({[sT]:e,value:n});return new Kc(i).toPromise()}async function FI(t,e){const n=kd(t,!1).get(e),i=await new Kc(n).toPromise();return i===void 0?null:i.value}function eb(t,e){const n=kd(t,!0).delete(e);return new Kc(n).toPromise()}const qI=800,HI=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await J1(e,id,"1"),await eb(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>J1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>FI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const c=kd(s,!1).getAll();return new Kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:c}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const GI=oT;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){return e?Ui(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends X2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $I(t){return NI(t.auth,new ny(t),t.bypassAuthState)}function YI(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),RI(n,new ny(t),t.bypassAuthState)}async function KI(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),xI(n,new ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,i,s,c=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $I;case"linkViaPopup":case"linkViaRedirect":return KI;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:si(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new $c(2e3,1e4);async function uT(t,e,n){if(hr(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const i=Dd(t);$C(t,e,ey);const s=lT(i,n);return new Ns(i,"signInViaPopup",e,s).executeNotNull()}class Ns extends cT{constructor(e,n,i,s,c){super(e,n,s,c),this.provider=i,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QI.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="pendingRedirect",zh=new Map;class XI extends cT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const i=await ZI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(t,e){const n=tD(e),i=eD(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function JI(t,e){zh.set(t._key(),e)}function eD(t){return Ui(t._redirectPersistence)}function tD(t){return Uh(WI,t.config.apiKey,t.name)}async function nD(t,e,n=!1){if(hr(t.app))return Promise.reject(Is(t));const i=Dd(t),s=lT(i,e),h=await new XI(i,s,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=600*1e3;class iD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rD&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(e))}saveEventToCache(e){this.cachedEventUids.add(tb(e)),this.lastProcessedEventTime=Date.now()}}function tb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;async function cD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sD(t);for(const n of e)try{if(uD(n))return}catch{}si(t,"unauthorized-domain")}function uD(t){const e=Kp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!lD.test(n))return!1;if(oD.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new $c(3e4,6e4);function nb(){const t=ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dD(t){return new Promise((e,n)=>{function i(){nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nb(),n(Cr(t,"network-request-failed"))},timeout:hD.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)i();else{const s=_I("iframefcb");return ei()[s]=()=>{gapi.load?i():n(Cr(t,"network-request-failed"))},yI(`${vI()}?onload=${s}`).catch(c=>n(c))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function fD(t){return Bh=Bh||dD(t),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new $c(5e3,15e3),pD="__/auth/iframe",gD="emulator/auth/iframe",yD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _D(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qg(e,gD):`https://${t.config.authDomain}/${pD}`,i={apiKey:e.apiKey,appName:t.name,v:Fs},s=vD.get(t.config.apiHost);s&&(i.eid=s);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Gc(i).slice(1)}`}async function bD(t){const e=await fD(t),n=ei().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:_D(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yD,dontclear:!0},i=>new Promise(async(s,c)=>{await i.restyle({setHideOnLeave:!1});const h=Cr(t,"network-request-failed"),m=ei().setTimeout(()=>{c(h)},mD.get());function g(){ei().clearTimeout(m),s(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TD=500,wD=600,SD="_blank",AD="http://localhost";class rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(t,e,n,i=TD,s=wD){const c=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...ED,width:i.toString(),height:s.toString(),top:c,left:h},y=_n().toLowerCase();n&&(m=q2(y)?SD:n),B2(y)&&(e=e||AD,g.scrollbars="yes");const _=Object.entries(g).reduce((w,[O,L])=>`${w}${O}=${L},`,"");if(cI(y)&&m!=="_self")return RD(e||"",m),new rb(null);const T=window.open(e||"",m,_);Ne(T,t,"popup-blocked");try{T.focus()}catch{}return new rb(T)}function RD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="__/auth/handler",CD="emulator/auth/handler",ID=encodeURIComponent("fac");async function ib(t,e,n,i,s,c){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Fs,eventId:s};if(e instanceof ey){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",lR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Yc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await t._getAppCheckToken(),y=g?`#${ID}=${encodeURIComponent(g)}`:"";return`${DD(t)}?${Gc(m).slice(1)}${y}`}function DD({config:t}){return t.emulator?Qg(t,CD):`https://${t.authDomain}/${ND}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class OD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rT,this._completeRedirectFn=nD,this._overrideRedirectResult=JI}async _openPopup(e,n,i,s){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ib(e,n,i,Kp(),s);return xD(e,c,ty())}async _openRedirect(e,n,i,s){await this._originValidation(e);const c=await ib(e,n,i,Kp(),s);return MI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:c}=this.eventManagers[n];return s?Promise.resolve(s):($i(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bD(e),i=new iD(e);return n.register("authEvent",s=>(Ne(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},s=>{const c=s?.[0]?.[Rp];c!==void 0&&n(!!c),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K2()||F2()||Zg()}}const jD=OD;var ab="@firebase/auth",sb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MD(t){Dr(new mr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Ne(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q2(t)},y=new pI(i,s,c,g);return EI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Dr(new mr("auth-internal",e=>{const n=Dd(e.getProvider("auth").getImmediate());return(i=>new kD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(ab,sb,VD(t)),In(ab,sb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=300,LD=t2("authIdTokenMaxAge")||PD;let ob=null;const UD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LD)return;const s=n?.token;ob!==s&&(ob=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zD(t=Nd()){const e=Fa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bI(t,{popupRedirectResolver:jD,persistence:[GI,jI,rT]}),i=t2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=UD(c.toString());II(n,h,()=>h(n.currentUser)),CI(n,m=>h(m))}}const s=ZE("auth");return s&&TI(n,`http://${s}`),n}function BD(){return document.getElementsByTagName("head")?.[0]??document}gI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const c=Cr("internal-error");c.customData=s,n(c)},i.type="text/javascript",i.charset="UTF-8",BD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MD("Browser");var lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,dT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function D(){}D.prototype=R.prototype,V.D=R.prototype,V.prototype=new D,V.prototype.constructor=V,V.C=function(N,I,P){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return R.prototype[I].apply(N,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,R,D){D||(D=0);var N=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)N[I]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(I=0;16>I;++I)N[I]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=V.g[0],D=V.g[1],I=V.g[2];var P=V.g[3],C=R+(P^D&(I^P))+N[0]+3614090360&4294967295;R=D+(C<<7&4294967295|C>>>25),C=P+(I^R&(D^I))+N[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=I+(D^P&(R^D))+N[2]+606105819&4294967295,I=P+(C<<17&4294967295|C>>>15),C=D+(R^I&(P^R))+N[3]+3250441966&4294967295,D=I+(C<<22&4294967295|C>>>10),C=R+(P^D&(I^P))+N[4]+4118548399&4294967295,R=D+(C<<7&4294967295|C>>>25),C=P+(I^R&(D^I))+N[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=I+(D^P&(R^D))+N[6]+2821735955&4294967295,I=P+(C<<17&4294967295|C>>>15),C=D+(R^I&(P^R))+N[7]+4249261313&4294967295,D=I+(C<<22&4294967295|C>>>10),C=R+(P^D&(I^P))+N[8]+1770035416&4294967295,R=D+(C<<7&4294967295|C>>>25),C=P+(I^R&(D^I))+N[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=I+(D^P&(R^D))+N[10]+4294925233&4294967295,I=P+(C<<17&4294967295|C>>>15),C=D+(R^I&(P^R))+N[11]+2304563134&4294967295,D=I+(C<<22&4294967295|C>>>10),C=R+(P^D&(I^P))+N[12]+1804603682&4294967295,R=D+(C<<7&4294967295|C>>>25),C=P+(I^R&(D^I))+N[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=I+(D^P&(R^D))+N[14]+2792965006&4294967295,I=P+(C<<17&4294967295|C>>>15),C=D+(R^I&(P^R))+N[15]+1236535329&4294967295,D=I+(C<<22&4294967295|C>>>10),C=R+(I^P&(D^I))+N[1]+4129170786&4294967295,R=D+(C<<5&4294967295|C>>>27),C=P+(D^I&(R^D))+N[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=I+(R^D&(P^R))+N[11]+643717713&4294967295,I=P+(C<<14&4294967295|C>>>18),C=D+(P^R&(I^P))+N[0]+3921069994&4294967295,D=I+(C<<20&4294967295|C>>>12),C=R+(I^P&(D^I))+N[5]+3593408605&4294967295,R=D+(C<<5&4294967295|C>>>27),C=P+(D^I&(R^D))+N[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=I+(R^D&(P^R))+N[15]+3634488961&4294967295,I=P+(C<<14&4294967295|C>>>18),C=D+(P^R&(I^P))+N[4]+3889429448&4294967295,D=I+(C<<20&4294967295|C>>>12),C=R+(I^P&(D^I))+N[9]+568446438&4294967295,R=D+(C<<5&4294967295|C>>>27),C=P+(D^I&(R^D))+N[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=I+(R^D&(P^R))+N[3]+4107603335&4294967295,I=P+(C<<14&4294967295|C>>>18),C=D+(P^R&(I^P))+N[8]+1163531501&4294967295,D=I+(C<<20&4294967295|C>>>12),C=R+(I^P&(D^I))+N[13]+2850285829&4294967295,R=D+(C<<5&4294967295|C>>>27),C=P+(D^I&(R^D))+N[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=I+(R^D&(P^R))+N[7]+1735328473&4294967295,I=P+(C<<14&4294967295|C>>>18),C=D+(P^R&(I^P))+N[12]+2368359562&4294967295,D=I+(C<<20&4294967295|C>>>12),C=R+(D^I^P)+N[5]+4294588738&4294967295,R=D+(C<<4&4294967295|C>>>28),C=P+(R^D^I)+N[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=I+(P^R^D)+N[11]+1839030562&4294967295,I=P+(C<<16&4294967295|C>>>16),C=D+(I^P^R)+N[14]+4259657740&4294967295,D=I+(C<<23&4294967295|C>>>9),C=R+(D^I^P)+N[1]+2763975236&4294967295,R=D+(C<<4&4294967295|C>>>28),C=P+(R^D^I)+N[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=I+(P^R^D)+N[7]+4139469664&4294967295,I=P+(C<<16&4294967295|C>>>16),C=D+(I^P^R)+N[10]+3200236656&4294967295,D=I+(C<<23&4294967295|C>>>9),C=R+(D^I^P)+N[13]+681279174&4294967295,R=D+(C<<4&4294967295|C>>>28),C=P+(R^D^I)+N[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=I+(P^R^D)+N[3]+3572445317&4294967295,I=P+(C<<16&4294967295|C>>>16),C=D+(I^P^R)+N[6]+76029189&4294967295,D=I+(C<<23&4294967295|C>>>9),C=R+(D^I^P)+N[9]+3654602809&4294967295,R=D+(C<<4&4294967295|C>>>28),C=P+(R^D^I)+N[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=I+(P^R^D)+N[15]+530742520&4294967295,I=P+(C<<16&4294967295|C>>>16),C=D+(I^P^R)+N[2]+3299628645&4294967295,D=I+(C<<23&4294967295|C>>>9),C=R+(I^(D|~P))+N[0]+4096336452&4294967295,R=D+(C<<6&4294967295|C>>>26),C=P+(D^(R|~I))+N[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=I+(R^(P|~D))+N[14]+2878612391&4294967295,I=P+(C<<15&4294967295|C>>>17),C=D+(P^(I|~R))+N[5]+4237533241&4294967295,D=I+(C<<21&4294967295|C>>>11),C=R+(I^(D|~P))+N[12]+1700485571&4294967295,R=D+(C<<6&4294967295|C>>>26),C=P+(D^(R|~I))+N[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=I+(R^(P|~D))+N[10]+4293915773&4294967295,I=P+(C<<15&4294967295|C>>>17),C=D+(P^(I|~R))+N[1]+2240044497&4294967295,D=I+(C<<21&4294967295|C>>>11),C=R+(I^(D|~P))+N[8]+1873313359&4294967295,R=D+(C<<6&4294967295|C>>>26),C=P+(D^(R|~I))+N[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=I+(R^(P|~D))+N[6]+2734768916&4294967295,I=P+(C<<15&4294967295|C>>>17),C=D+(P^(I|~R))+N[13]+1309151649&4294967295,D=I+(C<<21&4294967295|C>>>11),C=R+(I^(D|~P))+N[4]+4149444226&4294967295,R=D+(C<<6&4294967295|C>>>26),C=P+(D^(R|~I))+N[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=I+(R^(P|~D))+N[2]+718787259&4294967295,I=P+(C<<15&4294967295|C>>>17),C=D+(P^(I|~R))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+I&4294967295,V.g[3]=V.g[3]+P&4294967295}i.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var D=R-this.blockSize,N=this.B,I=this.h,P=0;P<R;){if(I==0)for(;P<=D;)s(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(N[I++]=V.charCodeAt(P++),I==this.blockSize){s(this,N),I=0;break}}else for(;P<R;)if(N[I++]=V[P++],I==this.blockSize){s(this,N),I=0;break}}this.h=I,this.o+=R},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var D=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=D&255,D/=256;for(this.u(V),V=Array(16),R=D=0;4>R;++R)for(var N=0;32>N;N+=8)V[D++]=this.g[R]>>>N&255;return V};function c(V,R){var D=m;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=R(V)}function h(V,R){this.h=R;for(var D=[],N=!0,I=V.length-1;0<=I;I--){var P=V[I]|0;N&&P==R||(D[I]=P,N=!1)}this.g=D}var m={};function g(V){return-128<=V&&128>V?c(V,function(R){return new h([R|0],0>R?-1:0)}):new h([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return k(y(-V));for(var R=[],D=1,N=0;V>=D;N++)R[N]=V/D|0,D*=4294967296;return new h(R,0)}function _(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return k(_(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(R,8)),N=T,I=0;I<V.length;I+=8){var P=Math.min(8,V.length-I),C=parseInt(V.substring(I,I+P),R);8>P?(P=y(Math.pow(R,P)),N=N.j(P).add(y(C))):(N=N.j(D),N=N.add(y(C)))}return N}var T=g(0),w=g(1),O=g(16777216);t=h.prototype,t.m=function(){if(z(this))return-k(this).m();for(var V=0,R=1,D=0;D<this.g.length;D++){var N=this.i(D);V+=(0<=N?N:4294967296+N)*R,R*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(z(this))return"-"+k(this).toString(V);for(var R=y(Math.pow(V,6)),D=this,N="";;){var I=$(D,R).g;D=F(D,I.j(R));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(V);if(D=I,L(D))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function z(V){return V.h==-1}t.l=function(V){return V=F(this,V),z(V)?-1:L(V)?0:1};function k(V){for(var R=V.g.length,D=[],N=0;N<R;N++)D[N]=~V.g[N];return new h(D,~V.h).add(w)}t.abs=function(){return z(this)?k(this):this},t.add=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],N=0,I=0;I<=R;I++){var P=N+(this.i(I)&65535)+(V.i(I)&65535),C=(P>>>16)+(this.i(I)>>>16)+(V.i(I)>>>16);N=C>>>16,P&=65535,C&=65535,D[I]=C<<16|P}return new h(D,D[D.length-1]&-2147483648?-1:0)};function F(V,R){return V.add(k(R))}t.j=function(V){if(L(this)||L(V))return T;if(z(this))return z(V)?k(this).j(k(V)):k(k(this).j(V));if(z(V))return k(this.j(k(V)));if(0>this.l(O)&&0>V.l(O))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,D=[],N=0;N<2*R;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<V.g.length;I++){var P=this.i(N)>>>16,C=this.i(N)&65535,ye=V.i(I)>>>16,De=V.i(I)&65535;D[2*N+2*I]+=C*De,Q(D,2*N+2*I),D[2*N+2*I+1]+=P*De,Q(D,2*N+2*I+1),D[2*N+2*I+1]+=C*ye,Q(D,2*N+2*I+1),D[2*N+2*I+2]+=P*ye,Q(D,2*N+2*I+2)}for(N=0;N<R;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=R;N<2*R;N++)D[N]=0;return new h(D,0)};function Q(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function G(V,R){this.g=V,this.h=R}function $(V,R){if(L(R))throw Error("division by zero");if(L(V))return new G(T,T);if(z(V))return R=$(k(V),R),new G(k(R.g),k(R.h));if(z(R))return R=$(V,k(R)),new G(k(R.g),R.h);if(30<V.g.length){if(z(V)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var D=w,N=R;0>=N.l(V);)D=ne(D),N=ne(N);var I=ue(D,1),P=ue(N,1);for(N=ue(N,2),D=ue(D,2);!L(N);){var C=P.add(N);0>=C.l(V)&&(I=I.add(D),P=C),N=ue(N,1),D=ue(D,1)}return R=F(V,I.j(R)),new G(I,R)}for(I=T;0<=V.l(R);){for(D=Math.max(1,Math.floor(V.m()/R.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(D),C=P.j(R);z(C)||0<C.l(V);)D-=N,P=y(D),C=P.j(R);L(P)&&(P=w),I=I.add(P),V=F(V,C)}return new G(I,V)}t.A=function(V){return $(this,V).h},t.and=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)&V.i(N);return new h(D,this.h&V.h)},t.or=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)|V.i(N);return new h(D,this.h|V.h)},t.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)^V.i(N);return new h(D,this.h^V.h)};function ne(V){for(var R=V.g.length+1,D=[],N=0;N<R;N++)D[N]=V.i(N)<<1|V.i(N-1)>>>31;return new h(D,V.h)}function ue(V,R){var D=R>>5;R%=32;for(var N=V.g.length-D,I=[],P=0;P<N;P++)I[P]=0<R?V.i(P+D)>>>R|V.i(P+D+1)<<32-R:V.i(P+D);return new h(I,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,dT=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Oa=h}).apply(typeof lb<"u"?lb:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,bc,mT,Fh,Xp,pT,gT,yT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,b){return u==Array.prototype||u==Object.prototype||(u[v]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function s(u,v){if(v)e:{var b=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var H=u[x];if(!(H in b))break e;b=b[H]}u=u[u.length-1],x=b[u],v=v(x),v!=x&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var b=0,x=!1,H={next:function(){if(!x&&b<u.length){var J=b++;return{value:v(J,u[J]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(u){return u||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function _(u,v,b){return u.call.apply(u.bind,arguments)}function T(u,v,b){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),u.apply(v,H)}}return function(){return u.apply(v,arguments)}}function w(u,v,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function O(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function L(u,v){function b(){}b.prototype=v.prototype,u.aa=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(x,H,J){for(var de=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)de[qe-2]=arguments[qe];return v.prototype[H].apply(x,de)}}function z(u){const v=u.length;if(0<v){const b=Array(v);for(let x=0;x<v;x++)b[x]=u[x];return b}return[]}function k(u,v){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(g(x)){const H=u.length||0,J=x.length||0;u.length=H+J;for(let de=0;de<J;de++)u[H+de]=x[de]}else u.push(x)}}class F{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function $(u){return $[" "](u),u}$[" "]=function(){};var ne=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ue(u,v,b){for(const x in u)v.call(b,u[x],x,u)}function V(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function R(u){const v={};for(const b in u)v[b]=u[b];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,v){let b,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(b in x)u[b]=x[b];for(let J=0;J<D.length;J++)b=D[J],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function I(u){var v=1;u=u.split(":");const b=[];for(;0<v&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function P(u){m.setTimeout(()=>{throw u},0)}function C(){var u=me;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ye{constructor(){this.h=this.g=null}add(v,b){const x=De.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var De=new F(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,me=new ye,A=()=>{const u=m.Promise.resolve(void 0);te=()=>{u.then(q)}};var q=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(b){P(b)}var v=De;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}ce=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};m.addEventListener("test",b,v),m.removeEventListener("test",b,v)}catch{}return u})();function Ee(u,v){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(ne){e:{try{$(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}L(Ee,ee);var ve={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Nt(u,v,b,x,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=H,this.key=++xe,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kn(u){this.src=u,this.g={},this.h=0}kn.prototype.add=function(u,v,b,x,H){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var de=gr(u,v,x,H);return-1<de?(v=u[de],b||(v.fa=!1)):(v=new Nt(v,this.src,J,!!x,H),v.fa=b,u.push(v)),v};function Qn(u,v){var b=v.type;if(b in u.g){var x=u.g[b],H=Array.prototype.indexOf.call(x,v,void 0),J;(J=0<=H)&&Array.prototype.splice.call(x,H,1),J&&(Kn(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function gr(u,v,b,x){for(var H=0;H<u.length;++H){var J=u[H];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==x)return H}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),yr={};function Zt(u,v,b,x,H){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Zt(u,v[J],b,x,H);return null}return b=Qs(b),u&&u[Ze]?u.K(v,b,y(x)?!!x.capture:!1,H):Jt(u,v,b,!1,x,H)}function Jt(u,v,b,x,H,J){if(!v)throw Error("Invalid event type");var de=y(H)?!!H.capture:!!H,qe=hi(u);if(qe||(u[ct]=qe=new kn(u)),b=qe.add(v,b,x,de,J),b.proxy)return b;if(x=Ks(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)he||(H=de),H===void 0&&(H=!1),u.addEventListener(v.toString(),x,H);else if(u.attachEvent)u.attachEvent(ui(v.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ks(){function u(b){return v.call(u.src,u.listener,b)}const v=vl;return u}function Xi(u,v,b,x,H){if(Array.isArray(v))for(var J=0;J<v.length;J++)Xi(u,v[J],b,x,H);else x=y(x)?!!x.capture:!!x,b=Qs(b),u&&u[Ze]?(u=u.i,v=String(v).toString(),v in u.g&&(J=u.g[v],b=gr(J,b,x,H),-1<b&&(Kn(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete u.g[v],u.h--)))):u&&(u=hi(u))&&(v=u.g[v.toString()],u=-1,v&&(u=gr(v,b,x,H)),(b=-1<u?v[u]:null)&&Zi(b))}function Zi(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ze])Qn(v.i,u);else{var b=u.type,x=u.proxy;v.removeEventListener?v.removeEventListener(b,x,u.capture):v.detachEvent?v.detachEvent(ui(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=hi(v))?(Qn(b,u),b.h==0&&(b.src=null,v[ct]=null)):Kn(u)}}}function ui(u){return u in yr?yr[u]:yr[u]="on"+u}function vl(u,v){if(u.da)u=!0;else{v=new Ee(v,this);var b=u.listener,x=u.ha||u.src;u.fa&&Zi(u),u=b.call(x,v)}return u}function hi(u){return u=u[ct],u instanceof kn?u:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(u){return typeof u=="function"?u:(u[Ka]||(u[Ka]=function(v){return u.handleEvent(v)}),u[Ka])}function gt(){se.call(this),this.i=new kn(this),this.M=this,this.F=null}L(gt,se),gt.prototype[Ze]=!0,gt.prototype.removeEventListener=function(u,v,b,x){Xi(this,u,v,b,x)};function We(u,v){var b,x=u.F;if(x)for(b=[];x;x=x.F)b.push(x);if(u=u.M,x=v.type||v,typeof v=="string")v=new ee(v,u);else if(v instanceof ee)v.target=v.target||u;else{var H=v;v=new ee(x,u),N(v,H)}if(H=!0,b)for(var J=b.length-1;0<=J;J--){var de=v.g=b[J];H=bn(de,x,!0,v)&&H}if(de=v.g=u,H=bn(de,x,!0,v)&&H,H=bn(de,x,!1,v)&&H,b)for(J=0;J<b.length;J++)de=v.g=b[J],H=bn(de,x,!1,v)&&H}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var b=u.g[v],x=0;x<b.length;x++)Kn(b[x]);delete u.g[v],u.h--}}this.F=null},gt.prototype.K=function(u,v,b,x){return this.i.add(String(u),v,!1,b,x)},gt.prototype.L=function(u,v,b,x){return this.i.add(String(u),v,!0,b,x)};function bn(u,v,b,x){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,J=0;J<v.length;++J){var de=v[J];if(de&&!de.da&&de.capture==b){var qe=de.listener,zt=de.ha||de.src;de.fa&&Qn(u.i,de),H=qe.call(zt,x)!==!1&&H}}return H&&!x.defaultPrevented}function Ot(u,v,b){if(typeof u=="function")b&&(u=w(u,b));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(u,v||0)}function Qa(u){u.g=Ot(()=>{u.g=null,u.i&&(u.i=!1,Qa(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ws extends se{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(u){se.call(this),this.h=u,this.g={}}L(di,se);var Wn=[];function Vr(u){ue(u.g,function(v,b){this.g.hasOwnProperty(b)&&Zi(v)},u),u.g={}}di.prototype.N=function(){di.aa.N.call(this),Vr(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,fi=m.JSON.parse,Mr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function mi(){}mi.prototype.h=null;function Wa(u){return u.h||(u.h=u.i())}function Ji(){}var vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){ee.call(this,"d")}L(Xn,ee);function jt(){ee.call(this,"c")}L(jt,ee);var mt={},Pr=null;function Ke(){return Pr=Pr||new gt}mt.La="serverreachability";function en(u){ee.call(this,mt.La,u)}L(en,ee);function Lr(u){const v=Ke();We(v,new en(v))}mt.STAT_EVENT="statevent";function ea(u,v){ee.call(this,mt.STAT_EVENT,u),this.stat=v}L(ea,ee);function ut(u){const v=Ke();We(v,new ea(v,u))}mt.Ma="timingevent";function St(u,v){ee.call(this,mt.Ma,u),this.size=v}L(St,ee);function yt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},v)}function tn(){this.g=!0}tn.prototype.xa=function(){this.g=!1};function pi(u,v,b,x,H,J){u.info(function(){if(u.g)if(J)for(var de="",qe=J.split("&"),zt=0;zt<qe.length;zt++){var He=qe[zt].split("=");if(1<He.length){var Yt=He[0];He=He[1];var Bt=Yt.split("_");de=2<=Bt.length&&Bt[1]=="type"?de+(Yt+"="+He+"&"):de+(Yt+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+v+`
`+b+`
`+de})}function Xa(u,v,b,x,H,J,de){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+v+`
`+b+`
`+J+" "+de})}function Zn(u,v,b,x){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+_r(u,b)+(x?" "+x:"")})}function Xs(u,v){u.info(function(){return"TIMEOUT: "+v})}tn.prototype.info=function(){};function _r(u,v){if(!u.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var x=b[u];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return Vn(b)}catch{return v}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Re(){}L(Re,mi),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Jn=new Re;function Ve(u,v,b,x){this.j=u,this.i=v,this.l=b,this.R=x||1,this.U=new di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var nn={},Gt={};function En(u,v,b){u.L=1,u.v=ns(Mn(v)),u.m=b,u.P=!0,Tr(u,null)}function Tr(u,v){u.F=Date.now(),Za(u),u.A=Mn(u.v);var b=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Sl(b.i,"t",x),u.C=0,b=u.j.J,u.h=new Oe,u.g=Tu(u.j,b?v:null,!u.m),0<u.O&&(u.M=new Ws(w(u.Y,u,u.g),u.O)),v=u.U,b=u.g,x=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Wn[0]=H.toString()),H=Wn);for(var J=0;J<H.length;J++){var de=Zt(b,H[J],x||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Lr(),pi(u.i,u.u,u.A,u.l,u.R,u.m)}Ve.prototype.ca=function(u){u=u.target;const v=this.M;v&&rr(u)==3?v.j():this.Y(u)},Ve.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=rr(this.g);var v=this.g.Ba();const wi=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=wi?Lr(3):Lr(2)),ta(this);var b=this.g.Z();this.X=b;t:if(Zs(this)){var x=mu(this.g);u="";var H=x.length,J=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Ur(this);var de="";break t}this.h.i=new m.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,u+=this.h.i.decode(x[v],{stream:!(J&&v==H-1)});x.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,Xa(this.i,this.u,this.A,this.l,this.R,Bt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,zt=this.g;if((qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(qe)){var He=qe;break t}}He=null}if(b=He)Zn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,b);else{this.o=!1,this.s=3,ut(12),rn(this),Ur(this);break e}}if(this.P){b=!0;let an;for(;!this.J&&this.C<de.length;)if(an=lu(this,de),an==Gt){Bt==4&&(this.s=4,ut(14),b=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==nn){this.s=4,ut(15),Zn(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else Zn(this.i,this.l,an,null),Ja(this,an);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||de.length!=0||this.h.h||(this.s=1,ut(16),b=!1),this.o=this.o&&b,!b)Zn(this.i,this.l,de,"[Invalid Chunked Response]"),rn(this),Ur(this);else if(0<de.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),us(Yt),Yt.M=!0,ut(11))}}else Zn(this.i,this.l,de,null),Ja(this,de);Bt==4&&rn(this),this.o&&!this.J&&(Bt==4?_u(this.j,this):(this.o=!1,Za(this)))}else vf(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),rn(this),Ur(this)}}}catch{}finally{}};function Zs(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lu(u,v){var b=u.C,x=v.indexOf(`
`,b);return x==-1?Gt:(b=Number(v.substring(b,x)),isNaN(b)?nn:(x+=1,x+b>v.length?Gt:(v=v.slice(x,x+b),u.C=x+b,v)))}Ve.prototype.cancel=function(){this.J=!0,rn(this)};function Za(u){u.S=Date.now()+u.I,cu(u,u.I)}function cu(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=yt(w(u.ba,u),v)}function ta(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Ve.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xs(this.i,this.A),this.L!=2&&(Lr(),ut(17)),rn(this),this.s=2,Ur(this)):cu(this,this.S-u)};function Ur(u){u.j.G==0||u.J||_u(u.j,u)}function rn(u){ta(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Vr(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Ja(u,v){try{var b=u.j;if(b.G!=0&&(b.g==u||_l(b.h,u))){if(!u.K&&_l(b.h,u)&&b.G==3){try{var x=b.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)uo(b),lo(b);else break e;Cl(b),ut(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=yt(w(b.Za,b),6e3));if(1>=eo(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ti(b,11)}else if((u.K||b.g==u)&&uo(b),!Q(v))for(H=b.Da.g.parse(v),v=0;v<H.length;v++){let He=H[v];if(b.T=He[0],He=He[1],b.G==2)if(He[0]=="c"){b.K=He[1],b.ia=He[2];const Yt=He[3];Yt!=null&&(b.la=Yt,b.j.info("VER="+b.la));const Bt=He[4];Bt!=null&&(b.Aa=Bt,b.j.info("SVER="+b.Aa));const wi=He[5];wi!=null&&typeof wi=="number"&&0<wi&&(x=1.5*wi,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const an=u.g;if(an){const $r=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var J=x.h;J.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(to(J,J.h),J.h=null))}if(x.D){const Dl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(x.ya=Dl,at(x.I,x.D,Dl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var de=u;if(x.qa=Eu(x,x.J?x.ia:null,x.W),de.K){Tn(x.h,de);var qe=de,zt=x.L;zt&&(qe.I=zt),qe.B&&(ta(qe),Za(qe)),x.g=de}else yu(x);0<b.i.length&&co(b)}else He[0]!="stop"&&He[0]!="close"||Ti(b,7);else b.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ti(b,7):Rl(b):He[0]!="noop"&&b.l&&b.l.ta(He),b.v=0)}}Lr(4)}catch{}}var uu=class{constructor(u,v){this.g=u,this.map=v}};function gi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eo(u){return u.h?1:u.g?u.g.size:0}function _l(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function to(u,v){u.g?u.g.add(v):u.h=v}function Tn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}gi.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.D);return v}return z(u.i)}function mf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],b=u.length,x=0;x<b;x++)v.push(u[x]);return v}v=[],b=0;for(x in u)v[b++]=u[x];return v}function no(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var b=0;b<u;b++)v.push(b);return v}v=[],b=0;for(const x in u)v[b++]=x;return v}}}function El(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var b=no(u),x=mf(u),H=x.length,J=0;J<H;J++)v.call(void 0,x[J],b&&b[J],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(u,v){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var x=u[b].indexOf("="),H=null;if(0<=x){var J=u[b].substring(0,x);H=u[b].substring(x+1)}else J=u[b];v(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof kt){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,na(this,u.s),this.l=u.l;var v=u.i,b=new vi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),yi(this,b),this.m=u.m}else u&&(v=String(u).match(es))?(this.h=!1,ts(this,v[1]||"",!0),this.o=er(v[2]||""),this.g=er(v[3]||"",!0),na(this,v[4]),this.l=er(v[5]||"",!0),yi(this,v[6]||"",!0),this.m=er(v[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}kt.prototype.toString=function(){var u=[],v=this.j;v&&u.push(rs(v,Tl,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(rs(v,Tl,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(rs(b,b.charAt(0)=="/"?gf:wl,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",rs(b,ro)),u.join("")};function Mn(u){return new kt(u)}function ts(u,v,b){u.j=b?er(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function na(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function yi(u,v,b){v instanceof vi?(u.i=v,du(u.i,u.h)):(b||(v=rs(v,yf)),u.i=new vi(v,u.h))}function at(u,v,b){u.i.set(v,b)}function ns(u){return at(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function er(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,hu),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Tl=/[#\/\?@]/g,wl=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,ro=/#/g;function vi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function tr(u){u.g||(u.g=new Map,u.h=0,u.i&&pf(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=vi.prototype,t.add=function(u,v){tr(this),this.i=null,u=zr(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function _i(u,v){tr(u),v=zr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function bi(u,v){return tr(u),v=zr(u,v),u.g.has(v)}t.forEach=function(u,v){tr(this),this.g.forEach(function(b,x){b.forEach(function(H){u.call(v,H,x,this)},this)},this)},t.na=function(){tr(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let x=0;x<v.length;x++){const H=u[x];for(let J=0;J<H.length;J++)b.push(v[x])}return b},t.V=function(u){tr(this);let v=[];if(typeof u=="string")bi(this,u)&&(v=v.concat(this.g.get(zr(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)v=v.concat(u[b])}return v},t.set=function(u,v){return tr(this),this.i=null,u=zr(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Sl(u,v,b){_i(u,v),0<b.length&&(u.i=null,u.g.set(zr(u,v),z(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var x=v[b];const J=encodeURIComponent(String(x)),de=this.V(x);for(x=0;x<de.length;x++){var H=J;de[x]!==""&&(H+="="+encodeURIComponent(String(de[x]))),u.push(H)}}return this.i=u.join("&")};function zr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function du(u,v){v&&!u.j&&(tr(u),u.i=null,u.g.forEach(function(b,x){var H=x.toLowerCase();x!=H&&(_i(this,x),Sl(this,H,b))},u)),u.j=v}function is(u,v){const b=new tn;if(m.Image){const x=new Image;x.onload=O(nr,b,"TestLoadImage: loaded",!0,v,x),x.onerror=O(nr,b,"TestLoadImage: error",!1,v,x),x.onabort=O(nr,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=O(nr,b,"TestLoadImage: timeout",!1,v,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else v(!1)}function wr(u,v){const b=new tn,x=new AbortController,H=setTimeout(()=>{x.abort(),nr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:x.signal}).then(J=>{clearTimeout(H),J.ok?nr(b,"TestPingServer: ok",!0,v):nr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),nr(b,"TestPingServer: error",!1,v)})}function nr(u,v,b,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(b)}catch{}}function as(){this.g=new Mr}function Br(u,v,b){const x=b||"";try{El(u,function(H,J){let de=H;y(H)&&(de=Vn(H)),v.push(x+J+"="+encodeURIComponent(de))})}catch(H){throw v.push(x+"type="+encodeURIComponent("_badmap")),H}}function ra(u){this.l=u.Ub||null,this.j=u.eb||!1}L(ra,mi),ra.prototype.g=function(){return new Ei(this.l,this.j)},ra.prototype.i=(function(u){return function(){return u}})({});function Ei(u,v){gt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ei,gt),t=Ei.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,qr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Fr(this):qr(this),this.readyState==3&&Al(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Fr(this))},t.Qa=function(u){this.g&&(this.response=u,Fr(this))},t.ga=function(){this.g&&Fr(this)};function Fr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qr(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function qr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xl(u){let v="";return ue(u,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function $t(u,v,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=xl(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):at(u,v,b))}function Je(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Je,gt);var io=/^https?$/i,ss=["POST","PUT"];t=Je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Wa(this.o):Wa(Jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(J){fu(this,J);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)b.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const J of x.keys())b.set(J,x.get(J));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),H=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ss,v,void 0))||x||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of b)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){fu(this,J)}};function fu(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,ao(u),Hr(u)}function ao(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?so(this):this.bb())},t.bb=function(){so(this)};function so(u){if(u.h&&typeof h<"u"&&(!u.v[1]||rr(u)!=4||u.Z()!=2)){if(u.u&&rr(u)==4)Ot(u.Ea,0,u);else if(We(u,"readystatechange"),rr(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var x;if(x=de===0){var H=String(u.D).match(es)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),x=!io.test(H?H.toLowerCase():"")}b=x}if(b)We(u,"complete"),We(u,"success");else{u.m=6;try{var J=2<rr(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",ao(u)}}finally{Hr(u)}}}}function Hr(u,v){if(u.g){os(u);const b=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||We(u,"ready");try{b.onreadystatechange=x}catch{}}}function os(u){u.I&&(m.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function rr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),fi(v)}};function mu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(u){const v={};u=(u.g&&2<=rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(Q(u[x]))continue;var b=I(u[x]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[H]||[];v[H]=J,J.push(b)}V(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function oo(u){this.Aa=0,this.i=[],this.j=new tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new as,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oo.prototype,t.la=8,t.G=1,t.connect=function(u,v,b,x){ut(0),this.W=u,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Eu(this,null,this.W),co(this)};function Rl(u){if(pu(u),u.G==3){var v=u.U++,b=Mn(u.I);if(at(b,"SID",u.K),at(b,"RID",v),at(b,"TYPE","terminate"),cs(u,b),v=new Ve(u,u.j,v),v.L=2,v.v=ns(Mn(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=v.v,b=!0),b||(v.g=Tu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Za(v)}bu(u)}function lo(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function pu(u){lo(u),u.u&&(m.clearTimeout(u.u),u.u=null),uo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function co(u){if(!Js(u.h)&&!u.s){u.s=!0;var v=u.Ga;te||A(),ce||(te(),ce=!0),me.add(v,u),u.B=0}}function _f(u,v){return eo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=yt(w(u.Ga,u,v),Il(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Ve(this,this.j,u);let J=this.o;if(this.S&&(J?(J=R(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=gu(this,H,v),b=Mn(this.I),at(b,"RID",u),at(b,"CVER",22),this.D&&at(b,"X-HTTP-Session-Id",this.D),cs(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(xl(J)))+"&"+v:this.m&&$t(b,this.m,J)),to(this.h,H),this.Ua&&at(b,"TYPE","init"),this.P?(at(b,"$req",v),at(b,"SID","null"),H.T=!0,En(H,b,null)):En(H,b,v),this.G=2}}else this.G==3&&(u?Nl(this,u):this.i.length==0||Js(this.h)||Nl(this))};function Nl(u,v){var b;v?b=v.l:b=u.U++;const x=Mn(u.I);at(x,"SID",u.K),at(x,"RID",b),at(x,"AID",u.T),cs(u,x),u.m&&u.o&&$t(x,u.m,u.o),b=new Ve(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),v&&(u.i=v.D.concat(u.i)),v=gu(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),to(u.h,b),En(b,x,v)}function cs(u,v){u.H&&ue(u.H,function(b,x){at(v,x,b)}),u.l&&El({},function(b,x){at(v,x,b)})}function gu(u,v,b){b=Math.min(u.i.length,b);var x=u.l?w(u.l.Na,u.l,u):null;e:{var H=u.i;let J=-1;for(;;){const de=["count="+b];J==-1?0<b?(J=H[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let qe=!0;for(let zt=0;zt<b;zt++){let He=H[zt].g;const Yt=H[zt].map;if(He-=J,0>He)J=Math.max(0,H[zt].g-100),qe=!1;else try{Br(Yt,de,"req"+He+"_")}catch{x&&x(Yt)}}if(qe){x=de.join("&");break e}}}return u=u.i.splice(0,b),v.D=u,x}function yu(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;te||A(),ce||(te(),ce=!0),me.add(v,u),u.v=0}}function Cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=yt(w(u.Fa,u),Il(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=yt(w(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),lo(this),vu(this))};function us(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function vu(u){u.g=new Ve(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=Mn(u.qa);at(v,"RID","rpc"),at(v,"SID",u.K),at(v,"AID",u.T),at(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&at(v,"TO",u.ja),at(v,"TYPE","xmlhttp"),cs(u,v),u.m&&u.o&&$t(v,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=ns(Mn(v)),b.m=null,b.P=!0,Tr(b,u)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),Cl(this),ut(19))};function uo(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function _u(u,v){var b=null;if(u.g==v){uo(u),us(u),u.g=null;var x=2}else if(_l(u.h,v))b=v.D,Tn(u.h,v),x=1;else return;if(u.G!=0){if(v.o)if(x==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var H=u.B;x=Ke(),We(x,new St(x,b)),co(u)}else yu(u);else if(H=v.s,H==3||H==0&&0<v.X||!(x==1&&_f(u,v)||x==2&&Cl(u)))switch(b&&0<b.length&&(v=u.h,v.i=v.i.concat(b)),H){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Il(u,v){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*v}function Ti(u,v){if(u.j.info("Error code "+v),v==2){var b=w(u.fb,u),x=u.Xa;const H=!x;x=new kt(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ts(x,"https"),ns(x),H?is(x.toString(),b):wr(x.toString(),b)}else ut(2);u.G=0,u.l&&u.l.sa(v),bu(u),pu(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function bu(u){if(u.G=0,u.ka=[],u.l){const v=bl(u.h);(v.length!=0||u.i.length!=0)&&(k(u.ka,v),k(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Eu(u,v,b){var x=b instanceof kt?Mn(b):new kt(b);if(x.g!="")v&&(x.g=v+"."+x.g),na(x,x.s);else{var H=m.location;x=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var J=new kt(null);x&&ts(J,x),v&&(J.g=v),H&&na(J,H),b&&(J.l=b),x=J}return b=u.D,v=u.ya,b&&v&&at(x,b,v),at(x,"VER",u.la),cs(u,x),x}function Tu(u,v,b){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Je(new ra({eb:b})):new Je(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}t=wu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ho(){}ho.prototype.g=function(u,v){return new wn(u,v)};function wn(u,v){gt.call(this),this.g=new oo(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!Q(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Gr(this)}L(wn,gt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Rl(this.g)},wn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Vn(u),u=b);v.i.push(new uu(v.Ya++,u)),v.G==3&&co(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,wn.aa.N.call(this)};function Su(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}L(Su,Xn);function Au(){jt.call(this),this.status=1}L(Au,jt);function Gr(u){this.g=u}L(Gr,wu),Gr.prototype.ua=function(){We(this.g,"a")},Gr.prototype.ta=function(u){We(this.g,new Su(u))},Gr.prototype.sa=function(u){We(this.g,new Au)},Gr.prototype.ra=function(){We(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,yT=function(){return new ho},gT=function(){return Ke()},pT=mt,Xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Fh=br,Er.COMPLETE="complete",mT=Er,Ji.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,bc=Ji,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,fT=Je}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const cb="@firebase/firestore",ub="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Rd("@firebase/firestore");function Bo(){return Ls.logLevel}function pe(t,...e){if(Ls.logLevel<=ze.DEBUG){const n=e.map(ry);Ls.debug(`Firestore (${hl}): ${t}`,...n)}}function Yi(t,...e){if(Ls.logLevel<=ze.ERROR){const n=e.map(ry);Ls.error(`Firestore (${hl}): ${t}`,...n)}}function Zo(t,...e){if(Ls.logLevel<=ze.WARN){const n=e.map(ry);Ls.warn(`Firestore (${hl}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,vT(t,i,n)}function vT(t,e,n){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Yi(i),new Error(i)}function et(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||vT(e,s,i)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class qD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let i=this.i;const s=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable((()=>s(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await s(this.currentUser)}))},m=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new _T(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class GD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const i=c=>{c.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const s=c=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>s(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?s(c):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=KD(40);for(let c=0;c<s.length;++c)i.length<20&&s[c]<n&&(i+=e.charAt(s[c]%62))}return i}}function Be(t,e){return t<e?-1:t>e?1:0}function Zp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),c=e.charAt(i);if(s!==c)return Np(s)===Np(c)?Be(s,c):Np(s)?1:-1}return Be(t.length,e.length)}const QD=55296,WD=57343;function Np(t){const e=t.charCodeAt(0);return e>=QD&&e<=WD}function Jo(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__name__";class Jr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const c=Jr.compareSegments(e.get(s),n.get(s));if(c!==0)return c}return Be(e.length,n.length)}static compareSegments(e,n){const i=Jr.isNumericId(e),s=Jr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):Zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class ft extends Jr{construct(e,n,i){return new ft(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const XD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Jr{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return XD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new un([db])}static fromServerFormat(e){const n=[];let i="",s=0;const c=()=>{if(i.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,s+=2}else m==="`"?(h=!h,s++):m!=="."||h?(i+=m,s++):(c(),s++)}if(c(),h)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZD(t,e,n,i){if(e===!0&&i===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fb(t){if(!be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mb(t){if(be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ET(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vd(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qc(t,e){if(!ET(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const h=t[i];if(s&&typeof h!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-62135596800,gb=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*gb);return new pt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pb)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ut("string",pt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new pt(0,0))}static max(){return new Ce(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=-1;function JD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(i===1e9?new pt(n+1,0):new pt(n,i));return new ka(s,be.empty(),e)}function e6(t){return new ka(t.readTime,t.key,Mc)}class ka{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ka(Ce.min(),be.empty(),Mc)}static max(){return new ka(Ce.max(),be.empty(),Mc)}}function t6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==n6)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,s)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let s=0,c=0,h=!1;e.forEach((m=>{++s,m.next((()=>{++c,h&&c===s&&n()}),(g=>i(g)))})),h=!0,c===s&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((s=>s?le.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,c)=>{i.push(n.call(this,s,c))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,s)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++m,m===c&&i(h)}),(_=>s(_)))}}))}static doWhile(e,n){return new le(((i,s)=>{const c=()=>{e()===!0?n().next((()=>{c()}),s):i()};c()}))}}function i6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function Pd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function a6(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="";function s6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yb(e)),e=o6(t.get(n),e);return yb(e)}function o6(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const c=t.charAt(s);switch(c){case"\0":n+="";break;case TT:n+="";break;default:n+=c}}return n}function yb(t){return t+TT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,s,c){this.key=e,this.value=n,this.color=i??cn.RED,this.left=s??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,c){return new cn(e??this.key,n??this.value,i??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const c=i(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,n,i),null):c===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return cn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,s,c){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _b(this.data.getIterator())}getIteratorFrom(e){return new _b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=i.getNext().key;if(this.comparator(s,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class _b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Ht(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ST("Invalid base64 string: "+c):c}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(s){let c="";for(let h=0;h<s.length;++h)c+=String.fromCharCode(s[h]);return c})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const l6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=l6.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="server_timestamp",xT="__type__",RT="__previous_value__",NT="__local_write_time__";function sy(t){return(t?.mapValue?.fields||{})[xT]?.stringValue===AT}function Ld(t){const e=t.mapValue.fields[RT];return sy(e)?Ld(e):e}function Pc(t){const e=Va(t.mapValue.fields[NT].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,i,s,c,h,m,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const od="(default)";class Lc{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__type__",u6="__max__",Ih={mapValue:{}},IT="__vector__",ld="value";function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:d6(t)?9007199254740991:h6(t)?10:11:Se(28295,{value:t})}function oi(t,e){if(t===e)return!0;const n=Pa(t);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return(function(s,c){if(typeof s.timestampValue=="string"&&typeof c.timestampValue=="string"&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const h=Va(s.timestampValue),m=Va(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,c){return Ma(s.bytesValue).isEqual(Ma(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,c){return Dt(s.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(t,e);case 2:return(function(s,c){if("integerValue"in s&&"integerValue"in c)return Dt(s.integerValue)===Dt(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const h=Dt(s.doubleValue),m=Dt(c.doubleValue);return h===m?sd(h)===sd(m):isNaN(h)&&isNaN(m)}return!1})(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(s,c){const h=s.mapValue.fields||{},m=c.mapValue.fields||{};if(vb(h)!==vb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!oi(h[g],m[g])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Uc(t,e){return(t.values||[]).find((n=>oi(n,e)))!==void 0}function el(t,e){if(t===e)return 0;const n=Pa(t),i=Pa(e);if(n!==i)return Be(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=Dt(c.integerValue||c.doubleValue),g=Dt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return bb(t.timestampValue,e.timestampValue);case 4:return bb(Pc(t),Pc(e));case 5:return Zp(t.stringValue,e.stringValue);case 6:return(function(c,h){const m=Ma(c),g=Ma(h);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const _=Be(m[y],g[y]);if(_!==0)return _}return Be(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Be(Dt(c.latitude),Dt(h.latitude));return m!==0?m:Be(Dt(c.longitude),Dt(h.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Eb(t.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},y=m[ld]?.arrayValue,_=g[ld]?.arrayValue,T=Be(y?.values?.length||0,_?.values?.length||0);return T!==0?T:Eb(y,_)})(t.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Ih.mapValue&&h===Ih.mapValue)return 0;if(c===Ih.mapValue)return 1;if(h===Ih.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const w=Zp(g[T],_[T]);if(w!==0)return w;const O=el(m[g[T]],y[_[T]]);if(O!==0)return O}return Be(g.length,_.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function bb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Va(t),i=Va(e),s=Be(n.seconds,i.seconds);return s!==0?s:Be(n.nanos,i.nanos)}function Eb(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const c=el(n[s],i[s]);if(c)return c}return Be(n.length,i.length)}function tl(t){return Jp(t)}function Jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Va(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ma(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const c of n.values||[])s?s=!1:i+=",",i+=Jp(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${Jp(n.fields[h])}`;return s+"}"})(t.mapValue):Se(61005,{value:t})}function qh(t){switch(Pa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+qh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,c)=>s+qh(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return qa(i.fields,((c,h)=>{s+=c.length+qh(h)})),s})(t.mapValue);default:throw Se(13486,{value:t})}}function Tb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eg(t){return!!t&&"integerValue"in t}function oy(t){return!!t&&"arrayValue"in t}function wb(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hh(t){return!!t&&"mapValue"in t}function h6(t){return(t?.mapValue?.fields||{})[CT]?.stringValue===IT}function Nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Nc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return{...t}}function d6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=un.emptyPath(),i={},s=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,s),i={},s=[],n=m.popLast()}h?i[m.lastSegment()]=Nc(h):s.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,s)}delete(e){const n=this.field(e.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Hh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){qa(n,((s,c)=>e[s]=c));for(const s of i)delete e[s]}clone(){return new Cn(Nc(this.value))}}function DT(t){const e=[];return qa(t.fields,((n,i)=>{const s=new un([n]);if(Hh(i)){const c=DT(i.mapValue).fields;if(c.length===0)e.push(s);else for(const h of c)e.push(s.child(h))}else e.push(s)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,i,s,c,h,m){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new vn(e,0,Ce.min(),Ce.min(),Ce.min(),Cn.empty(),0)}static newFoundDocument(e,n,i,s){return new vn(e,1,n,Ce.min(),i,s,0)}static newNoDocument(e,n){return new vn(e,2,n,Ce.min(),Ce.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ce.min(),Ce.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function Ab(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const c=e[s],h=t.position[s];if(c.field.isKeyField()?i=be.comparator(be.fromName(h.referenceValue),n.key):i=el(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function xb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function f6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class Lt extends OT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new p6(e,n,i):n==="array-contains"?new v6(e,i):n==="in"?new _6(e,i):n==="not-in"?new b6(e,i):n==="array-contains-any"?new E6(e,i):new Lt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new g6(e,i):new y6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends OT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Or(e,n)}matches(e){return jT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(t){return t.op==="and"}function kT(t){return m6(t)&&jT(t)}function m6(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function tg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(kT(t))return t.filters.map((e=>tg(e))).join(",");{const e=t.filters.map((n=>tg(n))).join(",");return`${t.op}(${e})`}}function VT(t,e){return t instanceof Lt?(function(i,s){return s instanceof Lt&&i.op===s.op&&i.field.isEqual(s.field)&&oi(i.value,s.value)})(t,e):t instanceof Or?(function(i,s){return s instanceof Or&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((c,h,m)=>c&&VT(h,s.filters[m])),!0):!1})(t,e):void Se(19439)}function MT(t){return t instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`})(t):t instanceof Or?(function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"})(t):"Filter"}class p6 extends Lt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class g6 extends Lt{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class y6 extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PT(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class v6 extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oy(n)&&Uc(n.arrayValue,this.value)}}class _6 extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class b6 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uc(this.value.arrayValue,n)}}class E6 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Uc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n=null,i=[],s=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Rb(t,e=null,n=[],i=[],s=null,c=null,h=null){return new T6(t,e,n,i,s,c,h)}function ly(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>tg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=n}return e.Te}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xb(t.startAt,e.startAt)&&xb(t.endAt,e.endAt)}function ng(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,i=[],s=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w6(t,e,n,i,s,c,h,m){return new ml(t,e,n,i,s,c,h,m)}function Ud(t){return new ml(t)}function Nb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LT(t){return t.collectionGroup!==null}function Cc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ht(un.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zc(c,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new zc(un.keyField(),i))}return e.Ie}function ti(t){const e=Ie(t);return e.Ee||(e.Ee=S6(e,Cc(t))),e.Ee}function S6(t,e){if(t.limitType==="F")return Rb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const c=s.dir==="desc"?"asc":"desc";return new zc(s.field,c)}));const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return Rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rg(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ig(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return cy(ti(t),ti(e))&&t.limitType===e.limitType}function UT(t){return`${ly(ti(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>MT(s))).join(", ")}]`),Pd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>tl(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>tl(s))).join(",")),`Target(${i})`})(ti(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&(function(i,s){const c=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):be.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,s){for(const c of Cc(i))if(!c.field.isKeyField()&&s.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const c of i.filters)if(!c.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(h,m,g){const y=Ab(h,m,g);return h.inclusive?y<=0:y<0})(i.startAt,Cc(i),s)||i.endAt&&!(function(h,m,g){const y=Ab(h,m,g);return h.inclusive?y>=0:y>0})(i.endAt,Cc(i),s))})(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zT(t){return(e,n)=>{let i=!1;for(const s of Cc(t)){const c=x6(s,e,n);if(c!==0)return c;i=i||s.field.isKeyField()}return 0}}function x6(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),y=m.data.field(c);return g!==null&&y!==null?el(g,y):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,c]of i)if(this.equalsFn(s,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((n,i)=>{for(const[s,c]of i)e(s,c)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new wt(be.comparator);function Ki(){return R6}const BT=new wt(be.comparator);function Ec(...t){let e=BT;for(const n of t)e=e.insert(n.key,n);return e}function FT(t){let e=BT;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Cs(){return Ic()}function qT(){return Ic()}function Ic(){return new qs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const N6=new wt(be.comparator),C6=new Ht(be.comparator);function Fe(...t){let e=C6;for(const n of t)e=e.add(n);return e}const I6=new Ht(Be);function D6(){return I6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function HT(t){return{integerValue:""+t}}function O6(t,e){return a6(e)?HT(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof ud?(function(s,c){const h={fields:{[xT]:{stringValue:AT},[NT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&sy(c)&&(c=Ld(c)),c&&(h.fields[RT]=c),{mapValue:h}})(n,e):t instanceof nl?$T(t,e):t instanceof rl?YT(t,e):(function(s,c){const h=GT(s,c),m=Cb(h)+Cb(s.Ae);return eg(h)&&eg(s.Ae)?HT(m):uy(s.serializer,m)})(t,e)}function k6(t,e,n){return t instanceof nl?$T(t,e):t instanceof rl?YT(t,e):n}function GT(t,e){return t instanceof hd?(function(i){return eg(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class ud extends Fd{}class nl extends Fd{constructor(e){super(),this.elements=e}}function $T(t,e){const n=KT(e);for(const i of t.elements)n.some((s=>oi(s,i)))||n.push(i);return{arrayValue:{values:n}}}class rl extends Fd{constructor(e){super(),this.elements=e}}function YT(t,e){let n=KT(e);for(const i of t.elements)n=n.filter((s=>!oi(s,i)));return{arrayValue:{values:n}}}class hd extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cb(t){return Dt(t.integerValue||t.doubleValue)}function KT(t){return oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.field=e,this.transform=n}}function V6(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof nl&&s instanceof nl||i instanceof rl&&s instanceof rl?Jo(i.elements,s.elements,oi):i instanceof hd&&s instanceof hd?oi(i.Ae,s.Ae):i instanceof ud&&s instanceof ud})(t.transform,e.transform)}class M6{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function WT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,jn.none()):new Wc(t.key,t.data,jn.none());{const n=t.data,i=Cn.empty();let s=new Ht(un.comparator);for(let c of e.fields)if(!s.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),s=s.add(c)}return new Ha(t.key,i,new Gn(s.toArray()),jn.none())}}function P6(t,e,n){t instanceof Wc?(function(s,c,h){const m=s.value.clone(),g=Db(s.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Ha?(function(s,c,h){if(!Gh(s.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Db(s.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(XT(s)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(t,e,n):(function(s,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Dc(t,e,n,i){return t instanceof Wc?(function(c,h,m,g){if(!Gh(c.precondition,h))return m;const y=c.value.clone(),_=Ob(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ha?(function(c,h,m,g){if(!Gh(c.precondition,h))return m;const y=Ob(c.fieldTransforms,g,h),_=h.data;return _.setAll(XT(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,h,m){return Gh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(t,e,n)}function L6(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),c=GT(i.transform,s||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(i.field,c))}return n||null}function Ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Jo(i,s,((c,h)=>V6(c,h)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends qd{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ha extends qd{constructor(e,n,i,s,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Db(t,e,n){const i=new Map;et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const c=t[s],h=c.transform,m=e.data.field(c.field);i.set(c.field,k6(h,m,n[s]))}return i}function Ob(t,e,n){const i=new Map;for(const s of t){const c=s.transform,h=n.data.field(s.field);i.set(s.field,j6(c,h,e))}return i}class Hd extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&P6(c,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Dc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Dc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=qT();return this.mutations.forEach((s=>{const c=e.get(s.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(s.key)?null:m;const g=WT(h,m);g!==null&&i.set(s.key,g),h.isValidDocument()||h.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,i)=>Ib(n,i)))&&Jo(this.baseMutations,e.baseMutations,((n,i)=>Ib(n,i)))}}class hy{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){et(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return N6})();const c=e.mutations;for(let h=0;h<c.length;h++)s=s.insert(c[h].key,i[h].version);return new hy(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function q6(t){switch(t){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function ZT(t){if(t===void 0)return Yi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:t})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Oa([4294967295,4294967295],0);function jb(t){const e=H6().encode(t),n=new dT;return n.update(e),new Uint8Array(n.digest())}function kb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Oa([n,i],0),new Oa([s,c],0)]}class dy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(i<0)throw new Tc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oa.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(Oa.fromNumber(i)));return s.compare(G6)===1&&(s=new Oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jb(e),[i,s]=kb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,s,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new dy(c,s,n);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=jb(e),[i,s]=kb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,s,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,i,s,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gd(Ce.min(),s,new wt(Be),Ki(),Fe())}}class Xc{constructor(e,n,i,s,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xc(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class JT{constructor(e,n){this.targetId=e,this.Ce=n}}class ew{constructor(e,n,i=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Vb{constructor(){this.ve=0,this.Fe=Mb(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),i=Fe();return this.Fe.forEach(((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Se(38017,{changeType:c})}})),new Xc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Mb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Dh(),this.He=Dh(),this.Ye=new wt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const c=s.target;if(ng(c))if(i===0){const h=new be(c.path);this.et(n,h,vn.newNoDocument(h,Ce.min()))}else et(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:c=0}=n;let h,m;try{h=Ma(i).toUint8Array()}catch(g){if(g instanceof ST)return Zo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dy(h,s,c)}catch(g){return Zo(g instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&ng(m.target)){const g=new be(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,vn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let i=Fe();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const s=new Gd(e,n,this.Ye,this.je,i);return this.je=Ki(),this.Je=Dh(),this.He=Dh(),this.Ye=new wt(Be),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new wt(be.comparator)}function Mb(){return new wt(be.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},K6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class W6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ag(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X6(t,e){return dd(t,e.toTimestamp())}function ni(t){return et(!!t,49232),Ce.fromTimestamp((function(n){const i=Va(n);return new pt(i.seconds,i.nanos)})(t))}function fy(t,e){return sg(t,e).canonicalString()}function sg(t,e){const n=(function(s){return new ft(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nw(t){const e=ft.fromString(t);return et(ow(e),10190,{key:e.toString()}),e}function og(t,e){return fy(t.databaseId,e.path)}function Cp(t,e){const n=nw(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(iw(n))}function rw(t,e){return fy(t.databaseId,e)}function Z6(t){const e=nw(t);return e.length===4?ft.emptyPath():iw(e)}function lg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iw(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Pb(t,e,n){return{name:og(t,e),fields:n.value.mapValue.fields}}function J6(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(et(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const _=y.code===void 0?ie.UNKNOWN:ZT(y.code);return new fe(_,y.message||"")})(h);n=new ew(i,s,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cp(t,i.document.name),c=ni(i.document.updateTime),h=i.document.createTime?ni(i.document.createTime):Ce.min(),m=new Cn({mapValue:{fields:i.document.fields}}),g=vn.newFoundDocument(s,c,h,m),y=i.targetIds||[],_=i.removedTargetIds||[];n=new $h(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cp(t,i.document),c=i.readTime?ni(i.readTime):Ce.min(),h=vn.newNoDocument(s,c),m=i.removedTargetIds||[];n=new $h([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cp(t,i.document),c=i.removedTargetIds||[];n=new $h([],c,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:c}=i,h=new F6(s,c),m=i.targetId;n=new JT(m,h)}}return n}function e3(t,e){let n;if(e instanceof Wc)n={update:Pb(t,e.key,e.value)};else if(e instanceof Hd)n={delete:og(t,e.key)};else if(e instanceof Ha)n={update:Pb(t,e.key,e.data),updateMask:c3(e.fieldMask)};else{if(!(e instanceof U6))return Se(16599,{Vt:e.type});n={verify:og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const m=h.transform;if(m instanceof ud)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof rl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hd)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,c){return c.updateTime!==void 0?{updateTime:X6(s,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(t,e.precondition)),n}function t3(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map((n=>(function(s,c){let h=s.updateTime?ni(s.updateTime):ni(c);return h.isEqual(Ce.min())&&(h=ni(c)),new M6(h,s.transformResults||[])})(n,e)))):[]}function n3(t,e){return{documents:[rw(t,e.path)]}}function r3(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=rw(t,s);const c=(function(y){if(y.length!==0)return sw(Or.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(w){return{field:qo(w.field),direction:s3(w.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ag(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:s}}function i3(t){let e=Z6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){et(i===1,65062);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(T){const w=aw(T);return w instanceof Or&&kT(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(L){return new zc(Ho(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Pd(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(T){const w=!!T.before,O=T.values||[];return new cd(O,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,O=T.values||[];return new cd(O,w)})(n.endAt)),w6(e,s,h,c,m,"F",g,y)}function a3(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ho(n.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ho(n.unaryFilter.field);return Lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ho(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Lt.create(Ho(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Or.create(n.compositeFilter.filters.map((i=>aw(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function s3(t){return Y6[t]}function o3(t){return K6[t]}function l3(t){return Q6[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return un.fromServerFormat(t.fieldPath)}function sw(t){return t instanceof Lt?(function(n){if(n.op==="=="){if(Sb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(wb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(wb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:o3(n.op),value:n.value}}})(t):t instanceof Or?(function(n){const i=n.getFilters().map((s=>sw(s)));return i.length===1?i[0]:{compositeFilter:{op:l3(n.op),filters:i}}})(t):Se(54877,{filter:t})}function c3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ow(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,i,s,c=Ce.min(),h=Ce.min(),m=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.yt=e}}function h3(t){const e=i3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.Cn=new f3}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ka.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class f3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ht(ft.comparator),c=!s.has(i);return this.index[n]=s.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(lw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="LruGarbageCollector",m3=1048576;function zb([t,e],[n,i]){const s=Be(t,n);return s===0?Be(e,i):s}class p3{constructor(e){this.Ir=e,this.buffer=new Ht(zb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();zb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(Ub,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?pe(Ub,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)}))}}class y3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Md.ce);const i=new p3(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Lb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,c,h,m,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(e,s)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(y=Date.now(),Bo()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${s} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:T}))))}}function v3(t,e){return new y3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.changes=new qs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&Dc(i.mutation,s,Gn.empty(),pt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Fe()){const s=Cs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((c=>{let h=Ec();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Cs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Fe())))}populateOverlays(e,n,i){const s=[];return i.forEach((c=>{n.has(c)||s.push(c)})),this.documentOverlayCache.getOverlays(e,s).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,i,s){let c=Ki();const h=Ic(),m=(function(){return Ic()})();return n.forEach(((g,y)=>{const _=i.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof Ha)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Dc(_.mutation,y,_.mutation.getFieldMask(),pt.now())):h.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>m.set(y,new b3(_,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Ic();let s=new wt(((h,m)=>h-m)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||Gn.empty();_=m.applyToLocalView(y,_),i.set(g,_);const T=(s.get(m.batchId)||Fe()).add(g);s=s.insert(m.batchId,T)}))})).next((()=>{const h=[],m=s.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,_=g.value,T=qT();_.forEach((w=>{if(!c.has(w)){const O=WT(n.get(w),i.get(w));O!==null&&T.set(w,O),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return le.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((c=>{const h=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-c.size):le.resolve(Cs());let m=Mc,g=c;return h.next((y=>le.forEach(y,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{g=g.insert(_,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Fe()))).next((_=>({batchId:m,changes:FT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let s=Ec();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const c=n.collectionGroup;let h=Ec();return this.indexManager.getCollectionParents(e,c).next((m=>le.forEach(m,(g=>{const y=(function(T,w){return new ml(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,s).next((_=>{_.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,s)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,vn.newInvalidDocument(_)))}));let m=Ec();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Dc(_.mutation,y,Gn.empty(),pt.now()),Bd(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:h3(s.bundledQuery),readTime:ni(s.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.overlays=new wt(be.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Cs();return le.forEach(n,(s=>this.getOverlay(e,s).next((c=>{c!==null&&i.set(s,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,c)=>{this.St(e,n,c)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const s=Cs(),c=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&s.set(g.getKey(),g)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let c=new wt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=Cs(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=Cs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>m.set(y,_))),!(m.size()>=s)););return le.resolve(m)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const h=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new B6(n,i));let c=this.qr.get(n);c===void 0&&(c=Fe(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new Ht(Xt.$r),this.Ur=new Ht(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Xt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new ft([])),i=new Xt(n,e),s=new Xt(n,e+1),c=[];return this.Ur.forEachInRange([i,s],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new ft([])),i=new Xt(n,e),s=new Xt(n,e+1);let c=Fe();return this.Ur.forEachInRange([i,s],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Xt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Xt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new z6(c,n,i,s);this.mutationQueue.push(h);for(const m of s)this.Zr=this.Zr.add(new Xt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),c=s<0?0:s;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ay:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,s],(h=>{const m=this.Xr(h.Yr);c.push(m)})),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(Be);return n.forEach((s=>{const c=new Xt(s,0),h=new Xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{i=i.add(m.Yr)}))})),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let c=i;be.isDocumentKey(c)||(c=c.child(""));const h=new Xt(new be(c),0);let m=new Ht(Be);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(m=m.add(g.Yr)),!0)}),h),le.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(n.mutations,(s=>{const c=new Xt(s.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Xt(n,0),s=this.Zr.firstAfterOrEqual(i);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.ri=e,this.docs=(function(){return new wt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),c=s?s.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=Ki();return n.forEach((s=>{const c=this.docs.get(s);i=i.insert(s,c?c.document.mutableCopy():vn.newInvalidDocument(s))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let c=Ki();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||t6(e6(_),i)<=0||(s.has(_.key)||Bd(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,n,i,s){Se(9500)}ii(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new R3(this)}getSize(e){return le.resolve(this.size)}}class R3 extends _3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.persistence=e,this.si=new qs((n=>ly(n)),cy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let s=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)})),le.waitFor(c).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,c=[];return s&&n.forEach((h=>{c.push(s.markPotentiallyOrphaned(e,h))})),le.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new S3,this.referenceDelegate=e(this),this.Pi=new N3(this),this.indexManager=new d3,this.remoteDocumentCache=(function(s){return new x3(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new u3(n),this.Ii=new T3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new A3(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const s=new C3(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((c=>this.referenceDelegate.di(s).next((()=>c)))).toPromise().then((c=>(s.raiseOnCommittedEvent(),c)))}Ai(e,n){return le.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class C3 extends r6{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ri=new my,this.Vi=null}static mi(e){return new py(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(i=>{const s=be.fromPath(i);return this.gi(e,s).next((c=>{c||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.pi=new qs((i=>s6(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=v3(this,n)}static mi(e,n){return new fd(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((i,s)=>this.br(e,i,s).next((c=>c?le.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),c=s.newChangeBuffer();return s.ii(e,(h=>this.br(e,h,n).next((m=>{m||(i++,c.removeEntry(h,Ce.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}br(e,n,i){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return le.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Fe(),s=Fe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new gy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rR()?8:i6(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,s,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new I3;return this.Ss(e,n,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>c.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(Bo()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Bo()<=ze.DEBUG&&pe("QueryEngine","Query:",Fo(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Bo()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):le.resolve())}ys(e,n){if(Nb(n))return le.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ig(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=Fe(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,h,g.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,s){return Nb(n)||s.isEqual(Ce.min())?le.resolve(null):this.ps.getDocuments(e,i).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,i,s)?le.resolve(null):(Bo()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(n)),this.vs(e,h,n,JD(s,Mc)).next((m=>m)))}))}Ds(e,n){let i=new Ht(zT(e));return n.forEach(((s,c)=>{Bd(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Ss(e,n,i){return Bo()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",O3=3e8;class j3{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new wt(Be),this.xs=new qs((c=>ly(c)),cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function k3(t,e,n,i){return new j3(t,e,n,i)}async function uw(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((c=>(s=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],m=[];let g=Fe();for(const y of s){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function V3(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,_){const T=y.batch,w=T.keys();let O=le.resolve();return w.forEach((L=>{O=O.next((()=>_.getEntry(g,L))).next((z=>{const k=y.docVersions.get(L);et(k!==null,48541),z.version.compareTo(k)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),_.addEntry(z)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=Fe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function hw(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function M3(t,e){const n=Ie(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const w=s.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,T))));let O=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(dn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,i)),s=s.insert(T,O),(function(z,k,F){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=O3?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,O,_)&&m.push(n.Pi.updateTargetData(c,O))}));let g=Ki(),y=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(P3(c,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!i.isEqual(Ce.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(_)}return le.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=s,c)))}function P3(t,e,n){let i=Fe(),s=Fe();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let h=Ki();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(m)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):pe(yy,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:s}}))}function L3(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function U3(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((c=>c?(s=c,le.resolve(s)):n.Pi.allocateTargetId(i).next((h=>(s=new Ca(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function cg(t,e,n){const i=Ie(t),s=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,s)))}catch(h){if(!fl(h))throw h;pe(yy,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function Bb(t,e,n){const i=Ie(t);let s=Ce.min(),c=Fe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const T=Ie(g),w=T.xs.get(_);return w!==void 0?le.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,_)})(i,h,ti(e)).next((m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?s:Ce.min(),n?c:Fe()))).next((m=>(z3(i,A6(e),m),{documents:m,Qs:c})))))}function z3(t,e,n){let i=t.Os.get(e)||Ce.min();n.forEach(((s,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class Fb{constructor(){this.activeTargetIds=D6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B3{constructor(){this.Mo=new Fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="ConnectivityMonitor";class Hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(qb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(qb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function ug(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",q3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===od?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,c){const h=ug(),m=this.zo(e,n.toUriEncodedString());pe(Ip,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,s,c);const{host:y}=new URL(m),_=zs(y);return this.Jo(e,m,g,i,_).then((T=>(pe(Ip,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Zo(Ip,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,n,i,s,c,h){return this.Go(e,n,i,s,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,c)=>e[c]=s)),i&&i.headers.forEach(((s,c)=>e[c]=s))}zo(e,n){const i=q3[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class $3 extends H3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,c){const h=ug();return new Promise(((m,g)=>{const y=new fT;y.setWithCredentials(!0),y.listenOnce(mT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fh.NO_ERROR:const T=y.getResponseJson();pe(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Fh.TIMEOUT:pe(pn,`RPC '${e}' ${h} timed out`),g(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const w=y.getStatus();if(pe(pn,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O?.error;if(L&&L.status&&L.message){const z=(function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Q)>=0?Q:ie.UNKNOWN})(L.status);g(new fe(z,L.message))}else g(new fe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(pn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(s);pe(pn,`RPC '${e}' ${h} sending request:`,s),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const s=ug(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yT(),m=gT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=c.join("");pe(pn,`Creating RPC '${e}' stream ${s}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let w=!1,O=!1;const L=new G3({Yo:k=>{O?pe(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(w||(pe(pn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),w=!0),pe(pn,`RPC '${e}' stream ${s} sending:`,k),T.send(k))},Zo:()=>T.close()}),z=(k,F,Q)=>{k.listen(F,(G=>{try{Q(G)}catch($){setTimeout((()=>{throw $}),0)}}))};return z(T,bc.EventType.OPEN,(()=>{O||(pe(pn,`RPC '${e}' stream ${s} transport opened.`),L.o_())})),z(T,bc.EventType.CLOSE,(()=>{O||(O=!0,pe(pn,`RPC '${e}' stream ${s} transport closed`),L.a_(),this.E_(T))})),z(T,bc.EventType.ERROR,(k=>{O||(O=!0,Zo(pn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),L.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),z(T,bc.EventType.MESSAGE,(k=>{if(!O){const F=k.data[0];et(!!F,16349);const Q=F,G=Q?.error||Q[0]?.error;if(G){pe(pn,`RPC '${e}' stream ${s} received error:`,G);const $=G.status;let ne=(function(R){const D=Pt[R];if(D!==void 0)return ZT(D)})($),ue=G.message;ne===void 0&&(ne=ie.INTERNAL,ue="Unknown error status: "+$+" with message "+G.message),O=!0,L.a_(new fe(ne,ue)),T.close()}else pe(pn,`RPC '${e}' stream ${s} received:`,F),L.u_(F)}})),z(m,pT.STAT_EVENT,(k=>{k.stat===Xp.PROXY?pe(pn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Xp.NOPROXY&&pe(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new W6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,i=1e3,s=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="PersistentStream";class fw{constructor(e,n,i,s,c,h,m,g){this.Mi=e,this.S_=i,this.b_=s,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new fe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(Gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(Gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y3 extends fw{constructor(e,n,i,s,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J6(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ce.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?ni(h.readTime):Ce.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=lg(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=ng(g)?{documents:n3(c,g)}:{query:r3(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=tw(c,h.resumeToken);const y=ag(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=dd(c,h.snapshotVersion.toTimestamp());const y=ag(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const i=a3(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.q_(n)}}class K3 extends fw{constructor(e,n,i,s,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t3(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=lg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>e3(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{}class W3 extends Q3{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,sg(n,i),s,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}Ho(e,n,i,s,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,sg(n,i),s,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class Z3{constructor(e,n,i,s,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Hs(this)&&(pe(Us,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await Zc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yd(y)})(this))}))})),this.Ra=new X3(i,s)}}async function Yd(t){if(Hs(t))for(const e of t.da)await e(!0)}async function Zc(t){for(const e of t.da)await e(!1)}function mw(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ey(n)?by(n):pl(n).O_()&&_y(n,e))}function vy(t,e){const n=Ie(t),i=pl(n);n.Ia.delete(e),i.O_()&&pw(n,e),n.Ia.size===0&&(i.O_()?i.L_():Hs(n)&&n.Ra.set("Unknown"))}function _y(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function pw(t,e){t.Va.Ue(e),pl(t).Z_(e)}function by(t){t.Va=new $6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function Ey(t){return Hs(t)&&!pl(t).x_()&&t.Ia.size>0}function Hs(t){return Ie(t).Ea.size===0}function gw(t){t.Va=void 0}async function J3(t){t.Ra.set("Online")}async function eO(t){t.Ia.forEach(((e,n)=>{_y(t,e)}))}async function tO(t,e){gw(t),Ey(t)?(t.Ra.ha(e),by(t)):t.Ra.set("Unknown")}async function nO(t,e,n){if(t.Ra.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await(async function(s,c){const h=c.cause;for(const m of c.targetIds)s.Ia.has(m)&&(await s.remoteSyncer.rejectListen(m,h),s.Ia.delete(m),s.Va.removeTarget(m))})(t,e)}catch(i){pe(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await md(t,i)}else if(e instanceof $h?t.Va.Ze(e):e instanceof JT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const i=await hw(t.localStore);n.compareTo(i)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),pw(c,g);const T=new Ca(_.target,g,y,_.sequenceNumber);_y(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(i){pe(Us,"Failed to raise snapshot:",i),await md(t,i)}}async function md(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await Zc(t),t.Ra.set("Offline"),n||(n=()=>hw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Us,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yd(t)}))}function yw(t,e){return e().catch((n=>md(t,n,e)))}async function Kd(t){const e=Ie(t),n=La(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ay;for(;rO(e);)try{const s=await L3(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,iO(e,s)}catch(s){await md(e,s)}vw(e)&&_w(e)}function rO(t){return Hs(t)&&t.Ta.length<10}function iO(t,e){t.Ta.push(e);const n=La(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vw(t){return Hs(t)&&!La(t).x_()&&t.Ta.length>0}function _w(t){La(t).start()}async function aO(t){La(t).ra()}async function sO(t){const e=La(t);for(const n of t.Ta)e.ea(n.mutations)}async function oO(t,e,n){const i=t.Ta.shift(),s=hy.from(i,e,n);await yw(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Kd(t)}async function lO(t,e){e&&La(t).X_&&await(async function(i,s){if((function(h){return q6(h)&&h!==ie.ABORTED})(s.code)){const c=i.Ta.shift();La(i).B_(),await yw(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,s))),await Kd(i)}})(t,e),vw(t)&&_w(t)}async function $b(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),pe(Us,"RemoteStore received new credentials");const i=Hs(n);n.Ea.add(3),await Zc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yd(n)}async function cO(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Yd(n)):e||(n.Ea.add(2),await Zc(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=(function(n,i,s){const c=Ie(n);return c.sa(),new Y3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)})(t.datastore,t.asyncQueue,{Xo:J3.bind(null,t),t_:eO.bind(null,t),r_:tO.bind(null,t),H_:nO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ey(t)?by(t):t.Ra.set("Unknown")):(await t.ma.stop(),gw(t))}))),t.ma}function La(t){return t.fa||(t.fa=(function(n,i,s){const c=Ie(n);return c.sa(),new K3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aO.bind(null,t),r_:lO.bind(null,t),ta:sO.bind(null,t),na:oO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Us,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,i,s,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,c){const h=Date.now()+i,m=new Ty(e,n,h,s,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),fl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Ec(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=i.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.ga=new wt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class al{constructor(e,n,i,s,c,h,m,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,s,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new al(e,n,Wo.emptySet(n),h,i,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hO{constructor(){this.queries=Kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Ie(n),c=s.queries;s.queries=Kb(),c.forEach(((h,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function Kb(){return new qs((t=>UT(t)),zd)}async function Sy(t,e){const n=Ie(t);let i=3;const s=e.query;let c=n.queries.get(s);c?!c.ba()&&e.Da()&&(i=2):(c=new uO,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(s,!0);break;case 1:c.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(h){const m=wy(h,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&xy(n)}async function Ay(t,e){const n=Ie(t),i=e.query;let s=3;const c=n.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?s=e.Da()?0:1:!c.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dO(t,e){const n=Ie(t);let i=!1;for(const s of e){const c=s.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(s)&&(i=!0);h.wa=s}}i&&xy(n)}function fO(t,e,n){const i=Ie(t),s=i.queries.get(e);if(s)for(const c of s.Sa)c.onError(n);i.queries.delete(e)}function xy(t){t.Ca.forEach((e=>{e.next()}))}var hg,Qb;(Qb=hg||(hg={})).Ma="default",Qb.Cache="cache";class Ry{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class Ew{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=zT(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Yb,s=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=s,m=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,T)=>{const w=s.get(_),O=Bd(this.query,T)?T:null,L=!!w&&this.mutatedKeys.has(w.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;w&&O?w.data.isEqual(O.data)?L!==z&&(i.track({type:3,doc:O}),k=!0):this.su(w,O)||(i.track({type:2,doc:O}),k=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(m=!0)):!w&&O?(i.track({type:0,doc:O}),k=!0):w&&!O&&(i.track({type:1,doc:w}),k=!0,(g||y)&&(m=!0)),k&&(O?(h=h.add(O),c=z?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(O,L){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:k})}};return z(O)-z(L)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(i),s=s??!1;const m=n&&!s?this._u():[],g=this.Xa.size===0&&this.current&&!s?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new al(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Ew(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new bw(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ny="SyncEngine";class pO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class gO{constructor(e){this.key=e,this.hu=!1}}class yO{constructor(e,n,i,s,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new qs((m=>UT(m)),zd),this.Iu=new Map,this.Eu=new Set,this.du=new wt(be.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vO(t,e,n=!0){const i=Rw(t);let s;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),s=c.view.lu()):s=await Tw(i,e,n,!0),s}async function _O(t,e){const n=Rw(t);await Tw(n,e,!0,!1)}async function Tw(t,e,n,i){const s=await U3(t.localStore,ti(e)),c=s.targetId,h=t.sharedClientState.addLocalQueryTarget(c,n);let m;return i&&(m=await bO(t,e,c,h==="current",s.resumeToken)),t.isPrimaryClient&&n&&mw(t.remoteStore,s),m}async function bO(t,e,n,i,s){t.pu=(T,w,O)=>(async function(z,k,F,Q){let G=k.view.ru(F);G.Cs&&(G=await Bb(z.localStore,k.query,!1).then((({documents:V})=>k.view.ru(V,G))));const $=Q&&Q.targetChanges.get(k.targetId),ne=Q&&Q.targetMismatches.get(k.targetId)!=null,ue=k.view.applyChanges(G,z.isPrimaryClient,$,ne);return Xb(z,k.targetId,ue.au),ue.snapshot})(t,T,w,O);const c=await Bb(t.localStore,e,!0),h=new mO(e,c.Qs),m=h.ru(c.documents),g=Xc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),y=h.applyChanges(m,t.isPrimaryClient,g);Xb(t,n,y.au);const _=new pO(e,n,h);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function EO(t,e,n){const i=Ie(t),s=i.Tu.get(e),c=i.Iu.get(s.targetId);if(c.length>1)return i.Iu.set(s.targetId,c.filter((h=>!zd(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cg(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&vy(i.remoteStore,s.targetId),dg(i,s.targetId)})).catch(dl)):(dg(i,s.targetId),await cg(i.localStore,s.targetId,!0))}async function TO(t,e){const n=Ie(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vy(n.remoteStore,i.targetId))}async function wO(t,e,n){const i=IO(t);try{const s=await(function(h,m){const g=Ie(h),y=pt.now(),_=m.reduce(((O,L)=>O.add(L.key)),Fe());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let L=Ki(),z=Fe();return g.Ns.getEntries(O,_).next((k=>{L=k,L.forEach(((F,Q)=>{Q.isValidDocument()||(z=z.add(F))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,L))).next((k=>{T=k;const F=[];for(const Q of m){const G=L6(Q,T.get(Q.key).overlayedDocument);G!=null&&F.push(new Ha(Q.key,G,DT(G.value.mapValue),jn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,F,m)})).next((k=>{w=k;const F=k.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(O,k.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:FT(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(h,m,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new wt(Be)),y=y.insert(m,g),h.Vu[h.currentUser.toKey()]=y})(i,s.batchId,n),await Jc(i,s.changes),await Kd(i.remoteStore)}catch(s){const c=wy(s,"Failed to persist write");n.reject(c)}}async function ww(t,e){const n=Ie(t);try{const i=await M3(n.localStore,e);e.targetChanges.forEach(((s,c)=>{const h=n.Au.get(c);h&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.hu=!0:s.modifiedDocuments.size>0?et(h.hu,14607):s.removedDocuments.size>0&&(et(h.hu,42227),h.hu=!1))})),await Jc(n,i,e)}catch(i){await dl(i)}}function Wb(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&s.push(m.snapshot)})),(function(h,m){const g=Ie(h);g.onlineState=m;let y=!1;g.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&xy(g)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function SO(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),c=s&&s.key;if(c){let h=new wt(be.comparator);h=h.insert(c,vn.newNoDocument(c,Ce.min()));const m=Fe().add(c),g=new Gd(Ce.min(),new Map,new wt(Be),h,m);await ww(i,g),i.du=i.du.remove(c),i.Au.delete(e),Cy(i)}else await cg(i.localStore,e,!1).then((()=>dg(i,e,n))).catch(dl)}async function AO(t,e){const n=Ie(t),i=e.batch.batchId;try{const s=await V3(n.localStore,e);Aw(n,i,null),Sw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Jc(n,s)}catch(s){await dl(s)}}async function xO(t,e,n){const i=Ie(t);try{const s=await(function(h,m){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(et(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);Aw(i,e,n),Sw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Jc(i,s)}catch(s){await dl(s)}}function Sw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Aw(t,e,n){const i=Ie(t);let s=i.Vu[i.currentUser.toKey()];if(s){const c=s.get(e);c&&(n?c.reject(n):c.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||xw(t,i)}))}function xw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cy(t))}function Xb(t,e,n){for(const i of n)i instanceof bw?(t.Ru.addReference(i.key,e),RO(t,i)):i instanceof Ew?(pe(Ny,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||xw(t,i.key)):Se(19791,{wu:i})}function RO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(pe(Ny,"New document in limbo: "+n),t.Eu.add(i),Cy(t))}function Cy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(ft.fromString(e)),i=t.fu.next();t.Au.set(i,new gO(n)),t.du=t.du.insert(n,i),mw(t.remoteStore,new Ca(ti(Ud(n.path)),i,"TargetPurposeLimboResolution",Md.ce))}}async function Jc(t,e,n){const i=Ie(t),s=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){s.push(y);const _=gy.As(g.targetId,y);c.push(_)}})))})),await Promise.all(h),i.Pu.H_(s),await(async function(g,y){const _=Ie(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(y,(w=>le.forEach(w.Es,(O=>_.persistence.referenceDelegate.addReference(T,w.targetId,O))).next((()=>le.forEach(w.ds,(O=>_.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))))))}catch(T){if(!fl(T))throw T;pe(yy,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const O=_.Ms.get(w),L=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(w,z)}}})(i.localStore,c))}async function NO(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){pe(Ny,"User change. New user:",e.toKey());const i=await uw(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(ie.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jc(n,i.Ls)}}function CO(t,e){const n=Ie(t),i=n.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let s=Fe();const c=n.Iu.get(e);if(!c)return s;for(const h of c){const m=n.Tu.get(h);s=s.unionWith(m.view.nu)}return s}}function Rw(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SO.bind(null,e),e.Pu.H_=dO.bind(null,e.eventManager),e.Pu.yu=fO.bind(null,e.eventManager),e}function IO(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k3(this.persistence,new D3,e.initialUser,this.serializer)}Cu(e){return new cw(py.mi,this.serializer)}Du(e){return new B3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class DO extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof fd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new g3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new cw((i=>fd.mi(i,n)),this.serializer)}}class fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await cO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hO})()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),i=(function(c){return new $3(c)})(e.databaseInfo);return(function(c,h,m,g){return new W3(c,h,m,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,c,h,m){return new Z3(i,s,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wb(this.syncEngine,n,0)),(function(){return Hb.v()?new Hb:new F3})())}createSyncEngine(e,n){return(function(s,c,h,m,g,y,_){const T=new yO(s,c,h,m,g,y);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ie(n);pe(Us,"RemoteStore shutting down."),i.Ea.add(5),await Zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fg.provider={build:()=>new fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class OO{constructor(e,n,i,s,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{pe(Ua,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(pe(Ua,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=wy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Op(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await uw(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Zb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jO(t);pe(Ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>$b(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>$b(e.remoteStore,s))),t._onlineComponents=e}async function jO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Ua,"Using user provided OfflineComponentProvider");try{await Op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Op(t,new pd)}}else pe(Ua,"Using default OfflineComponentProvider"),await Op(t,new DO(void 0));return t._offlineComponents}async function Nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Ua,"Using user provided OnlineComponentProvider"),await Zb(t,t._uninitializedComponentsProvider._online)):(pe(Ua,"Using default OnlineComponentProvider"),await Zb(t,new fg))),t._onlineComponents}function kO(t){return Nw(t).then((e=>e.syncEngine))}async function gd(t){const e=await Nw(t),n=e.eventManager;return n.onListen=vO.bind(null,e.syncEngine),n.onUnlisten=EO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_O.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TO.bind(null,e.syncEngine),n}function VO(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,y){const _=new Iy({next:w=>{_.Nu(),h.enqueueAndForget((()=>Ay(c,T)));const O=w.docs.has(m);!O&&w.fromCache?y.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&g&&g.source==="server"?y.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new Ry(Ud(m.path),_,{includeMetadataChanges:!0,qa:!0});return Sy(c,T)})(await gd(t),t.asyncQueue,e,n,i))),i.promise}function MO(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,y){const _=new Iy({next:w=>{_.Nu(),h.enqueueAndForget((()=>Ay(c,T))),w.fromCache&&g.source==="server"?y.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new Ry(m,_,{includeMetadataChanges:!0,qa:!0});return Sy(c,T)})(await gd(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firestore.googleapis.com",eE=!0;class tE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iw,this.ssl=eE}else this.host=e.host,this.ssl=e.ssl??eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m3)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new FD;switch(i.type){case"firstParty":return new $D(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Jb.get(n);i&&(pe("ComponentProvider","Removing Datastore"),Jb.delete(n),i.terminate())})(this),Promise.resolve()}}function PO(t,e,n,i={}){t=On(t,Qd);const s=zs(e),c=t._getSettings(),h={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;s&&(Ug(`https://${m}`),zg("Firestore",!0)),c.host!==Iw&&c.host!==m&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:s,emulatorOptions:i};if(!ai(g,h)&&(t._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=yn.MOCK_USER;else{y=n2(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new yn(T)}t._authCredentials=new qD(new _T(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Rt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Qc(n,Rt._jsonSchema))return new Rt(e,i||null,new be(ft.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ut("string",Rt._jsonSchemaVersion),referencePath:Ut("string")};class ja extends Ga{constructor(e,n,i){super(e,n,Ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new be(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function Ds(t,e,...n){if(t=Tt(t),bT("collection","path",e),t instanceof Qd){const i=ft.fromString(e,...n);return mb(i),new ja(t,null,i)}{if(!(t instanceof Rt||t instanceof ja))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ft.fromString(e,...n));return mb(i),new ja(t.firestore,null,i)}}function it(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=iy.newId()),bT("doc","path",e),t instanceof Qd){const i=ft.fromString(e,...n);return fb(i),new Rt(t,null,new be(i))}{if(!(t instanceof Rt||t instanceof ja))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ft.fromString(e,...n));return fb(i),new Rt(t.firestore,t instanceof ja?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const i=Dp();i&&pe(nE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;pe(nE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",iE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ty.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const c of i)if(c in s&&typeof s[c]=="function")return!0;return!1})(t,["next","error","complete"])}class Qi extends Qd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new rE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function LO(t,e){const n=typeof t=="object"?t:Nd(),i=typeof t=="string"?t:od,s=Fa(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const c=JE("firestore");c&&PO(s,...c)}return s}function eu(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UO(t),t._firestoreClient}function UO(t){const e=t._freezeSettings(),n=(function(s,c,h,m){return new c6(s,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Cw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const c=s?._online.build();return{_offline:s?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(dn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qc(e,dr._jsonSchema))return dr.fromBase64String(e.bytes)}}dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:Ut("string",dr._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Qc(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Ut("string",ri._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==s[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qc(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ut("string",ii._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class BO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}class Dw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ow(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Wd{constructor(e,n,i,s,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ow(this.Ac)&&zO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$d(e)}Cc(e,n,i,s=!1){return new Wd({Ac:e,methodName:n,Dc:i,path:un.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new FO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jw(t,e,n,i,s,c={}){const h=t.Cc(c.merge||c.mergeFields?2:0,e,n,s);jy("Data must be an object, but it was:",h,i);const m=Pw(i,h);let g,y;if(c.merge)g=new Gn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const T of c.mergeFields){const w=mg(e,T,n);if(!h.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Uw(_,w)||_.push(w)}g=new Gn(_),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new BO(new Cn(m),g,y)}class Zd extends nu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function kw(t,e,n){return new Wd({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dy extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=kw(this,e,!0),i=this.vc.map((c=>Gs(c,n))),s=new nl(i);return new QT(e.path,s)}isEqual(e){return e instanceof Dy&&ai(this.vc,e.vc)}}class Oy extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=kw(this,e,!0),i=this.vc.map((c=>Gs(c,n))),s=new rl(i);return new QT(e.path,s)}isEqual(e){return e instanceof Oy&&ai(this.vc,e.vc)}}function Vw(t,e,n,i){const s=t.Cc(1,e,n);jy("Data must be an object, but it was:",s,i);const c=[],h=Cn.empty();qa(i,((g,y)=>{const _=ky(e,g,n);y=Tt(y);const T=s.yc(_);if(y instanceof Zd)c.push(_);else{const w=Gs(y,T);w!=null&&(c.push(_),h.set(_,w))}}));const m=new Gn(c);return new Dw(h,m,s.fieldTransforms)}function Mw(t,e,n,i,s,c){const h=t.Cc(1,e,n),m=[mg(e,i,n)],g=[s];if(c.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(mg(e,c[w])),g.push(c[w+1]);const y=[],_=Cn.empty();for(let w=m.length-1;w>=0;--w)if(!Uw(y,m[w])){const O=m[w];let L=g[w];L=Tt(L);const z=h.yc(O);if(L instanceof Zd)y.push(O);else{const k=Gs(L,z);k!=null&&(y.push(O),_.set(O,k))}}const T=new Gn(y);return new Dw(_,T,h.fieldTransforms)}function qO(t,e,n,i=!1){return Gs(n,t.Cc(i?4:3,e))}function Gs(t,e){if(Lw(t=Tt(t)))return jy("Unsupported field value:",e,t),Pw(t,e);if(t instanceof nu)return(function(i,s){if(!Ow(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(s);c&&s.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const c=[];let h=0;for(const m of i){let g=Gs(m,s.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(t,e)}return(function(i,s){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return O6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=pt.fromDate(i);return{timestampValue:dd(s.serializer,c)}}if(i instanceof pt){const c=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dd(s.serializer,c)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dr)return{bytesValue:tw(s.serializer,i._byteString)};if(i instanceof Rt){const c=s.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw s.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ii)return(function(h,m){return{mapValue:{fields:{[CT]:{stringValue:IT},[ld]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return uy(m.serializer,y)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${Vd(i)}`)})(t,e)}function Pw(t,e){const n={};return wT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(t,((i,s)=>{const c=Gs(s,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function Lw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof ri||t instanceof dr||t instanceof Rt||t instanceof nu||t instanceof ii)}function jy(t,e,n){if(!Lw(n)||!ET(n)){const i=Vd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function mg(t,e,n){if((e=Tt(e))instanceof tu)return e._internalPath;if(typeof e=="string")return ky(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const HO=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(HO)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,i,s){const c=i&&!i.isEmpty(),h=s!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${s}`),g+=")"),new fe(ie.INVALID_ARGUMENT,m+t+g)}function Uw(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,i,s,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GO extends zw{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?ky(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class Fw extends Vy{}function qw(t,e,...n){let i=[];e instanceof Vy&&i.push(e),i=i.concat(n),(function(c){const h=c.filter((g=>g instanceof My)).length,m=c.filter((g=>g instanceof ef)).length;if(h>1||h>0&&m>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)t=s._apply(t);return t}class ef extends Fw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ef(e,n,i)}_apply(e){const n=this._parse(e);return Hw(e._query,n),new Ga(e.firestore,e.converter,rg(e._query,n))}_parse(e){const n=Xd(e.firestore);return(function(c,h,m,g,y,_,T){let w;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){oE(T,_);const L=[];for(const z of T)L.push(sE(g,c,z));w={arrayValue:{values:L}}}else w=sE(g,c,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||oE(T,_),w=qO(m,h,T,_==="in"||_==="not-in");return Lt.create(y,_,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $O(t,e,n){const i=e,s=Jd("where",t);return ef._create(s,i,n)}class My extends Vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new My(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,c){let h=s;const m=c.getFlattenedFilters();for(const g of m)Hw(h,g),h=rg(h,g)})(e._query,n),new Ga(e.firestore,e.converter,rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Py extends Fw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Py(e,n)}_apply(e){const n=(function(s,c,h){if(s.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(c,h)})(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,(function(s,c){const h=s.explicitOrderBy.concat([c]);return new ml(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function YO(t,e="asc"){const n=e,i=Jd("orderBy",t);return Py._create(i,n)}function sE(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ft.fromString(n));if(!be.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tb(t,new be(i))}if(n instanceof Rt)return Tb(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vd(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hw(t,e){const n=(function(s,c){for(const h of s)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KO{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qa(e,((s,c)=>{i[s]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[ld].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ld(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Va(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ft.fromString(e);et(ow(i),9688,{name:e});const s=new Lc(i.get(1),i.get(3)),c=new be(i.popFirst(5));return s.isEqual(n)||Yi(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends zw{constructor(e,n,i,s,c,h){super(e,n,i,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Ut("string",Os._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Yh extends Os{data(e={}){return super.data(e)}}class js{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Yh(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,c){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map((m=>{const g=new Yh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Yh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:QO(m.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),s.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){t=On(t,Rt);const e=On(t.firestore,Qi);return VO(eu(e),t._key).then((n=>$w(e,t,n)))}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Ut("string",js._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Ly extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function vd(t){t=On(t,Ga);const e=On(t.firestore,Qi),n=eu(e),i=new Ly(e);return Bw(t._query),MO(n,t._query).then((s=>new js(e,i,t,s)))}function tf(t,e,n){t=On(t,Rt);const i=On(t.firestore,Qi),s=Gw(t.converter,e,n);return nf(i,[jw(Xd(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,jn.none())])}function fr(t,e,n,...i){t=On(t,Rt);const s=On(t.firestore,Qi),c=Xd(s);let h;return h=typeof(e=Tt(e))=="string"||e instanceof tu?Mw(c,"updateDoc",t._key,e,n,i):Vw(c,"updateDoc",t._key,e),nf(s,[h.toMutation(t._key,jn.exists(!0))])}function lE(t){return nf(On(t.firestore,Qi),[new Hd(t._key,jn.none())])}function pg(t,...e){t=Tt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||aE(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aE(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,h,m;if(t instanceof Rt)h=On(t.firestore,Qi),m=Ud(t._key.path),c={next:g=>{e[i]&&e[i]($w(h,t,g))},error:e[i+1],complete:e[i+2]};else{const g=On(t,Ga);h=On(g.firestore,Qi),m=g._query;const y=new Ly(h);c={next:_=>{e[i]&&e[i](new js(h,y,g,_))},error:e[i+1],complete:e[i+2]},Bw(t._query)}return(function(y,_,T,w){const O=new Iy(w),L=new Ry(_,O,T);return y.asyncQueue.enqueueAndForget((async()=>Sy(await gd(y),L))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ay(await gd(y),L)))}})(eu(h),m,s,c)}function nf(t,e){return(function(i,s){const c=new Fi;return i.asyncQueue.enqueueAndForget((async()=>wO(await kO(i),s,c))),c.promise})(eu(t),e)}function $w(t,e,n){const i=n.docs.get(e._key),s=new Ly(t);return new Os(t,s,e._key,i,new wc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xd(e)}set(e,n,i){this._verifyNotCommitted();const s=jp(e,this._firestore),c=Gw(s.converter,n,i),h=jw(this._dataReader,"WriteBatch.set",s._key,c,s.converter!==null,i);return this._mutations.push(h.toMutation(s._key,jn.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const c=jp(e,this._firestore);let h;return h=typeof(n=Tt(n))=="string"||n instanceof tu?Mw(this._dataReader,"WriteBatch.update",c._key,n,i,s):Vw(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jp(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jp(t,e){if((t=Tt(t)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Yw(...t){return new Dy("arrayUnion",t)}function Kw(...t){return new Oy("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){return eu(t=On(t,Qi)),new WO(t,(e=>nf(t,e)))}(function(e,n=!0){(function(s){hl=s})(Fs),Dr(new mr("firestore",((i,{instanceIdentifier:s,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new Qi(new HD(i.getProvider("auth-internal")),new YD(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(y.options.projectId,_)})(h,s),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),In(cb,ub,e),In(cb,ub,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebasestorage.googleapis.com",ZO="storageBucket",JO=120*1e3,ej=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends pr{constructor(e,n,i=0){super(kp(e),`Firebase Storage: ${n} (${kp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function kp(t){return"storage/"+t}function tj(){const t="An unknown error occurred, please check the error payload for server response.";return new ci(li.UNKNOWN,t)}function nj(){return new ci(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rj(){return new ci(li.CANCELED,"User canceled the upload/download.")}function ij(t){return new ci(li.INVALID_URL,"Invalid URL '"+t+"'.")}function aj(t){return new ci(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cE(t){return new ci(li.INVALID_ARGUMENT,t)}function Ww(){return new ci(li.APP_DELETED,"The Firebase app was deleted.")}function sj(t){return new ci(li.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Nr.makeFromUrl(e,n)}catch{return new Nr(e,"")}if(i.path==="")return i;throw aj(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function c($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+s+h,"i"),g={bucket:1,path:3};function y($){$.path_=decodeURIComponent($.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${_}/b/${s}/o${w}`,"i"),L={bucket:1,path:3},z=n===Qw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",F=new RegExp(`^https?://${z}/${s}/${k}`,"i"),G=[{regex:m,indices:g,postModify:c},{regex:O,indices:L,postModify:y},{regex:F,indices:{bucket:1,path:2},postModify:y}];for(let $=0;$<G.length;$++){const ne=G[$],ue=ne.regex.exec(e);if(ue){const V=ue[ne.indices.bucket];let R=ue[ne.indices.path];R||(R=""),i=new Nr(V,R),ne.postModify(i);break}}if(i==null)throw ij(e);return i}}class oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e,n){let i=1,s=null,c=null,h=!1,m=0;function g(){return m===2}let y=!1;function _(...k){y||(y=!0,e.apply(null,k))}function T(k){s=setTimeout(()=>{s=null,t(O,g())},k)}function w(){c&&clearTimeout(c)}function O(k,...F){if(y){w();return}if(k){w(),_.call(null,k,...F);return}if(g()||h){w(),_.call(null,k,...F);return}i<64&&(i*=2);let G;m===1?(m=2,G=0):G=(i+Math.random())*1e3,T(G)}let L=!1;function z(k){L||(L=!0,w(),!y&&(s!==null?(k||(m=2),clearTimeout(s),T(0)):k||(m=1)))}return T(0),c=setTimeout(()=>{h=!0,z(!0)},n),z}function cj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return t!==void 0}function uE(t,e,n,i){if(i<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function hj(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var _d;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_d||(_d={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||s||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,i,s,c,h,m,g,y,_,T,w=!0,O=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,z)=>{this.resolve_=L,this.reject_=z,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new jh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===_d.NO_ERROR,g=c.getStatus();if(!m||dj(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===_d.ABORT;i(!1,new jh(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new jh(y,c))})},n=(i,s)=>{const c=this.resolve_,h=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());uj(g)?c(g):c()}catch(g){h(g)}else if(m!==null){const g=tj();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(s.canceled){const g=this.appDelete_?Ww():rj();h(g)}else{const g=nj();h(g)}};this.canceled_?n(!1,new jh(!1,null,!0)):this.backoffId_=lj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function mj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vj(t,e,n,i,s,c,h=!0,m=!1){const g=hj(t.urlParams),y=t.url+g,_=Object.assign({},t.headers);return gj(_,e),mj(_,n),pj(_,c),yj(_,i),new fj(y,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this._service=e,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bd(e,n)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bj(this._location.path)}get storage(){return this._service}get parent(){const e=_j(this._location.path);if(e===null)return null;const n=new Nr(this._location.bucket,e);return new bd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sj(e)}}function hE(t,e){const n=e?.[ZO];return n==null?null:Nr.makeFromBucketSpec(n,t)}function Ej(t,e,n,i={}){t.host=`${e}:${n}`;const s=zs(e);s&&(Ug(`https://${t.host}/b`),zg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:c}=i;c&&(t._overrideAuthToken=typeof c=="string"?c:n2(c,t.app.options.projectId))}class Tj{constructor(e,n,i,s,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=Qw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JO,this._maxUploadRetryTime=ej,this._requests=new Set,s!=null?this._bucket=Nr.makeFromBucketSpec(s,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bd(this,e)}_makeRequest(e,n,i,s,c=!0){if(this._deleted)return new oj(Ww());{const h=vj(e,this._appId,i,s,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const dE="@firebase/storage",fE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="storage";function wj(t=Nd(),e){t=Tt(t);const i=Fa(t,Xw).getImmediate({identifier:e}),s=JE("storage");return s&&Sj(i,...s),i}function Sj(t,e,n,i={}){Ej(t,e,n,i)}function Aj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Tj(n,i,s,e,Fs)}function xj(){Dr(new mr(Xw,Aj,"PUBLIC").setMultipleInstances(!0)),In(dE,fE,""),In(dE,fE,"esm2020")}xj();const Rj={apiKey:"AIzaSyCwoCgB9o8JCGJltFfMCVb0EqRxRWSODZ0",authDomain:"quantix-26ba5.firebaseapp.com",projectId:"quantix-26ba5",storageBucket:"quantix-26ba5.firebasestorage.app",messagingSenderId:"503362009947",appId:"1:503362009947:web:67ef295f8cd987cc55787e",measurementId:"G-HJB25H1SWR"},rf=c2(Rj);typeof window<"u"&&zC(rf);const Ue=LO(rf),Ye=zD(rf),Zw=new Pi;wj(rf);function Nj(){const[t,e]=M.useState(null),n=Yn(),i=async()=>{try{const h=(await uT(Ye,Zw)).user;e(h);const m=await Hn(it(Ue,"users",h.uid));if(m.exists()){const g=m.data().role;n(g==="planner"?"/planner-dashboard":g==="vendor"?"/vendor-dashboard":"/")}else n("/signup")}catch(c){console.error(c)}},s=()=>{J2(Ye).then(()=>{e(null),console.log("User signed out")}).catch(c=>{console.error(c)})};return f.jsxs("div",{className:"auth-container",children:[f.jsxs("h1",{children:["Welcome to ",f.jsx("span",{className:"accent-text",children:"Event-ually Perfect"})]}),f.jsx("p",{children:"Login to get started planning or managing your event experience."}),t?f.jsxs("div",{className:"user-profile",children:[f.jsxs("div",{className:"user-info",children:[f.jsx("img",{src:t.photoURL,alt:"Profile",className:"profile-image"}),f.jsxs("p",{className:"welcome-text",children:["Welcome back, ",t.displayName,"!"]})]}),f.jsxs("button",{onClick:s,className:"auth-btn",children:[f.jsx("i",{className:"fas fa-sign-out-alt"})," Log out"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:i,className:"auth-btn",children:[f.jsx("i",{className:"fab fa-google"})," Login with Google"]}),f.jsxs("p",{className:"auth-prompt",children:["First time?"," ",f.jsx(Lg,{to:"/signup",className:"auth-link",children:"Sign up here"})]})]})]})}function Cj(){const[t,e]=M.useState(""),n=Yn(),i=async()=>{if(!t){alert("Please select a role first!");return}try{const c=(await uT(Ye,Zw)).user;await tf(it(Ue,"users",c.uid),{uid:c.uid,email:c.email,role:t,createdAt:new Date}),n(t==="planner"?"/planner-form":"/vendor-form")}catch(s){console.error("Error signing up:",s)}};return f.jsxs("div",{className:"auth-container",children:[f.jsxs("h1",{children:["Welcome to ",f.jsx("span",{className:"accent-text",children:"Event-ually Perfect"})]}),f.jsx("p",{children:"Select your role to get started with a tailored experience."}),f.jsxs("div",{className:"role-choices",children:[f.jsxs("div",{className:`role-card ${t==="planner"?"selected":""}`,onClick:()=>e("planner"),children:[f.jsx("div",{className:"card-icon",children:"🗒️"}),f.jsx("h2",{children:"Event Planner"}),f.jsx("p",{children:"Organize events, find vendors, and manage your projects all in one place."})]}),f.jsxs("div",{className:`role-card ${t==="vendor"?"selected":""}`,onClick:()=>e("vendor"),children:[f.jsx("div",{className:"card-icon",children:"🏪"}),f.jsx("h2",{children:"Vendor"}),f.jsx("p",{children:"Showcase your services, connect with planners, and grow your business."})]})]}),f.jsxs("button",{type:"button",className:"auth-btn",onClick:i,children:[f.jsx("i",{className:"fab fa-google"})," Sign Up with Google"]}),f.jsxs("p",{className:"auth-prompt",children:["Already have an account?"," ",f.jsx("a",{href:"/login",className:"auth-link",onClick:s=>{s.preventDefault(),n("/login")},children:"Login here"})]})]})}var Jw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mE=zi.createContext&&zi.createContext(Jw),Ij=["attr","size","title"];function Dj(t,e){if(t==null)return{};var n=Oj(t,e),i,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)i=c[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Oj(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ed.apply(this,arguments)}function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(i){jj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jj(t,e,n){return e=kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kj(t){var e=Vj(t,"string");return typeof e=="symbol"?e:e+""}function Vj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eS(t){return t&&t.map((e,n)=>zi.createElement(e.tag,Td({key:n},e.attr),eS(e.child)))}function tt(t){return e=>zi.createElement(Mj,Ed({attr:Td({},t.attr)},e),eS(t.child))}function Mj(t){var e=n=>{var{attr:i,size:s,title:c}=t,h=Dj(t,Ij),m=s||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),zi.createElement("svg",Ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,h,{className:g,style:Td(Td({color:t.color||n.color},n.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&zi.createElement("title",null,c),t.children)};return mE!==void 0?zi.createElement(mE.Consumer,null,n=>e(n)):e(Jw)}function tS(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function za(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Pj(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function Uy(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function af(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function nS(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function zy(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function sl(t){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function rS(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Lj(t){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function gE(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Uj(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(t)}function iS(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function zj(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function Bj(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Fj(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function aS(t){return tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function qj(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function sS(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Oc(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function ru(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Hj(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function oS(t){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function qi(t){return tt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function By(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Gj(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function sf(t){return tt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function lS(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function $j(t){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Yj(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V160h352v298a6 6 0 0 1-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"},child:[]}]})(t)}function Kj(){const[t,e]=M.useState(null),[n]=M.useState(!1),[i,s]=M.useState({full_name:"",phone:"",bio:""}),c=Yn(),h=_=>{const{name:T,value:w}=_.target;s(O=>({...O,[T]:w}))},m=_=>{const T=_.target.files[0];if(!T)return;if(!T.type.match("image.*")){alert("Please select an image file (JPEG, PNG, etc.)");return}if(T.size>5*1024*1024){alert("Image must be less than 5MB");return}const w=URL.createObjectURL(T);e(w),s(O=>({...O,profilePicFile:T}))},g=_=>_.replace(/\D/g,"").length===10,y=async _=>{if(_.preventDefault(),!g(i.phone)){alert("Please enter a valid 10-digit phone number");return}try{const T=Ye.currentUser;if(!T){alert("You must be signed in to submit your profile.");return}await tf(it(Ue,"planners",T.uid),{...i,email:T.email,uid:T.uid,createdAt:new Date().toISOString()}),alert("Profile submitted!"),c("/planner-dashboard")}catch(T){console.error("Error saving profile:",T),alert("Something went wrong. Try again.")}};return f.jsxs("div",{className:"profile-container",children:[f.jsx("div",{style:{textAlign:"left",marginBottom:"1rem"},children:f.jsxs("button",{onClick:()=>c(-1),style:{background:"none",border:"none",color:"var(--peach)",cursor:"pointer",padding:"0.5rem 1rem",fontSize:"1rem",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(za,{})," Back"]})}),f.jsxs("h1",{children:["Set Up Your ",f.jsx("span",{className:"accent-text",children:"Planner"})," Profile"]}),f.jsx("p",{children:"Fill out your details to get started and connect with vendors."}),f.jsxs("form",{className:"profile-form",onSubmit:y,children:[f.jsxs("div",{className:"form-group profile-pic-group",children:[f.jsx("label",{htmlFor:"profile_pic",className:"pic-upload-label",children:f.jsxs("div",{className:"pic-preview",style:{backgroundImage:t?`url(${t})`:"none",background:t?"none":"linear-gradient(135deg, #FF7F50 0%, #FFDAB9 100%)",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",position:"relative",margin:"0 auto",width:"150px",height:"150px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[f.jsx("div",{className:"default-state",children:t?f.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:f.jsxs("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.5)",color:"white",textAlign:"center",padding:"5px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[f.jsx(af,{style:{fontSize:"12px",color:"#ffffff"}}),f.jsx("span",{children:"Change"})]})}):f.jsxs(f.Fragment,{children:[f.jsx(sf,{size:60,color:"#ffffff"}),f.jsx("span",{style:{display:"block",marginTop:"8px"},children:"Add Profile Picture"})]})}),n&&f.jsx("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("div",{className:"spinner"})})]})}),f.jsx("input",{type:"file",id:"profile_pic",onChange:m,accept:"image/*",style:{display:"none"},disabled:n})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-user"}),f.jsx("input",{type:"text",name:"full_name",className:`form-input ${i.full_name?"has-value":""}`,value:i.full_name,onChange:h,required:!0}),f.jsx("label",{className:"form-label",children:"Full Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-phone"}),f.jsx("input",{type:"tel",name:"phone",className:`form-input ${i.phone?"has-value":""}`,value:i.phone,onChange:h,required:!0}),f.jsx("label",{className:"form-label",children:"Phone Number"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-align-left"}),f.jsx("textarea",{name:"bio",className:`form-input ${i.bio?"has-value":""}`,value:i.bio,onChange:h}),f.jsx("label",{className:"form-label",children:"Short Bio"})]}),f.jsx("button",{type:"submit",className:"submit-btn",children:"Save & Continue"})]})]})}function Qj(){const t=Yn(),[e,n]=M.useState(null),[i]=M.useState(!1),[s,c]=M.useState({category:[],contact_number:"",description:"",name_of_business:"",name_of_vendor:""}),h=_=>{const{name:T,value:w}=_.target;c(O=>({...O,[T]:w}))},m=_=>{const T=_.target.files[0];if(!T)return;if(!T.type.match("image.*")){alert("Please select an image file (JPEG, PNG, etc.)");return}if(T.size>5*1024*1024){alert("Image must be less than 5MB");return}const w=URL.createObjectURL(T);n(w),c(O=>({...O,profilePicFile:T}))},g=_=>_.replace(/\D/g,"").length===10,y=async _=>{if(_.preventDefault(),!g(s.contact_number)){alert("Please enter a valid 10-digit phone number");return}if(!s.name_of_vendor||!s.name_of_business||!s.category){alert("Please fill in all required fields");return}try{const T=Ye.currentUser;if(!T){alert("You must be signed in to submit your profile.");return}await tf(it(Ue,"vendors",T.uid),{...s,profilePic:e||"",email:T.email,uid:T.uid}),alert("Profile submitted!"),t("/vendor-dashboard")}catch(T){console.error("Error saving vendor profile:",T),alert("Something went wrong. Try again.")}};return f.jsxs("div",{className:"profile-container",children:[f.jsx("div",{style:{textAlign:"left",marginBottom:"1rem"},children:f.jsxs("button",{onClick:()=>t(-1),style:{background:"none",border:"none",color:"var(--peach)",cursor:"pointer",padding:"0.5rem 1rem",fontSize:"1rem",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(za,{})," Back"]})}),f.jsxs("h1",{children:["Set Up Your ",f.jsx("span",{className:"accent-text",children:"Vendor"})," Profile"]}),f.jsx("p",{children:"Fill out your details to get started and connect with planners."}),f.jsxs("form",{className:"profile-form",onSubmit:y,children:[f.jsxs("div",{className:"form-group profile-pic-group",children:[f.jsx("label",{htmlFor:"profile_pic",className:"pic-upload-label",children:f.jsxs("div",{className:"pic-preview",style:{backgroundImage:e?`url(${e})`:"none",background:e?"none":"linear-gradient(135deg, #FF7F50 0%, #FFDAB9 100%)",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",position:"relative",margin:"0 auto",width:"150px",height:"150px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"aria-label":"Profile picture preview",role:"img",children:[f.jsx("div",{className:"default-state",children:e?f.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:f.jsxs("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.5)",color:"white",textAlign:"center",padding:"5px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[f.jsx(af,{style:{fontSize:"12px",color:"#ffffff"}}),f.jsx("span",{children:"Change"})]})}):f.jsxs(f.Fragment,{children:[f.jsx(sf,{size:60,color:"#ffffff"}),f.jsx("span",{style:{display:"block",marginTop:"8px",color:"white"},children:"Add Profile Picture"})]})}),i&&f.jsx("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("div",{className:"spinner"})})]})}),f.jsx("input",{type:"file",id:"profile_pic",onChange:m,accept:"image/*",style:{display:"none"},disabled:i})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-user"}),f.jsx("input",{type:"text",name:"name_of_vendor",className:`form-input ${s.name_of_vendor?"has-value":""}`,value:s.name_of_vendor,onChange:h,required:!0}),f.jsx("label",{className:"form-label",children:"Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-building"}),f.jsx("input",{type:"text",name:"name_of_business",className:`form-input ${s.name_of_business?"has-value":""}`,value:s.name_of_business,onChange:h}),f.jsx("label",{className:"form-label",children:"Name of Business"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-phone"}),f.jsx("input",{type:"tel",name:"contact_number",className:`form-input ${s.contact_number?"has-value":""}`,value:s.contact_number,onChange:h,required:!0}),f.jsx("label",{className:"form-label",children:"Contact Number"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-tag"}),f.jsxs("select",{name:"category",className:`form-input ${s.category&&s.category[0]?"has-value":""}`,value:s.category[0]||"",onChange:_=>c({...s,category:[_.target.value]}),required:!0,style:{color:s.category&&s.category[0]?"var(--text-primary)":"transparent"},children:[f.jsx("option",{value:"",disabled:!0,style:{color:"#000000"}}),f.jsx("option",{value:"Catering",style:{color:"#000000"},children:"Catering"}),f.jsx("option",{value:"Flowers",style:{color:"#000000"},children:"Flowers"}),f.jsx("option",{value:"Venue",style:{color:"#000000"},children:"Venue"}),f.jsx("option",{value:"Photography",style:{color:"#000000"},children:"Photography"}),f.jsx("option",{value:"Music",style:{color:"#000000"},children:"Music"}),f.jsx("option",{value:"Decor",style:{color:"#000000"},children:"Decor"})]}),f.jsx("label",{className:`form-label ${s.category&&s.category[0]?"floating":""}`,children:"Category"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon fas fa-align-left"}),f.jsx("textarea",{name:"description",className:`form-input ${s.description?"has-value":""}`,value:s.description,onChange:h}),f.jsx("label",{className:"form-label",children:"Description"})]}),f.jsx("button",{type:"submit",className:"submit-btn",children:"Save & Continue"})]})]})}function Wj(){return f.jsxs("div",{className:"dashboard-main",children:[f.jsx("div",{className:"dashboard-header",children:f.jsx("h1",{children:f.jsx("strong",{children:"Hi, Admin Name!"})})}),f.jsxs("nav",{children:[f.jsx("div",{className:"logo",children:f.jsx("span",{className:"gradient",children:"Event-ually Perfect"})}),f.jsx("div",{className:"nav-links",children:f.jsx("i",{className:"fa fa-bars","aria-hidden":"true"})})]}),f.jsx("div",{className:"dashboard-content",children:f.jsxs("section",{className:"planner-management",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h1",{children:"Planners"}),f.jsxs("button",{className:"pdf-btn",children:[f.jsx("i",{className:"fa fa-add","aria-hidden":"true"})," Add Planner"]})]}),f.jsxs("div",{className:"planner-sections",children:[f.jsxs("section",{className:"pending-section",children:[f.jsx("h2",{children:"Unapproved"}),f.jsxs("table",{className:"planner-table",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-headings",children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Approve"}),f.jsx("th",{children:"Request Date"})]})}),f.jsx("tbody",{})]}),f.jsxs("div",{className:"empty-state",children:[f.jsx("i",{className:"fa fa-users","aria-hidden":"true"}),f.jsx("p",{children:"No unapproved planners"})]})]}),f.jsxs("section",{className:"approved-section",children:[f.jsx("h2",{children:"Approved"}),f.jsxs("table",{className:"planner-table",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-headings",children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Date joined"}),f.jsx("th",{children:"Rating"})]})}),f.jsx("tbody",{})]}),f.jsxs("div",{className:"empty-state",children:[f.jsx("i",{className:"fa fa-users","aria-hidden":"true"}),f.jsx("p",{children:"No approved planners"})]})]})]})]})}),f.jsxs("section",{className:"planner-management",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h1",{children:"Vendors"}),f.jsxs("button",{className:"pdf-btn",children:[f.jsx("i",{className:"fa fa-add","aria-hidden":"true"})," Add Vendor"]})]}),f.jsxs("div",{className:"planner-sections",children:[f.jsxs("section",{className:"pending-section",children:[f.jsx("h2",{children:"Unapproved"}),f.jsxs("table",{className:"planner-table",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-headings",children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Approve"}),f.jsx("th",{children:"Request Date"})]})}),f.jsx("tbody",{})]}),f.jsxs("div",{className:"empty-state",children:[f.jsx("i",{className:"fa fa-users","aria-hidden":"true"}),f.jsx("p",{children:"No unapproved planners"})]})]}),f.jsxs("section",{className:"approved-section",children:[f.jsx("h2",{children:"Approved"}),f.jsxs("table",{className:"planner-table",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-headings",children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Date joined"}),f.jsx("th",{children:"Rating"})]})}),f.jsx("tbody",{})]}),f.jsxs("div",{className:"empty-state",children:[f.jsx("i",{className:"fa fa-users","aria-hidden":"true"}),f.jsx("p",{children:"No approved planners"})]})]})]})]})]})}function cS(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cS(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function of(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cS(t))&&(i&&(i+=" "),i+=e);return i}const Xj=(t,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(t,n),c=Object.getOwnPropertyDescriptor(e,n);!Zj(s,c)&&i||Object.defineProperty(t,n,c)},Zj=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Jj=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},ek=(t,e)=>`/* Wrapped ${t}*/
${e}`,tk=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),nk=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),rk=(t,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,s=ek.bind(null,i,e.toString());Object.defineProperty(s,"name",nk);const{writable:c,enumerable:h,configurable:m}=tk;Object.defineProperty(t,"toString",{value:s,writable:c,enumerable:h,configurable:m})};function ik(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=t;for(const s of Reflect.ownKeys(e))Xj(t,e,s,n);return Jj(t,e),rk(t,e,i),t}const ak=new WeakMap,yE=new WeakMap;function uS(t,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return t;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...c){const h=e?e(c):c[0],m=n.get(h);if(m)return m.data;const g=t.apply(this,c),y=typeof i=="function"?i(...c):i;if(n.set(h,{data:g,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const _=setTimeout(()=>{n.delete(h)},y);_.unref?.();const T=yE.get(t)??new Set;T.add(_),yE.set(t,T)}return g};return ik(s,t,{ignoreNonConfigurable:!0}),ak.set(s,n),s}function sk(t){return typeof t=="string"}function ok(t,e,n){return n.indexOf(t)===e}function lk(t){return t.toLowerCase()===t}function vE(t){return t.indexOf(",")===-1?t:t.split(",")}function gg(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return gg(n)}if(t.indexOf("@")!==-1){var i=t.split("@")[0],n=i===void 0?"":i;return gg(n)}if(t.indexOf("-")===-1||!lk(t))return t;var s=t.split("-"),c=s[0],h=s[1],m=h===void 0?"":h;return"".concat(c,"-").concat(m.toUpperCase())}function ck(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,i=n===void 0?!0:n,s=e.fallbackLocale,c=s===void 0?"en-US":s,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],y=0,_=m;y<_.length;y++){var T=_[y];g=g.concat(vE(T))}var w=navigator.language,O=w&&vE(w);h=h.concat(g,O)}return i&&h.push(c),h.filter(sk).map(gg).filter(ok)}var uk=uS(ck,{cacheKey:JSON.stringify});function hk(t){return uk(t)[0]||null}var hS=uS(hk,{cacheKey:JSON.stringify});function Wi(t,e,n){return function(s,c=n){const h=t(s)+c;return e(h)}}function iu(t){return function(n){return new Date(t(n).getTime()-1)}}function au(t,e){return function(i){return[t(i),e(i)]}}function bt(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function $a(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function lf(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function gl(t){const e=bt(t),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const dk=Wi(bt,gl,-100),dS=Wi(bt,gl,100),Fy=iu(dS),fk=Wi(bt,Fy,-100),fS=au(gl,Fy);function Ya(t){const e=bt(t),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const mS=Wi(bt,Ya,-10),qy=Wi(bt,Ya,10),cf=iu(qy),pS=Wi(bt,cf,-10),gS=au(Ya,cf);function yl(t){const e=bt(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const yS=Wi(bt,yl,-1),Hy=Wi(bt,yl,1),uf=iu(Hy),vS=Wi(bt,uf,-1),mk=au(yl,uf);function Gy(t,e){return function(i,s=e){const c=bt(i),h=$a(i)+s,m=new Date;return m.setFullYear(c,h,1),m.setHours(0,0,0,0),t(m)}}function $s(t){const e=bt(t),n=$a(t),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const _S=Gy($s,-1),$y=Gy($s,1),su=iu($y),bS=Gy(su,-1),pk=au($s,su);function gk(t,e){return function(i,s=e){const c=bt(i),h=$a(i),m=lf(i)+s,g=new Date;return g.setFullYear(c,h,m),g.setHours(0,0,0,0),t(g)}}function ou(t){const e=bt(t),n=$a(t),i=lf(t),s=new Date;return s.setFullYear(e,n,i),s.setHours(0,0,0,0),s}const yk=gk(ou,1),Yy=iu(yk),vk=au(ou,Yy);function ES(t){return lf(su(t))}var hn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},_k={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Ky=[0,1,2,3,4,5,6],Vp=new Map;function bk(t){return function(n,i){var s=n||hS();Vp.has(s)||Vp.set(s,new Map);var c=Vp.get(s);return c.has(t)||c.set(t,new Intl.DateTimeFormat(s||void 0,t).format),c.get(t)(i)}}function Ek(t){var e=new Date(t);return new Date(e.setHours(12))}function Ys(t){return function(e,n){return bk(t)(e,Ek(n))}}var Tk={day:"numeric"},wk={day:"numeric",month:"long",year:"numeric"},Sk={month:"long"},Ak={month:"long",year:"numeric"},xk={weekday:"short"},Rk={weekday:"long"},Nk={year:"numeric"},Ck=Ys(Tk),Ik=Ys(wk),Dk=Ys(Sk),TS=Ys(Ak),Ok=Ys(xk),jk=Ys(Rk),hf=Ys(Nk),kk=Ky[0],Vk=Ky[5],_E=Ky[6];function Bc(t,e){e===void 0&&(e=hn.ISO_8601);var n=t.getDay();switch(e){case hn.ISO_8601:return(n+6)%7;case hn.ISLAMIC:return(n+1)%7;case hn.HEBREW:case hn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Mk(t){var e=gl(t);return bt(e)}function Pk(t){var e=Ya(t);return bt(e)}function yg(t,e){e===void 0&&(e=hn.ISO_8601);var n=bt(t),i=$a(t),s=t.getDate()-Bc(t,e);return new Date(n,i,s)}function Lk(t,e){e===void 0&&(e=hn.ISO_8601);var n=e===hn.GREGORY?hn.GREGORY:hn.ISO_8601,i=yg(t,e),s=bt(t)+1,c,h;do c=new Date(s,0,n===hn.ISO_8601?4:1),h=yg(c,e),s-=1;while(t<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function ks(t,e){switch(t){case"century":return gl(e);case"decade":return Ya(e);case"year":return yl(e);case"month":return $s(e);case"day":return ou(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Uk(t,e){switch(t){case"century":return dk(e);case"decade":return mS(e);case"year":return yS(e);case"month":return _S(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wS(t,e){switch(t){case"century":return dS(e);case"decade":return qy(e);case"year":return Hy(e);case"month":return $y(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function zk(t,e){switch(t){case"decade":return mS(e,-100);case"year":return yS(e,-10);case"month":return _S(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Bk(t,e){switch(t){case"decade":return qy(e,100);case"year":return Hy(e,10);case"month":return $y(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function SS(t,e){switch(t){case"century":return Fy(e);case"decade":return cf(e);case"year":return uf(e);case"month":return su(e);case"day":return Yy(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Fk(t,e){switch(t){case"century":return fk(e);case"decade":return pS(e);case"year":return vS(e);case"month":return bS(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function qk(t,e){switch(t){case"decade":return pS(e,-100);case"year":return vS(e,-10);case"month":return bS(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function bE(t,e){switch(t){case"century":return fS(e);case"decade":return gS(e);case"year":return mk(e);case"month":return pk(e);case"day":return vk(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Hk(t,e,n){var i=[e,n].sort(function(s,c){return s.getTime()-c.getTime()});return[ks(t,i[0]),SS(t,i[1])]}function AS(t,e,n){return n.map(function(i){return(e||hf)(t,i)}).join(" – ")}function Gk(t,e,n){return AS(t,e,fS(n))}function xS(t,e,n){return AS(t,e,gS(n))}function $k(t){return t.getDay()===new Date().getDay()}function RS(t,e){e===void 0&&(e=hn.ISO_8601);var n=t.getDay();switch(e){case hn.ISLAMIC:case hn.HEBREW:return n===Vk||n===_E;case hn.ISO_8601:case hn.GREGORY:return n===_E||n===kk;default:throw new Error("Unsupported calendar type.")}}var Zr="react-calendar__navigation";function Yk(t){var e=t.activeStartDate,n=t.drillUp,i=t.formatMonthYear,s=i===void 0?TS:i,c=t.formatYear,h=c===void 0?hf:c,m=t.locale,g=t.maxDate,y=t.minDate,_=t.navigationAriaLabel,T=_===void 0?"":_,w=t.navigationAriaLive,O=t.navigationLabel,L=t.next2AriaLabel,z=L===void 0?"":L,k=t.next2Label,F=k===void 0?"»":k,Q=t.nextAriaLabel,G=Q===void 0?"":Q,$=t.nextLabel,ne=$===void 0?"›":$,ue=t.prev2AriaLabel,V=ue===void 0?"":ue,R=t.prev2Label,D=R===void 0?"«":R,N=t.prevAriaLabel,I=N===void 0?"":N,P=t.prevLabel,C=P===void 0?"‹":P,ye=t.setActiveStartDate,De=t.showDoubleView,Z=t.view,te=t.views,ce=te.indexOf(Z)>0,me=Z!=="century",A=Uk(Z,e),q=me?zk(Z,e):void 0,se=wS(Z,e),ee=me?Bk(Z,e):void 0,he=(function(){if(A.getFullYear()<0)return!0;var ct=Fk(Z,e);return y&&y>=ct})(),Ee=me&&(function(){if(q.getFullYear()<0)return!0;var ct=qk(Z,e);return y&&y>=ct})(),ve=g&&g<se,Ze=me&&g&&g<ee;function xe(){ye(A,"prev")}function Nt(){ye(q,"prev2")}function Kn(){ye(se,"next")}function kn(){ye(ee,"next2")}function Qn(ct){var yr=(function(){switch(Z){case"century":return Gk(m,h,ct);case"decade":return xS(m,h,ct);case"year":return h(m,ct);case"month":return s(m,ct);default:throw new Error("Invalid view: ".concat(Z,"."))}})();return O?O({date:ct,label:yr,locale:m||hS()||void 0,view:Z}):yr}function gr(){var ct="".concat(Zr,"__label");return f.jsxs("button",{"aria-label":T,"aria-live":w,className:ct,disabled:!ce,onClick:n,style:{flexGrow:1},type:"button",children:[f.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--from"),children:Qn(e)}),De?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"".concat(ct,"__divider"),children:" – "}),f.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--to"),children:Qn(se)})]}):null]})}return f.jsxs("div",{className:Zr,children:[D!==null&&me?f.jsx("button",{"aria-label":V,className:"".concat(Zr,"__arrow ").concat(Zr,"__prev2-button"),disabled:Ee,onClick:Nt,type:"button",children:D}):null,C!==null&&f.jsx("button",{"aria-label":I,className:"".concat(Zr,"__arrow ").concat(Zr,"__prev-button"),disabled:he,onClick:xe,type:"button",children:C}),gr(),ne!==null&&f.jsx("button",{"aria-label":G,className:"".concat(Zr,"__arrow ").concat(Zr,"__next-button"),disabled:ve,onClick:Kn,type:"button",children:ne}),F!==null&&me?f.jsx("button",{"aria-label":z,className:"".concat(Zr,"__arrow ").concat(Zr,"__next2-button"),disabled:Ze,onClick:kn,type:"button",children:F}):null]})}var Go=function(){return Go=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Go.apply(this,arguments)},Kk=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function EE(t){return"".concat(t,"%")}function Qy(t){var e=t.children,n=t.className,i=t.count,s=t.direction,c=t.offset,h=t.style,m=t.wrap,g=Kk(t,["children","className","count","direction","offset","style","wrap"]);return f.jsx("div",Go({className:n,style:Go({display:"flex",flexDirection:s,flexWrap:m?"wrap":"nowrap"},h)},g,{children:M.Children.map(e,function(y,_){var T=c&&_===0?EE(100*c/i):null;return M.cloneElement(y,Go(Go({},y.props),{style:{flexBasis:EE(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function Qk(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Fc(t,e){return e[0]<=t&&e[1]>=t}function Wk(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function NS(t,e){return Fc(t[0],e)||Fc(t[1],e)}function TE(t,e,n){var i=NS(e,t),s=[];if(i){s.push(n);var c=Fc(t[0],e),h=Fc(t[1],e);c&&s.push("".concat(n,"Start")),h&&s.push("".concat(n,"End")),c&&h&&s.push("".concat(n,"BothEnds"))}return s}function Xk(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Zk(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,i=t.hover,s="react-calendar__tile",c=[s];if(!n)return c;var h=new Date,m=(function(){if(Array.isArray(n))return n;var O=t.dateType;if(!O)throw new Error("dateType is required when date is not an array of two dates");return bE(O,n)})();if(Fc(h,m)&&c.push("".concat(s,"--now")),!e||!Xk(e))return c;var g=(function(){if(Array.isArray(e))return e;var O=t.valueType;if(!O)throw new Error("valueType is required when value is not an array of two dates");return bE(O,e)})();Wk(g,m)?c.push("".concat(s,"--active")):NS(g,m)&&c.push("".concat(s,"--hasActive"));var y=TE(g,m,"".concat(s,"--range"));c.push.apply(c,y);var _=Array.isArray(e)?e:[e];if(i&&_.length===1){var T=i>g[0]?[g[0],i]:[i,g[0]],w=TE(T,m,"".concat(s,"--hover"));c.push.apply(c,w)}return c}function df(t){for(var e=t.className,n=t.count,i=n===void 0?3:n,s=t.dateTransform,c=t.dateType,h=t.end,m=t.hover,g=t.offset,y=t.renderTile,_=t.start,T=t.step,w=T===void 0?1:T,O=t.value,L=t.valueType,z=[],k=_;k<=h;k+=w){var F=s(k);z.push(y({classes:Zk({date:F,dateType:c,hover:m,value:O,valueType:L}),date:F}))}return f.jsx(Qy,{className:e,count:i,offset:g,wrap:!0,children:z})}function ff(t){var e=t.activeStartDate,n=t.children,i=t.classes,s=t.date,c=t.formatAbbr,h=t.locale,m=t.maxDate,g=t.maxDateTransform,y=t.minDate,_=t.minDateTransform,T=t.onClick,w=t.onMouseOver,O=t.style,L=t.tileClassName,z=t.tileContent,k=t.tileDisabled,F=t.view,Q=M.useMemo(function(){var $={activeStartDate:e,date:s,view:F};return typeof L=="function"?L($):L},[e,s,L,F]),G=M.useMemo(function(){var $={activeStartDate:e,date:s,view:F};return typeof z=="function"?z($):z},[e,s,z,F]);return f.jsxs("button",{className:of(i,Q),disabled:y&&_(y)>s||m&&g(m)<s||k?.({activeStartDate:e,date:s,view:F}),onClick:T?function($){return T(s,$)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:O,type:"button",children:[c?f.jsx("abbr",{"aria-label":c(h,s),children:n}):n,G]})}var vg=function(){return vg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},vg.apply(this,arguments)},Jk=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},wE="react-calendar__century-view__decades__decade";function eV(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentCentury,s=t.formatYear,c=s===void 0?hf:s,h=Jk(t,["classes","currentCentury","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(wE),gl(m).getFullYear()!==i&&y.push("".concat(wE,"--neighboringCentury")),f.jsx(ff,vg({},h,{classes:y,maxDateTransform:cf,minDateTransform:Ya,view:"century",children:xS(g,c,m)}))}var _g=function(){return _g=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},_g.apply(this,arguments)},SE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function tV(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringCentury,s=t.value,c=t.valueType,h=SE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=Mk(e),g=m+(i?119:99);return f.jsx(df,{className:"react-calendar__century-view__decades",dateTransform:Ya,dateType:"decade",end:g,hover:n,renderTile:function(y){var _=y.date,T=SE(y,["date"]);return f.jsx(eV,_g({},h,T,{activeStartDate:e,currentCentury:m,date:_}),_.getTime())},start:m,step:10,value:s,valueType:c})}var bg=function(){return bg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},bg.apply(this,arguments)};function nV(t){function e(){return f.jsx(tV,bg({},t))}return f.jsx("div",{className:"react-calendar__century-view",children:e()})}var Eg=function(){return Eg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Eg.apply(this,arguments)},rV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},AE="react-calendar__decade-view__years__year";function iV(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentDecade,s=t.formatYear,c=s===void 0?hf:s,h=rV(t,["classes","currentDecade","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(AE),Ya(m).getFullYear()!==i&&y.push("".concat(AE,"--neighboringDecade")),f.jsx(ff,Eg({},h,{classes:y,maxDateTransform:uf,minDateTransform:yl,view:"decade",children:c(g,m)}))}var Tg=function(){return Tg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Tg.apply(this,arguments)},xE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function aV(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringDecade,s=t.value,c=t.valueType,h=xE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=Pk(e),g=m+(i?11:9);return f.jsx(df,{className:"react-calendar__decade-view__years",dateTransform:yl,dateType:"year",end:g,hover:n,renderTile:function(y){var _=y.date,T=xE(y,["date"]);return f.jsx(iV,Tg({},h,T,{activeStartDate:e,currentDecade:m,date:_}),_.getTime())},start:m,value:s,valueType:c})}var wg=function(){return wg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},wg.apply(this,arguments)};function sV(t){function e(){return f.jsx(aV,wg({},t))}return f.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Sg=function(){return Sg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Sg.apply(this,arguments)},oV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},RE=function(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,c;i<s;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return t.concat(c||Array.prototype.slice.call(e))},lV="react-calendar__year-view__months__month";function cV(t){var e=t.classes,n=e===void 0?[]:e,i=t.formatMonth,s=i===void 0?Dk:i,c=t.formatMonthYear,h=c===void 0?TS:c,m=oV(t,["classes","formatMonth","formatMonthYear"]),g=m.date,y=m.locale;return f.jsx(ff,Sg({},m,{classes:RE(RE([],n,!0),[lV],!1),formatAbbr:h,maxDateTransform:su,minDateTransform:$s,view:"year",children:s(y,g)}))}var Ag=function(){return Ag=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ag.apply(this,arguments)},NE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function uV(t){var e=t.activeStartDate,n=t.hover,i=t.value,s=t.valueType,c=NE(t,["activeStartDate","hover","value","valueType"]),h=0,m=11,g=bt(e);return f.jsx(df,{className:"react-calendar__year-view__months",dateTransform:function(y){var _=new Date;return _.setFullYear(g,y,1),$s(_)},dateType:"month",end:m,hover:n,renderTile:function(y){var _=y.date,T=NE(y,["date"]);return f.jsx(cV,Ag({},c,T,{activeStartDate:e,date:_}),_.getTime())},start:h,value:i,valueType:s})}var xg=function(){return xg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xg.apply(this,arguments)};function hV(t){function e(){return f.jsx(uV,xg({},t))}return f.jsx("div",{className:"react-calendar__year-view",children:e()})}var Rg=function(){return Rg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Rg.apply(this,arguments)},dV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},Mp="react-calendar__month-view__days__day";function fV(t){var e=t.calendarType,n=t.classes,i=n===void 0?[]:n,s=t.currentMonthIndex,c=t.formatDay,h=c===void 0?Ck:c,m=t.formatLongDate,g=m===void 0?Ik:m,y=dV(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=y.date,T=y.locale,w=[];return i&&w.push.apply(w,i),w.push(Mp),RS(_,e)&&w.push("".concat(Mp,"--weekend")),_.getMonth()!==s&&w.push("".concat(Mp,"--neighboringMonth")),f.jsx(ff,Rg({},y,{classes:w,formatAbbr:g,maxDateTransform:Yy,minDateTransform:ou,view:"month",children:h(T,_)}))}var Ng=function(){return Ng=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ng.apply(this,arguments)},CE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function mV(t){var e=t.activeStartDate,n=t.calendarType,i=t.hover,s=t.showFixedNumberOfWeeks,c=t.showNeighboringMonth,h=t.value,m=t.valueType,g=CE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=bt(e),_=$a(e),T=s||c,w=Bc(e,n),O=T?0:w,L=(T?-w:0)+1,z=(function(){if(s)return L+42-1;var k=ES(e);if(c){var F=new Date;F.setFullYear(y,_,k),F.setHours(0,0,0,0);var Q=7-Bc(F,n)-1;return k+Q}return k})();return f.jsx(df,{className:"react-calendar__month-view__days",count:7,dateTransform:function(k){var F=new Date;return F.setFullYear(y,_,k),ou(F)},dateType:"day",hover:i,end:z,renderTile:function(k){var F=k.date,Q=CE(k,["date"]);return f.jsx(fV,Ng({},g,Q,{activeStartDate:e,calendarType:n,currentMonthIndex:_,date:F}),F.getTime())},offset:O,start:L,value:h,valueType:m})}var CS="react-calendar__month-view__weekdays",Pp="".concat(CS,"__weekday");function pV(t){for(var e=t.calendarType,n=t.formatShortWeekday,i=n===void 0?Ok:n,s=t.formatWeekday,c=s===void 0?jk:s,h=t.locale,m=t.onMouseLeave,g=new Date,y=$s(g),_=bt(y),T=$a(y),w=[],O=1;O<=7;O+=1){var L=new Date(_,T,O-Bc(y,e)),z=c(h,L);w.push(f.jsx("div",{className:of(Pp,$k(L)&&"".concat(Pp,"--current"),RS(L,e)&&"".concat(Pp,"--weekend")),children:f.jsx("abbr",{"aria-label":z,title:z,children:i(h,L).replace(".","")})},O))}return f.jsx(Qy,{className:CS,count:7,onFocus:m,onMouseOver:m,children:w})}var wd=function(){return wd=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},wd.apply(this,arguments)},IE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},DE="react-calendar__tile";function gV(t){var e=t.onClickWeekNumber,n=t.weekNumber,i=f.jsx("span",{children:n});if(e){var s=t.date,c=t.onClickWeekNumber,h=t.weekNumber,m=IE(t,["date","onClickWeekNumber","weekNumber"]);return f.jsx("button",wd({},m,{className:DE,onClick:function(g){return c(h,s,g)},type:"button",children:i}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var m=IE(t,["date","onClickWeekNumber","weekNumber"]);return f.jsx("div",wd({},m,{className:DE,children:i}))}}function yV(t){var e=t.activeStartDate,n=t.calendarType,i=t.onClickWeekNumber,s=t.onMouseLeave,c=t.showFixedNumberOfWeeks,h=(function(){if(c)return 6;var y=ES(e),_=Bc(e,n),T=y-(7-_);return 1+Math.ceil(T/7)})(),m=(function(){for(var y=bt(e),_=$a(e),T=lf(e),w=[],O=0;O<h;O+=1)w.push(yg(new Date(y,_,T+O*7),n));return w})(),g=m.map(function(y){return Lk(y,n)});return f.jsx(Qy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,_){var T=m[_];if(!T)throw new Error("date is not defined");return f.jsx(gV,{date:T,onClickWeekNumber:i,weekNumber:y},y)})})}var Cg=function(){return Cg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Cg.apply(this,arguments)},vV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function _V(t){if(t)for(var e=0,n=Object.entries(_k);e<n.length;e++){var i=n[e],s=i[0],c=i[1];if(c.includes(t))return s}return hn.ISO_8601}function bV(t){var e=t.activeStartDate,n=t.locale,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,c=t.calendarType,h=c===void 0?_V(n):c,m=t.formatShortWeekday,g=t.formatWeekday,y=t.onClickWeekNumber,_=t.showWeekNumbers,T=vV(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return f.jsx(pV,{calendarType:h,formatShortWeekday:m,formatWeekday:g,locale:n,onMouseLeave:i})}function O(){return _?f.jsx(yV,{activeStartDate:e,calendarType:h,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function L(){return f.jsx(mV,Cg({calendarType:h},T))}var z="react-calendar__month-view";return f.jsx("div",{className:of(z,_?"".concat(z,"--weekNumbers"):""),children:f.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[O(),f.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),L()]})]})})}var $o=function(){return $o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$o.apply(this,arguments)},kh="react-calendar",Kh=["century","decade","year","month"],EV=["decade","year","month","day"],Wy=new Date;Wy.setFullYear(1,0,1);Wy.setHours(0,0,0,0);var TV=new Date(864e13);function Sc(t){return t instanceof Date?t:new Date(t)}function IS(t,e){return Kh.slice(Kh.indexOf(t),Kh.indexOf(e)+1)}function wV(t,e,n){var i=IS(e,n);return i.indexOf(t)!==-1}function Xy(t,e,n){return t&&wV(t,e,n)?t:n}function DS(t){var e=Kh.indexOf(t);return EV[e]}function SV(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var i=Sc(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(t));return i}function OS(t,e){var n=t.value,i=t.minDate,s=t.maxDate,c=t.maxDetail,h=SV(n,e);if(!h)return null;var m=DS(c),g=(function(){switch(e){case 0:return ks(m,h);case 1:return SS(m,h);default:throw new Error("Invalid index value: ".concat(e))}})();return Qk(g,i,s)}var Zy=function(t){return OS(t,0)},jS=function(t){return OS(t,1)},AV=function(t){return[Zy,jS].map(function(e){return e(t)})};function kS(t){var e=t.maxDate,n=t.maxDetail,i=t.minDate,s=t.minDetail,c=t.value,h=t.view,m=Xy(h,s,n),g=Zy({value:c,minDate:i,maxDate:e,maxDetail:n})||new Date;return ks(m,g)}function xV(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,i=t.defaultValue,s=t.defaultView,c=t.maxDate,h=t.maxDetail,m=t.minDate,g=t.minDetail,y=t.value,_=t.view,T=Xy(_,g,h),w=e||n;return w?ks(T,w):kS({maxDate:c,maxDetail:h,minDate:m,minDetail:g,value:y||i,view:_||s})}function Lp(t){return t&&(!Array.isArray(t)||t.length===1)}function Vh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var VS=M.forwardRef(function(e,n){var i=e.activeStartDate,s=e.allowPartialRange,c=e.calendarType,h=e.className,m=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,_=e.formatDay,T=e.formatLongDate,w=e.formatMonth,O=e.formatMonthYear,L=e.formatShortWeekday,z=e.formatWeekday,k=e.formatYear,F=e.goToRangeStartOnSelect,Q=F===void 0?!0:F,G=e.inputRef,$=e.locale,ne=e.maxDate,ue=ne===void 0?TV:ne,V=e.maxDetail,R=V===void 0?"month":V,D=e.minDate,N=D===void 0?Wy:D,I=e.minDetail,P=I===void 0?"century":I,C=e.navigationAriaLabel,ye=e.navigationAriaLive,De=e.navigationLabel,Z=e.next2AriaLabel,te=e.next2Label,ce=e.nextAriaLabel,me=e.nextLabel,A=e.onActiveStartDateChange,q=e.onChange,se=e.onClickDay,ee=e.onClickDecade,he=e.onClickMonth,Ee=e.onClickWeekNumber,ve=e.onClickYear,Ze=e.onDrillDown,xe=e.onDrillUp,Nt=e.onViewChange,Kn=e.prev2AriaLabel,kn=e.prev2Label,Qn=e.prevAriaLabel,gr=e.prevLabel,ct=e.returnValue,yr=ct===void 0?"start":ct,Zt=e.selectRange,Jt=e.showDoubleView,Ks=e.showFixedNumberOfWeeks,Xi=e.showNavigation,Zi=Xi===void 0?!0:Xi,ui=e.showNeighboringCentury,vl=e.showNeighboringDecade,hi=e.showNeighboringMonth,Ka=hi===void 0?!0:hi,Qs=e.showWeekNumbers,gt=e.tileClassName,We=e.tileContent,bn=e.tileDisabled,Ot=e.value,Qa=e.view,Ws=M.useState(m),di=Ws[0],Wn=Ws[1],Vr=M.useState(null),Vn=Vr[0],fi=Vr[1],Mr=M.useState(Array.isArray(g)?g.map(function(Re){return Re!==null?Sc(Re):null}):g!=null?Sc(g):null),mi=Mr[0],Wa=Mr[1],Ji=M.useState(y),vr=Ji[0],Xn=Ji[1],jt=i||di||xV({activeStartDate:i,defaultActiveStartDate:m,defaultValue:g,defaultView:y,maxDate:ue,maxDetail:R,minDate:N,minDetail:P,value:Ot,view:Qa}),mt=(function(){var Re=(function(){return Zt&&Lp(mi)?mi:Ot!==void 0?Ot:mi})();return Re?Array.isArray(Re)?Re.map(function(Ve){return Ve!==null?Sc(Ve):null}):Re!==null?Sc(Re):null:null})(),Pr=DS(R),Ke=Xy(Qa||vr,P,R),en=IS(P,R),Lr=Zt?Vn:null,ea=en.indexOf(Ke)<en.length-1,ut=en.indexOf(Ke)>0,St=M.useCallback(function(Re){var Ve=(function(){switch(yr){case"start":return Zy;case"end":return jS;case"range":return AV;default:throw new Error("Invalid returnValue.")}})();return Ve({maxDate:ue,maxDetail:R,minDate:N,value:Re})},[ue,R,N,yr]),yt=M.useCallback(function(Re,Ve){Wn(Re);var Oe={action:Ve,activeStartDate:Re,value:mt,view:Ke};A&&!Vh(jt,Re)&&A(Oe)},[jt,A,mt,Ke]),tn=M.useCallback(function(Re,Ve){var Oe=(function(){switch(Ke){case"century":return ee;case"decade":return ve;case"year":return he;case"month":return se;default:throw new Error("Invalid view: ".concat(Ke,"."))}})();Oe&&Oe(Re,Ve)},[se,ee,he,ve,Ke]),pi=M.useCallback(function(Re,Ve){if(ea){tn(Re,Ve);var Oe=en[en.indexOf(Ke)+1];if(!Oe)throw new Error("Attempted to drill down from the lowest view.");Wn(Re),Xn(Oe);var nn={action:"drillDown",activeStartDate:Re,value:mt,view:Oe};A&&!Vh(jt,Re)&&A(nn),Nt&&Ke!==Oe&&Nt(nn),Ze&&Ze(nn)}},[jt,ea,A,tn,Ze,Nt,mt,Ke,en]),Xa=M.useCallback(function(){if(ut){var Re=en[en.indexOf(Ke)-1];if(!Re)throw new Error("Attempted to drill up from the highest view.");var Ve=ks(Re,jt);Wn(Ve),Xn(Re);var Oe={action:"drillUp",activeStartDate:Ve,value:mt,view:Re};A&&!Vh(jt,Ve)&&A(Oe),Nt&&Ke!==Re&&Nt(Oe),xe&&xe(Oe)}},[jt,ut,A,xe,Nt,mt,Ke,en]),Zn=M.useCallback(function(Re,Ve){var Oe=mt;tn(Re,Ve);var nn=Zt&&!Lp(Oe),Gt;if(Zt)if(nn)Gt=ks(Pr,Re);else{if(!Oe)throw new Error("previousValue is required");if(Array.isArray(Oe))throw new Error("previousValue must not be an array");Gt=Hk(Pr,Oe,Re)}else Gt=St(Re);var En=!Zt||nn||Q?kS({maxDate:ue,maxDetail:R,minDate:N,minDetail:P,value:Gt,view:Ke}):null;Ve.persist(),Wn(En),Wa(Gt);var Tr={action:"onChange",activeStartDate:En,value:Gt,view:Ke};if(A&&!Vh(jt,En)&&A(Tr),q)if(Zt){var Zs=Lp(Gt);if(!Zs)q(Gt||null,Ve);else if(s){if(Array.isArray(Gt))throw new Error("value must not be an array");q([Gt||null,null],Ve)}}else q(Gt||null,Ve)},[jt,s,St,Q,ue,R,N,P,A,q,tn,Zt,mt,Pr,Ke]);function Xs(Re){fi(Re)}function _r(){fi(null)}M.useImperativeHandle(n,function(){return{activeStartDate:jt,drillDown:pi,drillUp:Xa,onChange:Zn,setActiveStartDate:yt,value:mt,view:Ke}},[jt,pi,Xa,Zn,yt,mt,Ke]);function br(Re){var Ve=Re?wS(Ke,jt):ks(Ke,jt),Oe=ea?pi:Zn,nn={activeStartDate:Ve,hover:Lr,locale:$,maxDate:ue,minDate:N,onClick:Oe,onMouseOver:Zt?Xs:void 0,tileClassName:gt,tileContent:We,tileDisabled:bn,value:mt,valueType:Pr};switch(Ke){case"century":return f.jsx(nV,$o({formatYear:k,showNeighboringCentury:ui},nn));case"decade":return f.jsx(sV,$o({formatYear:k,showNeighboringDecade:vl},nn));case"year":return f.jsx(hV,$o({formatMonth:w,formatMonthYear:O},nn));case"month":return f.jsx(bV,$o({calendarType:c,formatDay:_,formatLongDate:T,formatShortWeekday:L,formatWeekday:z,onClickWeekNumber:Ee,onMouseLeave:Zt?_r:void 0,showFixedNumberOfWeeks:typeof Ks<"u"?Ks:Jt,showNeighboringMonth:Ka,showWeekNumbers:Qs},nn));default:throw new Error("Invalid view: ".concat(Ke,"."))}}function Er(){return Zi?f.jsx(Yk,{activeStartDate:jt,drillUp:Xa,formatMonthYear:O,formatYear:k,locale:$,maxDate:ue,minDate:N,navigationAriaLabel:C,navigationAriaLive:ye,navigationLabel:De,next2AriaLabel:Z,next2Label:te,nextAriaLabel:ce,nextLabel:me,prev2AriaLabel:Kn,prev2Label:kn,prevAriaLabel:Qn,prevLabel:gr,setActiveStartDate:yt,showDoubleView:Jt,view:Ke,views:en}):null}var Jn=Array.isArray(mt)?mt:[mt];return f.jsxs("div",{className:of(kh,Zt&&Jn.length===1&&"".concat(kh,"--selectRange"),Jt&&"".concat(kh,"--doubleView"),h),ref:G,children:[Er(),f.jsxs("div",{className:"".concat(kh,"__viewContainer"),onBlur:Zt?_r:void 0,onMouseLeave:Zt?_r:void 0,children:[br(),Jt?br(!0):null]})]})});const MS=()=>{const t=Yn(),e=async()=>{try{await J2(Ye),t("/login")}catch(i){console.error("Error signing out:",i)}},n=()=>{const i=window.location.pathname;return i.includes("planner")?"/edit-planner-profile":i.includes("vendor")?"/edit-vendor-profile":"/edit-planner-profile"};return f.jsxs("nav",{children:[f.jsx("div",{className:"logo",children:f.jsx("span",{className:"gradient",children:"Event-ually Perfect"})}),f.jsxs("div",{className:"nav-links",children:[f.jsx("button",{onClick:()=>t(n()),className:"nav-button",children:"Edit Profile"}),f.jsx("button",{onClick:e,className:"nav-button",children:"Logout"})]})]})};function RV(){const t=Yn(),[e,n]=M.useState("Planner"),[i,s]=M.useState([]),[c,h]=M.useState([]),[m,g]=M.useState(!1),[y,_]=M.useState(""),[T,w]=M.useState(null),[O,L]=M.useState(new Date);M.useEffect(()=>{let $=()=>{},ne=()=>{};const ue=Od(Ye,async V=>{if($(),ne(),V){w(V.uid);try{const R=await Hn(it(Ue,"planners",V.uid));if(R.exists()){const I=R.data().full_name;n(I||(V.email?V.email.split("@")[0]:"Planner"))}else n(V.email?V.email.split("@")[0]:"Planner");const D=Ds(Ue,`planners/${V.uid}/tasks`);$=pg(D,I=>{const P=I.docs.map(C=>({id:C.id,...C.data()}));P.sort((C,ye)=>new Date(ye.createdAt)-new Date(C.createdAt)),s(P)});const N=Ds(Ue,`planners/${V.uid}/events`);ne=pg(N,I=>{const P=I.docs.map(C=>({id:C.id,...C.data()}));P.sort((C,ye)=>new Date(`${C.date}T${C.time||"00:00"}`)-new Date(`${ye.date}T${ye.time||"00:00"}`)),h(P)})}catch(R){console.error("Error fetching data:",R),n(V.email?V.email.split("@")[0]:"Planner")}}else w(null),n("Planner"),s([]),h([])});return()=>{ue(),$(),ne()}},[]);const z=async $=>{if($.preventDefault(),!(!y.trim()||!T))try{const ne={text:y.trim(),completed:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=it(Ds(Ue,`planners/${T}/tasks`));await tf(ue,ne),_("")}catch(ne){console.error("Error adding task:",ne)}},k=async($,ne)=>{if(T)try{const ue=it(Ue,`planners/${T}/tasks`,$);await fr(ue,{completed:!ne,updatedAt:new Date().toISOString()})}catch(ue){console.error("Error updating task:",ue)}},F=async $=>{if(T)try{await lE(it(Ue,`planners/${T}/tasks`,$))}catch(ne){console.error("Error deleting task:",ne)}},Q=async $=>{if(!(!T||!$)&&window.confirm("Are you sure you want to delete this event? This action cannot be undone."))try{await lE(it(Ue,`planners/${T}/events`,$))}catch(ne){console.error("Error deleting event:",ne),alert("Failed to delete event. Please try again.")}},G=()=>{t("/add-event")};return f.jsxs("div",{className:"planner-dashboard",style:{minHeight:"100vh",background:"radial-gradient(circle at 100% 0%, #FFE4C4, #FFB6C1)",paddingTop:"80px"},children:[f.jsx(MS,{}),f.jsx("div",{style:{backgroundColor:"white",minHeight:"80vh",maxWidth:"1200px",margin:"2rem auto",borderRadius:"30px",padding:"2rem",boxShadow:"0 5px 20px rgba(0,0,0,0.1)"},children:f.jsx("div",{className:"planner-dashboard-content",children:f.jsxs("div",{className:"dashboard-main",children:[f.jsxs("div",{className:"dashboard-header",children:[f.jsx("h1",{children:f.jsxs("strong",{children:["Hi, ",e,"!"]})}),f.jsxs("button",{className:"nav-button",onClick:G,style:{marginLeft:"1rem",backgroundColor:"var(--peach)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"50px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Oc,{})," Add Event"]})]}),f.jsxs("div",{className:"dashboard-grid",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[f.jsx("h2",{style:{margin:0,fontSize:"1.3rem",fontWeight:600,color:"#333"},children:"Upcoming Events"}),c.length>3&&f.jsx("button",{onClick:()=>g(!m),style:{background:"var(--blush)",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem",transition:"background-color 0.2s"},children:m?"Show Less":"View All"})]}),f.jsx("div",{className:"event-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",width:"100%",marginBottom:"1.5rem"},children:c.length>0?c.slice(0,m?c.length:3).map($=>{let ne;$.date?.toDate?ne=$.date.toDate():$.date?.seconds?ne=new Date($.date.seconds*1e3):$.date?ne=new Date($.date):ne=new Date;let ue="Date not set";try{isNaN(ne.getTime())||(ue=ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}catch(R){console.error("Error formatting date:",R)}const V=$.time||"All day";return f.jsxs("div",{className:"event-card",style:{position:"relative",display:"flex",flexDirection:"column",padding:"1rem",background:"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[f.jsxs("div",{style:{flex:"1",overflow:"hidden",display:"flex",flexDirection:"column"},children:[f.jsx("button",{className:"delete-event-btn",onClick:R=>{R.stopPropagation(),Q($.id)},style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"#ff4d4f",cursor:"pointer",fontSize:"16px",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s",zIndex:2},title:"Delete event",children:"×"}),f.jsx("h3",{style:{paddingRight:"20px",margin:"0 0 10px 0",fontSize:"1.1rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",minHeight:"2.4em",lineHeight:"1.2em"},children:$.name||"New Event"}),f.jsxs("div",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",color:"#555"},children:[f.jsxs("div",{style:{display:"block",marginBottom:"6px"},children:["🗓️ ",ue]}),f.jsxs("div",{style:{display:"block",marginBottom:"6px"},children:["⏰ ",V]}),$.vendors?.length>0&&f.jsxs("div",{style:{display:"block",marginBottom:"6px"},children:["👥 Vendors: ",$.vendors.length," selected"]})]})]}),f.jsx("div",{style:{marginTop:"auto",paddingTop:"10px"},children:f.jsxs("button",{onClick:()=>t(`/event-details/${$.id}`),style:{width:"100%",padding:"6px 10px",backgroundColor:"var(--blush)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"6px",transition:"background-color 0.2s"},children:[f.jsx(Lj,{})," View Details"]})})]},$.id)}):f.jsxs("div",{style:{gridColumn:"1 / -1",width:"100%",background:"#fff",borderRadius:"12px",padding:"40px 20px",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",color:"#666"},children:[f.jsx("p",{style:{margin:"0 0 16px",fontSize:"1rem"},children:"You have no upcoming events."}),f.jsxs("button",{onClick:G,style:{background:"var(--blush)",color:"white",border:"none",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",fontSize:"1rem",fontWeight:"500"},children:[f.jsx(Oc,{})," Add New Event"]})]})}),f.jsxs("div",{className:"section-card",style:{background:"#fff",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:"24px",border:"2px solid #FFC0CB"},children:[f.jsx("div",{style:{marginBottom:"16px",borderBottom:"1px solid rgba(229, 172, 191, 0.3)",paddingBottom:"12px"},children:f.jsx("h2",{style:{margin:0,fontSize:"1.3rem",fontWeight:"600",color:"var(--text-dark)"},children:"My Tasks"})}),f.jsx("form",{onSubmit:z,style:{marginBottom:"16px"},children:f.jsxs("div",{style:{display:"flex",border:"1px solid #e1e4e8",borderRadius:"6px",overflow:"hidden"},children:[f.jsx("input",{id:"taskInput",type:"text",value:y,onChange:$=>_($.target.value),placeholder:"Add a new task...",style:{flex:1,padding:"10px 12px",border:"1px solid rgba(229, 172, 191, 0.5)",borderRadius:"6px 0 0 6px",outline:"none",fontSize:"0.95rem",transition:"border-color 0.2s",":focus":{borderColor:"var(--blush)"}}}),f.jsxs("button",{type:"submit",disabled:!y.trim(),style:{background:"var(--blush)",color:"white",border:"none",padding:"0 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",opacity:y.trim()?1:.5,transition:"all 0.2s",pointerEvents:y.trim()?"auto":"none",":hover":{background:"var(--coral)"}},children:[f.jsx(Oc,{})," Add"]})]})}),i.length===0?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666",fontSize:"0.95rem"},children:"No tasks yet. Add one above!"}):f.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,maxHeight:"400px",overflowY:"auto"},children:i.map($=>f.jsxs("li",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:"1px solid #f0f0f0",transition:"background 0.2s",":hover":{background:"#f9f9f9"},...$.completed?{opacity:.7,textDecoration:"line-through",color:"#666"}:{}},children:[f.jsx("button",{onClick:()=>k($.id,$.completed),style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid var(--blush)",background:$.completed?"var(--blush)":"transparent",marginRight:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.2s",":hover":{borderColor:"var(--coral)",background:$.completed?"var(--coral)":"transparent"}},children:$.completed&&f.jsx(nS,{size:12,color:"white"})}),f.jsx("span",{style:{flex:1,fontSize:"0.95rem",wordBreak:"break-word",paddingRight:"12px"},children:$.text}),f.jsx("button",{onClick:()=>F($.id),style:{background:"transparent",border:"none",color:"var(--coral)",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",":hover":{background:"rgba(246, 162, 140, 0.1)",transform:"scale(1.1)"}},children:f.jsx(By,{size:14})})]},$.id))})]}),f.jsx("div",{className:"chat-section",children:f.jsx("h2",{children:"Chat with Vendors"})})]}),f.jsx("div",{children:f.jsx("div",{className:"calendar-card card",children:f.jsx(VS,{onChange:L,value:O,className:"dashboard-calendar fixed-size-calendar",next2Label:null,prev2Label:null})})})]})]})})})]})}function NV(){const[t,e]=M.useState(""),[n,i]=M.useState([]),[s,c]=M.useState([]),[h,m]=M.useState({}),[g,y]=M.useState(new Date),[_,T]=M.useState(!0),[w,O]=M.useState(!1),L=zi.useCallback(async G=>{if(!G)return"Unknown Planner";if(h[G])return h[G];try{const $=await Hn(it(Ue,"planners",G));if($.exists()){const ne=$.data().full_name||"Planner";return m(ue=>({...ue,[G]:ne})),ne}return"Planner"}catch($){return console.error("Error fetching planner name:",$),"Planner"}},[h]);M.useEffect(()=>{const G=Od(Ye,async $=>{if($)try{const ne=it(Ue,"vendors",$.uid),ue=pg(ne,async V=>{const R=V.data();if(R){e(R.name_of_vendor||"Vendor");const D=[],N=[];R.requests&&await Promise.all(R.requests.map(async C=>{if(C.status==="pending")D.push(C);else if(C.status==="accepted")try{const ye=await Hn(V(Ue,"events",C.eventId));if(ye.exists()){const De=ye.data();N.push({...C,venue:De.venue,eventName:De.eventName||"New Event",eventDate:De.date,eventTime:De.time})}else N.push(C)}catch(ye){console.error("Error fetching event details:",ye),N.push(C)}})),i(D),c(N);const I=[...new Set([...D,...N].map(C=>C.plannerId).filter(Boolean))],P={};await Promise.all(I.map(async C=>{const ye=await L(C);P[C]=ye})),m(C=>({...C,...P}))}T(!1)});return()=>{ue()}}catch(ne){console.error("Error setting up vendor listener:",ne),T(!1)}else e("Vendor"),i([]),T(!1)});return()=>G()},[L]);const z=G=>{if(!G)return"Date not specified";const $={year:"numeric",month:"short",day:"numeric"};return new Date(G).toLocaleDateString(void 0,$)},k=G=>G||"Time not specified",F=async(G,$)=>{const ne=Ye.currentUser;if(ne){T(!0);try{const ue=it(Ue,"vendors",ne.uid);if(!(await Hn(ue)).exists()){console.error("Vendor document does not exist");return}const R=XO(Ue);console.log("Removing request:",G),R.update(ue,{requests:Kw(G)});const D={...G,status:$,respondedAt:new Date().toISOString()};if(console.log("Adding updated request:",D),R.update(ue,{requests:Yw(D)}),$==="accepted"){console.log("Updating event status for event ID:",G.eventId);const N=it(Ue,"events",G.eventId),I=await Hn(N);if(I.exists()){const C=I.data().vendors.map(ye=>ye.id===ne.uid?{...ye,status:"accepted",respondedAt:new Date().toISOString()}:ye);R.update(N,{vendors:C})}}console.log("Committing batch..."),await R.commit(),console.log("Batch committed successfully"),$==="accepted"?(i(N=>N.filter(I=>!(I.eventId===G.eventId&&I.plannerId===G.plannerId))),c(N=>N.some(P=>P.eventId===G.eventId&&P.plannerId===G.plannerId)?N:[...N,D])):i(N=>N.filter(I=>!(I.eventId===G.eventId&&I.plannerId===G.plannerId))),alert(`Request ${$} successfully!`)}catch(ue){console.error("Error in handleRequestResponse:",{error:ue,message:ue.message,stack:ue.stack,request:G,status:$}),alert(`Failed to update request status: ${ue.message}`)}finally{T(!1)}}},Q=async G=>{if(window.confirm("Are you sure you want to remove this event?"))try{const $=Ye.currentUser;if(!$)return;const ne=it(Ue,"vendors",$.uid),ue=await Hn(ne);if(ue.exists()){const D=(ue.data().requests||[]).filter(N=>!(N.eventId===G.eventId&&N.status==="accepted"));await fr(ne,{requests:D});try{const N=it(Ue,"events",G.eventId),I=await Hn(N);if(I.exists()){const C=I.data().vendors?.filter(ye=>ye.id!==$.uid)||[];await fr(N,{vendors:C})}}catch(N){console.error("Error updating event document:",N)}alert("Event removed successfully!")}}catch($){console.error("Error removing event:",$),alert("Failed to remove event. Please try again.")}};return f.jsxs("div",{className:"vendor-dashboard",style:{minHeight:"100vh",background:"radial-gradient(circle at 100% 0%, #FFE4C4, #FFB6C1)",paddingTop:"80px"},children:[f.jsx(MS,{}),f.jsx("div",{style:{backgroundColor:"white",minHeight:"80vh",maxWidth:"1200px",margin:"2rem auto",borderRadius:"30px",padding:"2rem",boxShadow:"0 5px 20px rgba(0,0,0,0.1)"},children:f.jsxs("div",{className:"vendor-dashboard-content",children:[f.jsx("div",{className:"dashboard-main",children:f.jsx("div",{className:"dashboard-header",children:f.jsxs("h1",{children:["Hi, ",t,"!"]})})}),f.jsxs("div",{className:"dashboard-grid",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"events-section",children:[f.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[f.jsx("h2",{style:{margin:0},children:"Your Events"}),f.jsx("button",{onClick:()=>O(!w),style:{background:"var(--blush)",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--coral)"}},children:w?"Show Less":"View All"})]}),f.jsx("div",{className:"event-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"0 1rem"},children:s.length>0?s.slice(0,w?s.length:3).map((G,$)=>f.jsxs("div",{className:"event-card",style:{position:"relative",display:"flex",flexDirection:"column",minHeight:"200px",width:"100%",padding:"1.25rem",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--blush)"},children:[f.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",position:"relative",height:"100%",padding:"4px 4px 0 4px"},children:[f.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:f.jsx("button",{className:"delete-event-btn",onClick:ne=>{ne.stopPropagation(),Q(G)},style:{background:"transparent",border:"none",color:"#ff4d4f",cursor:"pointer",fontSize:"16px",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s"},onMouseOver:ne=>{ne.currentTarget.style.background="rgba(255, 77, 79, 0.1)",ne.currentTarget.style.transform="scale(1.1)"},onMouseOut:ne=>{ne.currentTarget.style.background="transparent",ne.currentTarget.style.transform="scale(1)"},title:"Remove event",children:"×"})}),f.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"0.95rem",fontWeight:"600",color:"#333",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",minHeight:"2.4em",lineHeight:"1.2",marginTop:"4px"},children:G.eventName||"New Event"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"0.85rem",color:"#555",flex:1,justifyContent:"center"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{children:"🗓️"})," ",z(G.eventDate)||"Date not specified"]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{children:"⏰"})," ",k(G.eventTime)||"All day"]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{children:"📍"})," ",G.venue||"TBC"]})]})]}),f.jsx("div",{style:{marginTop:"auto",paddingTop:"0.5rem"},children:f.jsx("button",{onClick:()=>window.location.href=`/vendor/event/${G.eventId}`,style:{width:"100%",padding:"8px 12px",backgroundColor:"var(--blush)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"6px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--coral)"}},children:"View Details"})})]},`event-${$}`)):f.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",margin:0,background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"No upcoming events. Accepted events will appear here."})})]}),f.jsxs("div",{className:"section-card pending-requests",children:[f.jsx("h2",{children:"Pending Requests"}),_?f.jsx("p",{children:"Loading requests..."}):n.length>0?f.jsx("ul",{className:"pending-list",children:n.map((G,$)=>f.jsxs("li",{children:[f.jsxs("div",{className:"event-details",children:[f.jsxs("div",{style:{fontWeight:"500"},children:[f.jsx("i",{className:"fa fa-clipboard-list"})," ",G.eventName||"New Event"]}),f.jsxs("div",{style:{marginTop:"4px"},children:[f.jsx("div",{children:f.jsxs("small",{children:[f.jsx("i",{className:"fa fa-calendar"})," ",G.eventDate||"Not specified"]})}),f.jsx("div",{children:f.jsxs("small",{children:[f.jsx("i",{className:"fa fa-clock"})," ",G.eventTime||"Not specified"]})})]})]}),f.jsxs("div",{className:"event-actions",children:[f.jsxs("button",{className:"details-btn",style:{padding:"4px 8px",fontSize:"0.8em",width:"100%",textAlign:"center"},onClick:ne=>{ne.preventDefault(),alert("Event details view coming soon!")},title:"Event details view coming soon",children:[f.jsx("i",{className:"fa fa-info-circle"})," Details"]}),f.jsxs("div",{className:"request-actions",style:{justifyContent:"flex-end"},children:[f.jsxs("button",{className:"reject-btn",onClick:()=>F(G,"rejected"),children:[f.jsx("i",{className:"fa fa-times"})," Reject"]}),f.jsxs("button",{className:"accept-btn",onClick:()=>F(G,"accepted"),children:[f.jsx("i",{className:"fa fa-check"})," Accept"]})]})]})]},`${G.eventId}-${$}`))}):f.jsx("p",{children:"No pending requests found."})]}),f.jsx("div",{className:"chat-section",children:f.jsx("h2",{children:"Chat with Planners"})})]}),f.jsx("div",{children:f.jsx("div",{className:"calendar-card card",children:f.jsx(VS,{onChange:y,value:g,className:"dashboard-calendar fixed-size-calendar",next2Label:null,prev2Label:null})})})]})]})})]})}function CV(){const t=Yn(),[e,n]=M.useState(!1),[i,s]=M.useState({name:"",date:"",time:""}),c=["Catering","Flowers","Venue","Photography","Music","Decor"],[h,m]=M.useState([]),[g,y]=M.useState([]),[_,T]=M.useState([]),[w,O]=M.useState(""),[L,z]=M.useState("All"),[k,F]=M.useState([]);M.useEffect(()=>{(async()=>{try{const I=Ds(Ue,"vendors"),P=qw(I,YO("name_of_business")),ye=(await vd(P)).docs.map(De=>({id:De.id,...De.data()}));m(ye),y(ye)}catch(I){console.error("Error fetching vendors:",I)}})()},[]),M.useEffect(()=>{let N=[...h];if(L!=="All"&&(N=N.filter(I=>Array.isArray(I.category)?I.category.includes(L):typeof I.category=="string"?I.category===L:!1)),w){const I=w.toLowerCase();N=N.filter(P=>{const C=P.name_of_business.toLowerCase().includes(I);let ye=!1;return Array.isArray(P.category)&&(ye=P.category.some(De=>De.toLowerCase().includes(I))),typeof P.category=="string"&&(ye=P.category.toLowerCase().includes(I)),C||ye})}y(N)},[w,L,h]);const Q=N=>{const{name:I,value:P}=N.target;s(C=>({...C,[I]:P}))},G=N=>{_.some(I=>I.id===N.id)||T([..._,N])},$=N=>{T(_.filter(I=>I.id!==N))},ne=N=>{const I=Array.from(N.target.files),P=10*1024*1024,C=I.filter(ye=>ye.size>P?(alert(`File is too large: ${ye.name}. Maximum size is 10 MB.`),!1):!0);F(ye=>[...ye,...C])},ue=N=>{F(k.filter(I=>I.name!==N.name))},V=N=>{if(N===0)return"0 Bytes";const I=1024,P=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(N)/Math.log(I));return parseFloat((N/Math.pow(I,C)).toFixed(2))+" "+P[C]},R=N=>{const I=N.split(".").pop().toLowerCase();return["pdf"].includes(I)?f.jsx(iS,{}):["doc","docx"].includes(I)?f.jsx(Bj,{}):["png","jpg","jpeg","gif"].includes(I)?f.jsx(Uj,{}):f.jsx(gE,{})},D=async N=>{if(N.preventDefault(),!i.name||!i.date||!i.time){alert("Please fill in the Event Name, Date, and Time.");return}const I=Ye.currentUser;if(!I){alert("You must be logged in to create an event.");return}if(new Date(`${i.date}T${i.time}`)<new Date){alert("Please select a date and time that is in the future.");return}n(!0);try{const C=[];if(k&&k.length>0)for(const te of k){const ce=new FormData;ce.append("file",te),ce.append("upload_preset","event_uploads"),ce.append("resource_type","auto");const me=await fetch("https://api.cloudinary.com/v1_1/db4slx3ga/upload",{method:"POST",body:ce});if(!me.ok)throw new Error("Cloudinary upload failed");const A=await me.json();C.push({name:te.name,url:A.secure_url})}const ye={name:i.name,date:i.date,time:i.time,planner_id:I.uid,vendors_id:_.map(te=>te.id),documents:C},De=await I.getIdToken(),Z=await fetch("http://localhost:5000/api/events",{method:"POST",headers:{Authorization:`Bearer ${De}`,"Content-Type":"application/json"},body:JSON.stringify(ye)});if(Z.ok)alert("Event created successfully via API!"),t("/planner-dashboard");else{const te=await Z.json();throw new Error(te.error||"Failed to create event via API.")}}catch(C){console.error("API Error creating event:",C),alert(`Error creating event: ${C.message}`)}finally{n(!1)}};return f.jsxs("main",{className:"profile-container",children:[f.jsx("div",{style:{textAlign:"left",marginBottom:"1rem"},children:f.jsxs("button",{onClick:()=>t(-1),style:{background:"none",border:"none",color:"var(--peach)",cursor:"pointer",padding:"0.5rem 1rem",fontSize:"1rem",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(za,{})," Back"]})}),f.jsxs("h1",{children:["Create a New ",f.jsx("span",{className:"accent-text",children:"Event"})]}),f.jsx("p",{children:"Fill in the details for your new event and assign vendors."}),f.jsxs("form",{className:"profile-form",onSubmit:D,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(Yj,{})}),f.jsx("input",{type:"text",name:"name",className:`form-input ${i.name?"has-value":""}`,value:i.name,onChange:Q,required:!0}),f.jsx("label",{className:"form-label",children:"Event Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(Uy,{})}),f.jsx("input",{type:"date",name:"date",className:`form-input ${i.date?"has-value":""}`,value:i.date,min:new Date().toISOString().split("T")[0],onChange:Q,required:!0}),f.jsx("label",{className:"form-label",children:"Event Date"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(zy,{})}),f.jsx("input",{type:"time",name:"time",className:`form-input ${i.time?"has-value":""}`,value:i.time,onChange:Q,required:!0}),f.jsx("label",{className:"form-label",children:"Event Time"})]}),f.jsxs("div",{className:"optional-section",children:[f.jsxs("h3",{children:[f.jsx($j,{})," Assign Vendors"]}),f.jsxs("div",{className:"vendor-search-container",children:[f.jsxs("div",{className:"search-box",children:[f.jsx("i",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#999"},children:f.jsx(Hj,{})}),f.jsx("input",{type:"text",className:"search-input",placeholder:"Search by name or category...",value:w,onChange:N=>O(N.target.value)})]}),f.jsxs("select",{className:"category-filter",value:L,onChange:N=>z(N.target.value),children:[f.jsx("option",{value:"All",children:"All Categories"}),c.map(N=>f.jsx("option",{value:N,children:N},N))]})]}),_.length>0&&f.jsxs("div",{className:"selected-vendors",children:[f.jsx("h4",{children:"Requested Vendors:"}),f.jsx("ul",{children:_.map(N=>f.jsxs("li",{children:[N.name_of_business,f.jsx("button",{type:"button",className:"remove-item-btn",onClick:()=>$(N.id),children:f.jsx(qi,{})})]},N.id))})]}),f.jsx("div",{className:"vendor-list",children:g.length>0?g.map(N=>f.jsxs("div",{className:"vendor-card",children:[f.jsxs("div",{className:"vendor-info",children:[f.jsx("h4",{children:N.name_of_business}),f.jsx("span",{className:"vendor-category",children:Array.isArray(N.category)?N.category.join(", "):N.category})]}),f.jsx("button",{type:"button",className:"btn-primary btn-request-vendor",onClick:()=>G(N),disabled:_.some(I=>I.id===N.id),children:_.some(I=>I.id===N.id)?"Requested":"Request Vendor"})]},N.id)):f.jsx("div",{className:"no-results",children:"No vendors found."})})]}),f.jsxs("div",{className:"optional-section",children:[f.jsxs("h3",{children:[f.jsx(gE,{})," Upload Documents"]}),f.jsxs("div",{className:"file-upload-area",children:[f.jsx("input",{type:"file",id:"file_upload",multiple:!0,onChange:ne,style:{display:"none"}}),f.jsxs("label",{htmlFor:"file_upload",className:"file-upload-label",children:[f.jsx(zj,{className:"upload-icon"}),f.jsx("span",{className:"upload-title",children:"Click to upload files"}),f.jsx("span",{className:"upload-subtitle",children:"PDF, DOCX, PNG, JPG up to 10MB"})]})]}),k.length>0&&f.jsxs("div",{className:"documents-list",children:[f.jsx("h4",{children:"Uploaded Files:"}),f.jsx("ul",{children:k.map((N,I)=>f.jsxs("li",{className:"document-item",children:[f.jsx("span",{className:"file-icon",children:R(N.name)}),f.jsx("span",{className:"file-name",children:N.name}),f.jsx("span",{className:"file-size",children:V(N.size)}),f.jsx("button",{type:"button",className:"remove-item-btn",onClick:()=>ue(N),children:f.jsx(qi,{})})]},I))})]})]}),f.jsx("button",{type:"submit",className:"submit-btn",disabled:e,children:e?"Saving Event...":"Save Event"})]})]})}const IV=["#E5ACBF","#F6A28C","#E8B180","#E2C5AE","#EF6AB3","#007bff","#28a745","#dc3545","#6c757d"],DV=({theme:t,onUpdate:e,isEditing:n,onToggleEdit:i,onSave:s})=>{const[c,h]=M.useState(t||{name:"",colors:[],notes:""});M.useEffect(()=>{h(t||{name:"",colors:[],notes:""})},[t]);const m=T=>{const{name:w,value:O}=T.target;h(L=>({...L,[w]:O}))},g=T=>{h(w=>{const O=w.colors.includes(T)?w.colors.filter(L=>L!==T):[...w.colors,T];return{...w,colors:O}})},y=()=>{e(c),s()},_=()=>{h(t||{name:"",colors:[],notes:""}),i()};return f.jsxs("div",{className:"theme-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsxs("h2",{children:[f.jsx(qj,{})," Theme"]}),n?f.jsxs("div",{className:"component-actions",children:[f.jsxs("button",{onClick:y,className:"save-component-btn",children:[f.jsx(ru,{})," Save"]}),f.jsxs("button",{onClick:_,className:"cancel-component-btn",children:[f.jsx(qi,{})," Cancel"]})]}):f.jsx("button",{onClick:i,className:"edit-component-btn",children:f.jsx(sl,{})})]}),n?f.jsxs("div",{className:"theme-edit-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Theme Name:"}),f.jsx("input",{type:"text",name:"name",value:c.name,onChange:m,placeholder:"e.g., Rustic Elegance"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Select Colors:"}),f.jsx("div",{className:"color-palette",children:IV.map(T=>f.jsx("div",{className:`color-swatch ${c.colors.includes(T)?"selected":""}`,style:{backgroundColor:T},onClick:()=>g(T)},T))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Notes:"}),f.jsx("textarea",{name:"notes",value:c.notes,onChange:m,placeholder:"Add notes on decor, florals, etc.",rows:"4"})]})]}):f.jsxs("div",{className:"theme-display",children:[f.jsxs("div",{className:"theme-detail",children:[f.jsx("span",{className:"detail-label",children:"Theme Name:"}),f.jsx("p",{children:t?.name||"Not specified"})]}),f.jsxs("div",{className:"theme-detail",children:[f.jsx("span",{className:"detail-label",children:"Color Palette:"}),f.jsx("div",{className:"theme-colors",children:t?.colors?.length>0?t.colors.map((T,w)=>f.jsx("div",{className:"color-swatch display",style:{backgroundColor:T}},w)):f.jsx("p",{children:"No colors selected"})})]}),f.jsxs("div",{className:"theme-detail notes-display",children:[f.jsx("span",{className:"detail-label",children:"Notes:"}),f.jsx("p",{children:t?.notes||"No notes added"})]})]})]})},OV=t=>t==null?"":typeof t=="string"?t:typeof t.toString=="function"?t.toString():String(t),jV=({schedule:t,onUpdate:e,isEditing:n,onToggleEdit:i,onSave:s})=>{const[c,h]=M.useState(t||[]);M.useEffect(()=>{h(t||[])},[t]);const m=()=>h([...c,{time:"",activity:""}]),g=w=>h(c.filter((O,L)=>L!==w)),y=(w,O,L)=>{const z=[...c];z[w][O]=L,h(z)},_=()=>{e(c),s()},T=()=>{h(t||[]),i()};return f.jsxs("div",{className:"schedule-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{children:"Schedule"}),n?f.jsxs("div",{className:"component-actions",children:[f.jsxs("button",{onClick:_,className:"save-component-btn",children:[f.jsx(ru,{})," Save"]}),f.jsxs("button",{onClick:T,className:"cancel-component-btn",children:[f.jsx(qi,{})," Cancel"]})]}):f.jsx("button",{onClick:i,className:"edit-component-btn",children:f.jsx(sl,{})})]}),n?f.jsxs(f.Fragment,{children:[c.map((w,O)=>f.jsxs("div",{className:"schedule-item editable",children:[f.jsx("input",{type:"time",value:w.time,onChange:L=>y(O,"time",L.target.value)}),f.jsx("input",{type:"text",value:w.activity,onChange:L=>y(O,"activity",L.target.value),placeholder:"Activity"}),f.jsx("button",{onClick:()=>g(O),className:"remove-btn",children:f.jsx(By,{})})]},O)),f.jsxs("button",{onClick:m,className:"add-btn",children:[f.jsx(Oc,{})," Add Activity"]})]}):f.jsx("div",{className:"schedule-list",children:t&&t.length>0?t.map((w,O)=>f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"schedule-time",children:w.time}),f.jsx("span",{className:"schedule-activity",children:w.activity})]},O)):f.jsx("p",{children:"No schedule items have been added yet."})})]})},kV=({guests:t,onUpdate:e,isEditing:n,onToggleEdit:i,onSave:s})=>{const[c,h]=M.useState(t||[]),[m,g]=M.useState({name:"",contact:"",dietary:"",isAttending:!1});M.useEffect(()=>{h(t||[])},[t]);const y=()=>{m.name.trim()!==""&&(h([...c,{...m,id:Date.now()}]),g({name:"",contact:"",dietary:"",isAttending:!1}))},_=(z,k,F)=>{h(c.map(Q=>Q.id===z?{...Q,[k]:F}:Q))},T=z=>{h(c.filter(k=>k.id!==z))},w=z=>alert(`Simulating sending an email invite to ${z.name} at ${z.contact}`),O=()=>{e(c),s()},L=()=>{h(t||[]),i()};return f.jsxs("div",{className:"guests-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{children:"Guest Management"}),n?f.jsxs("div",{className:"component-actions",children:[f.jsxs("button",{onClick:O,className:"save-component-btn",children:[f.jsx(ru,{})," Save"]}),f.jsxs("button",{onClick:L,className:"cancel-component-btn",children:[f.jsx(qi,{})," Cancel"]})]}):f.jsx("button",{onClick:i,className:"edit-component-btn",children:f.jsx(sl,{})})]}),n&&f.jsxs("div",{className:"add-guest-form",children:[f.jsx("input",{type:"text",placeholder:"Guest Name*",value:m.name,onChange:z=>g({...m,name:z.target.value})}),f.jsx("input",{type:"email",placeholder:"Email or Phone*",value:m.contact,onChange:z=>g({...m,contact:z.target.value})}),f.jsx("input",{type:"text",placeholder:"Dietary Requirements",value:m.dietary,onChange:z=>g({...m,dietary:z.target.value})}),f.jsxs("button",{onClick:y,children:[f.jsx(Oc,{})," Add Guest"]})]}),f.jsx("div",{className:"guest-list",children:c&&c.length>0?f.jsx("ul",{children:c.map(z=>f.jsxs("li",{className:"guest-item",children:[f.jsxs("div",{className:"guest-info",children:[f.jsx("input",{type:"checkbox",checked:!!z.isAttending,onChange:k=>_(z.id,"isAttending",k.target.checked),disabled:!n}),f.jsxs("div",{children:[f.jsx("strong",{children:z.name}),f.jsx("br",{}),f.jsx("small",{children:z.contact}),f.jsx("br",{}),f.jsx("small",{children:z.dietary})]})]}),n&&f.jsxs("div",{className:"guest-actions",children:[f.jsx("button",{onClick:()=>w(z),title:"Send invite",children:f.jsx(rS,{})}),f.jsx("button",{onClick:()=>T(z.id),className:"delete-guest",title:"Remove guest",children:f.jsx(By,{})})]})]},z.id))}):f.jsx("p",{children:"No guests have been added yet."})})]})},VV=({eventId:t,eventDate:e})=>{const[n,i]=M.useState("vendors-list"),[s,c]=M.useState([]),[h,m]=M.useState([]),[g,y]=M.useState([]),[_,T]=M.useState(!0),[w,O]=M.useState({name:"",type:"",price:"",availability:"",notes:""}),[L,z]=M.useState("all"),[k,F]=M.useState(null),[Q,G]=M.useState(""),[$,ne]=M.useState(!1);M.useEffect(()=>{(async()=>{if(Ye.currentUser)try{const q=it(Ue,`planners/${Ye.currentUser.uid}/events`,t),se=await Hn(q);if(se.exists()){const ee=se.data();ee.vendors&&Array.isArray(ee.vendors)&&m(ee.vendors)}}catch(q){console.error("Error fetching event vendors:",q)}})()},[t]),M.useEffect(()=>{const A=async()=>{if(!(!Ye.currentUser||h.length===0))try{const q=it(Ue,`planners/${Ye.currentUser.uid}/events`,t);await fr(q,{vendors:h,updatedAt:new Date().toISOString()})}catch(q){console.error("Error saving vendors to Firestore:",q)}};h.length>0&&A()},[h,t]),M.useEffect(()=>{(async()=>{T(!0);try{const se=(await vd(Ds(Ue,"vendors"))).docs.map(he=>({id:he.id,...he.data()})),ee=[];if(se.forEach(he=>{Array.isArray(he.category)&&he.category.length>0?he.category.forEach(Ee=>{ee.push({...he,displayCategory:Ee,originalId:he.id,uniqueId:`${he.id}_${Ee}`})}):ee.push({...he,displayCategory:Array.isArray(he.category)?he.category[0]||"No category":he.category||he.type||"No category",originalId:he.id,uniqueId:he.id})}),c(ee),e){const he=qw(Ds(Ue,"events"),$O("date","==",e)),Ee=await vd(he),ve=new Set;Ee.forEach(Ze=>{const xe=Ze.data();xe.vendors_id&&Array.isArray(xe.vendors_id)&&xe.vendors_id.forEach(Nt=>ve.add(Nt))}),y(Array.from(ve))}}catch(q){console.error("Error fetching vendors or bookings:",q)}finally{T(!1)}})()},[e]);const ue=A=>{const{name:q,value:se}=A.target;O({...w,[q]:se})},V=()=>{if(w.name&&w.type){const A={id:`external_${Date.now()}`,name_of_business:w.name,category:w.type,price:w.price?Number(w.price):0,availability:w.availability,notes:w.notes,status:"not booked",isExternal:!0,displayCategory:w.type,originalId:`external_${Date.now()}`,uniqueId:`external_${Date.now()}_${w.type}`};m([...h,A]),O({name:"",type:"",price:"",availability:"",notes:""})}},R=(A,q=null)=>{if(!h.some(se=>se.uniqueId===A.uniqueId)){const se={...A,status:"not booked",name_of_business:A.name_of_business||A.name||"Unnamed Vendor",category:A.category||A.type||"No category",price:q!==null?Number(q):A.price||0,isExternal:A.isExternal||!1};m([...h,se])}},D=async A=>{if(Ye.currentUser)try{const q=h.filter(ee=>ee.uniqueId!==A);m(q);const se=it(Ue,`planners/${Ye.currentUser.uid}/events`,t);await fr(se,{vendors:q,updatedAt:new Date().toISOString()})}catch(q){console.error("Error removing vendor:",q)}},N=async(A,q)=>{if(Ye.currentUser)try{const se=h.map(he=>he.uniqueId===A?{...he,status:q}:he);m(se);const ee=it(Ue,`planners/${Ye.currentUser.uid}/events`,t);await fr(ee,{vendors:se,updatedAt:new Date().toISOString()})}catch(se){console.error("Error updating vendor status:",se)}},I=(A,q)=>{F(A),G(q||"")},P=async A=>{if(Ye.currentUser)try{const q=h.map(ee=>ee.uniqueId===A?{...ee,price:Number(Q)}:ee);m(q),F(null),G("");const se=it(Ue,`planners/${Ye.currentUser.uid}/events`,t);await fr(se,{vendors:q,updatedAt:new Date().toISOString()})}catch(q){console.error("Error updating vendor price:",q)}},C=()=>{F(null),G("")},ye=()=>{const A=new Date,q=A.getFullYear(),se=String(A.getMonth()+1).padStart(2,"0"),ee=String(A.getDate()).padStart(2,"0");return`${q}-${se}-${ee}`},De=()=>{ne(!$),$&&(F(null),G(""))},Z=A=>!g.includes(A),te=["Venue","Catering","Photography","Flowers","Music","Decor","Other"];if(_)return f.jsx("div",{className:"loading",children:"Loading vendors..."});const ce=s.filter(A=>!h.some(q=>q.uniqueId===A.uniqueId)&&Z(A.originalId)),me=()=>{ne(!1),F(null),G("")};return f.jsxs("div",{className:"vendor-management-section",children:[f.jsx("div",{children:f.jsxs("div",{className:"edit-mode-toggle",children:[!$&&f.jsxs("button",{onClick:De,className:"edit-component-btn",children:[f.jsx(sl,{})," Edit Vendors"]}),$&&f.jsxs("div",{className:"component-actions vendor-actions",children:[f.jsxs("button",{onClick:me,className:"save-component-btn",children:[f.jsx(ru,{})," Save Vendors"]}),f.jsxs("button",{onClick:De,className:"cancel-component-btn",children:[f.jsx(qi,{})," Cancel"]})]})]})}),f.jsxs("div",{className:"vendor-tabs",children:[f.jsx("button",{className:n==="vendors-list"?"active":"",onClick:()=>i("vendors-list"),children:"Vendors & Venues"}),f.jsx("button",{className:n==="compare"?"active":"",onClick:()=>i("compare"),children:"Compare Prices"}),f.jsxs("button",{className:n==="selected"?"active":"",onClick:()=>i("selected"),children:["Selected Vendors (",h.length,")"]}),f.jsx("button",{className:n==="notes"?"active":"",onClick:()=>i("notes"),children:"Booking Notes"})]}),f.jsxs("div",{className:"vendor-content",children:[n==="vendors-list"&&f.jsxs("div",{className:"vendor-list-container",children:[f.jsxs("div",{className:"vendors-list",children:[f.jsxs("h3",{children:["Available Vendors ",e&&`for ${e}`]}),ce.length===0?f.jsx("p",{children:"No available vendors. All vendors are either booked or already selected."}):f.jsx("div",{className:"vendor-items",children:ce.map(A=>f.jsxs("div",{className:"vendor-item available",children:[f.jsxs("div",{className:"vendor-info",children:[f.jsx("h4",{children:A.name_of_business||A.name||"Unnamed Vendor"}),f.jsx("p",{className:"vendor-type",children:A.displayCategory}),f.jsx("div",{className:"vendor-price-edit",children:$?f.jsx("input",{type:"number",value:A.price,placeholder:"Enter price",onChange:q=>{const se=s.map(ee=>ee.uniqueId===A.uniqueId?{...ee,price:q.target.value}:ee);c(se)},className:"price-input"}):f.jsx("p",{className:"vendor-price",children:A.price?`R${A.price}`:""})}),f.jsx("div",{className:"vendor-status",children:f.jsx("span",{className:"status-available",children:"Available"})})]}),$&&f.jsx("div",{className:"vendor-actions",children:f.jsx("button",{onClick:()=>R(A,A.price),className:"select-vendor-btn",children:"Select Vendor"})})]},A.uniqueId))})]}),$&&f.jsxs("div",{className:"add-vendor-form",children:[f.jsx("h3",{children:"Add External Vendor"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Vendor Type"}),f.jsxs("select",{name:"type",value:w.type,onChange:ue,required:!0,children:[f.jsx("option",{value:"",children:"Select Type"}),te.map(A=>f.jsx("option",{value:A,children:A},A))]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Vendor Name"}),f.jsx("input",{type:"text",name:"name",value:w.name,onChange:ue,placeholder:"Enter vendor name",required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Price (R)"}),f.jsx("input",{type:"number",name:"price",value:w.price,onChange:ue,placeholder:"Enter price",min:"0"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Availability"}),f.jsx("input",{type:"date",name:"availability",value:w.availability,onChange:ue,min:ye()})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Notes"}),f.jsx("textarea",{name:"notes",value:w.notes,onChange:ue,placeholder:"Add any notes about this vendor"})]}),f.jsx("button",{onClick:V,className:"add-vendor-btn",children:"Add to Selected Vendors"})]})]}),n==="compare"&&f.jsxs("div",{className:"compare-prices",children:[f.jsx("h3",{children:"Compare Vendor Prices"}),f.jsxs("div",{className:"category-filter",children:[f.jsx("label",{htmlFor:"category-filter",children:"Filter by Category: "}),f.jsxs("select",{id:"category-filter",value:L,onChange:A=>z(A.target.value),children:[f.jsx("option",{value:"all",children:"All Categories"}),te.map(A=>f.jsx("option",{value:A,children:A},A))]})]}),s.length===0&&h.length===0?f.jsx("p",{children:"No vendors to compare."}):f.jsx("div",{className:"comparison-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Business Name"}),f.jsx("th",{children:"Category"}),f.jsx("th",{children:"Price"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Availability Status"})]})}),f.jsx("tbody",{children:[...h,...s].filter(A=>L==="all"||A.displayCategory===L).map(A=>{const q=h.some(he=>he.uniqueId===A.uniqueId),se=Z(A.originalId),ee=A.status||"not selected";return f.jsxs("tr",{className:q?"selected-vendor-row":se?"":"booked-row",children:[f.jsx("td",{children:A.name_of_business||A.name||"Unnamed Vendor"}),f.jsx("td",{children:A.displayCategory}),f.jsxs("td",{children:["R",A.price||"N/A"]}),f.jsx("td",{children:q?f.jsx("span",{className:`status-${ee.replace(" ","-")}`,children:ee}):"Not Selected"}),f.jsx("td",{children:se?f.jsx("span",{className:"status-available",children:"Available"}):f.jsx("span",{className:"status-booked",children:"Booked"})})]},A.uniqueId)})})]})})]}),n==="selected"&&f.jsxs("div",{className:"selected-vendors",children:[f.jsx("h3",{children:"Selected Vendors"}),h.length===0?f.jsx("p",{children:"No vendors selected yet. Select vendors from the available list or add new ones."}):f.jsx("div",{className:"selected-vendors-list",children:h.map(A=>f.jsxs("div",{className:"selected-vendor-item",children:[f.jsxs("div",{className:"vendor-info",children:[f.jsx("h4",{children:A.name_of_business||A.name||"Unnamed Vendor"}),f.jsx("p",{className:"vendor-type",children:A.displayCategory}),f.jsx("div",{className:"vendor-price-section",children:k===A.uniqueId?f.jsxs("div",{className:"price-edit-container",children:[f.jsx("input",{type:"number",value:Q,onChange:q=>G(q.target.value),className:"price-edit-input",placeholder:"Enter price",min:"0"}),f.jsxs("div",{className:"price-edit-buttons",children:[f.jsx("button",{onClick:()=>P(A.uniqueId),className:"save-price-btn",children:"Save"}),f.jsx("button",{onClick:C,className:"cancel-price-btn",children:"Cancel"})]})]}):f.jsxs("div",{className:"price-display-container",children:[f.jsxs("p",{className:"vendor-price",children:["R",A.price||"N/A"]}),$&&f.jsx("button",{onClick:()=>I(A.uniqueId,A.price),className:"edit-price-btn",children:"Edit Price"})]})}),A.isExternal&&f.jsx("p",{className:"vendor-external",children:"(External Vendor)"}),f.jsx("div",{className:"vendor-status",children:f.jsx("span",{className:`status-${A.status.replace(" ","-")}`,children:A.status})})]}),$&&f.jsxs("div",{className:"vendor-actions",children:[f.jsxs("select",{value:A.status,onChange:q=>N(A.uniqueId,q.target.value),className:"status-select",children:[f.jsx("option",{value:"not booked",children:"Not Booked"}),f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"confirmed",children:"Confirmed"}),f.jsx("option",{value:"booked",children:"Booked"})]}),f.jsx("button",{onClick:()=>D(A.uniqueId),className:"remove-vendor-btn",children:"Remove"})]})]},A.uniqueId))})]}),n==="notes"&&f.jsxs("div",{className:"booking-notes",children:[f.jsx("h3",{children:"Booking Notes"}),f.jsx("p",{children:"This section would contain notes about vendor bookings."})]})]})]})},MV=()=>{const{eventId:t}=BE(),e=Yn(),[n,i]=M.useState(null),[s,c]=M.useState(!0),[h,m]=M.useState("overview"),[g,y]=M.useState({name:"",date:"",time:"",venue:"",notes:""}),[_]=M.useState([]),[T]=M.useState([]),[w,O]=M.useState([]),[L,z]=M.useState([]),[k,F]=M.useState([]),[Q,G]=M.useState({name:"",colors:[],notes:""}),[$,ne]=M.useState({details:!1,schedule:!1,theme:!1,guests:!1,vendors:!1,documents:!1}),[ue,V]=M.useState(!1),[R,D]=M.useState(0),[N]=M.useState([]);M.useEffect(()=>{const te=Od(Ye,ce=>{ce?(async()=>{c(!0);try{const A=it(Ue,`planners/${ce.uid}/events`,t),q=await Hn(A),se=await vd(Ds(Ue,"vendors"));if(q.exists()){const ee={id:q.id,...q.data()};i(ee),z(ee.schedule||[]),F(ee.guests||[]),G(ee.theme||{name:"",colors:[],notes:""}),O(ee.documents||[]),y({name:ee.name||"",date:ee.date||"",time:ee.time||"",venue:ee.venue||"",notes:ee.notes||""});const he=ee.vendors_id||[],Ee=se.docs.map(xe=>({id:xe.id,...xe.data()}));T(Ee);const ve=Ee.filter(xe=>he.includes(xe.id));_(ve);const Ze=[...new Set(Ee.map(xe=>OV(xe.category)).filter(xe=>xe!==""))];N(Ze)}else console.error("Event not found or user does not have permission."),i(null)}catch(A){console.error("Error loading data:",A)}finally{c(!1)}})():(c(!1),e("/login"))});return()=>te()},[t,e,_,N,T]);const I=te=>{ne(ce=>({...ce,[te]:!ce[te]}))},P=te=>{const{name:ce,value:me}=te.target;y(A=>({...A,[ce]:me}))},C=async(te,ce)=>{if(Ye.currentUser)try{const me={};switch(te){case"details":me.name=g.name,me.date=g.date,me.time=g.time,me.venue=g.venue,me.notes=g.notes;break;case"schedule":me.schedule=ce;break;case"guests":me.guests=ce;break;case"vendors":me.vendors_id=ce.map(A=>A.id);break;case"theme":me.theme=ce;break;case"documents":break;default:break}await fr(it(Ue,`planners/${Ye.currentUser.uid}/events`,t),{...me,updatedAt:new Date().toISOString()}),te==="schedule"&&z(ce),te==="guests"&&F(ce),te==="vendors"&&_(ce),te==="theme"&&G(ce),ne(A=>({...A,[te]:!1})),alert(`${te.charAt(0).toUpperCase()+te.slice(1)} saved successfully!`)}catch(me){console.error(`Error updating ${te}:`,me),alert(`Error saving ${te}. Please try again.`)}},ye=async te=>{const ce=Array.from(te.target.files);if(ce.length===0||!Ye.currentUser)return;V(!0),D(0);const me=[],A=ce.length;try{for(let q=0;q<A;q++){const se=ce[q],ee=new FormData;ee.append("file",se),ee.append("upload_preset","event_uploads");const he=g.name.replace(/\s+/g,"_").replace(/[^\w-]/g,""),Ee=`planners/${Ye.currentUser.uid}/${he}`;ee.append("folder",Ee);const ve=await fetch("https://api.cloudinary.com/v1_1/db4slx3ga/upload",{method:"POST",body:ee});if(!ve.ok){const xe=await ve.json();throw new Error(`Cloudinary upload failed: ${xe.error.message}`)}const Ze=await ve.json();me.push({name:se.name,url:Ze.secure_url,uploadedAt:new Date().toISOString()}),D(Math.round((q+1)/A*100))}me.length>0&&(await fr(it(Ue,`planners/${Ye.currentUser.uid}/events`,t),{documents:Yw(...me)}),O(q=>[...q,...me]),alert("Documents uploaded successfully!"))}catch(q){console.error("Error uploading files:",q),alert(`An error occurred during upload: ${q.message}`)}finally{V(!1),te.target.value=null}},De=async te=>{if(!(!window.confirm("Are you sure you want to delete this document?")||!Ye.currentUser))try{await fr(it(Ue,`planners/${Ye.currentUser.uid}/events`,t),{documents:Kw(te)}),O(ce=>ce.filter(me=>me.url!==te.url)),alert("Document deleted successfully!")}catch(ce){console.error("Error deleting document reference:",ce),alert("Error deleting document. Please try again.")}},Z=te=>{if(!te)return"Not specified";try{return new Date(te).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return te}};return s?f.jsx("div",{className:"loading",children:"Loading event details..."}):n?f.jsxs("div",{className:"event-details",children:[f.jsxs("div",{className:"event-header",children:[f.jsxs("button",{onClick:()=>e(-1),className:"back-button",children:[f.jsx(za,{})," Back to Dashboard"]}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{onClick:()=>m("overview"),className:`new-button ${h==="overview"?"active":""}`,children:"Event Overview"}),f.jsx("button",{onClick:()=>m("guests"),className:`new-button ${h==="guests"?"active":""}`,children:"Guest Management"}),f.jsx("button",{onClick:()=>m("vendors"),className:`new-button ${h==="vendors"?"active":""}`,children:"Vendor Management"}),f.jsx("button",{onClick:()=>m("documents"),className:`new-button ${h==="documents"?"active":""}`,children:"Document Management"})]})]}),f.jsxs("div",{children:[!$.details&&f.jsxs("button",{onClick:()=>I("details"),className:"edit-component-btn",children:[f.jsx(sl,{}),"Edit Details"]}),$.details&&f.jsxs("div",{className:"component-actions details-actions",children:[f.jsxs("button",{onClick:()=>C("details"),className:"save-component-btn",children:[f.jsx(ru,{})," Save Details"]}),f.jsxs("button",{onClick:()=>I("details"),className:"cancel-component-btn",children:[f.jsx(qi,{})," Cancel"]})]})]}),f.jsxs("div",{className:"event-info-boxes",children:[f.jsxs("div",{className:"info-box date-box",children:[f.jsx("div",{className:"info-box-header",children:f.jsxs("h4",{children:[f.jsx(Uy,{})," Date"]})}),f.jsx("p",{children:$.details?f.jsx("input",{type:"date",name:"date",value:g.date,onChange:P}):Z(n.date)})]}),f.jsxs("div",{className:"info-box time-box",children:[f.jsx("div",{className:"info-box-header",children:f.jsxs("h4",{children:[f.jsx(zy,{})," Time"]})}),f.jsx("p",{children:$.details?f.jsx("input",{type:"time",name:"time",value:g.time,onChange:P}):n.time||"Not specified"})]}),f.jsxs("div",{className:"info-box venue-box",children:[f.jsx("div",{className:"info-box-header",children:f.jsxs("h4",{children:[f.jsx(aS,{})," Venue"]})}),f.jsx("p",{children:$.details?f.jsx("input",{type:"text",name:"venue",value:g.venue,onChange:P,placeholder:"Venue"}):n.venue||"Not specified"})]}),f.jsxs("div",{className:"info-box theme-box",children:[f.jsx("div",{className:"info-box-header",children:f.jsxs("h4",{children:[f.jsx(oS,{})," Theme"]})}),f.jsx("p",{children:n.theme?.name||"Not specified"})]})]}),f.jsxs("div",{className:"event-sections",children:[h==="overview"&&f.jsxs(f.Fragment,{children:[f.jsx("section",{children:f.jsx(jV,{schedule:L,onUpdate:te=>C("schedule",te),isEditing:$.schedule,onToggleEdit:()=>I("schedule"),onSave:()=>ne(te=>({...te,schedule:!1}))})}),f.jsx("section",{children:f.jsx(DV,{theme:Q,onUpdate:G,isEditing:$.theme,onToggleEdit:()=>I("theme"),onSave:()=>C("theme",Q)})})]}),h==="guests"&&f.jsx(kV,{guests:k,onUpdate:te=>C("guests",te),isEditing:$.guests,onToggleEdit:()=>I("guests"),onSave:()=>ne(te=>({...te,guests:!1}))}),h==="vendors"&&f.jsx(VV,{eventId:t,eventDate:g.date}),h==="documents"&&f.jsxs("section",{className:"documents-section",children:[f.jsxs("div",{className:"documents-header",children:[f.jsx("h2",{children:"Documents"}),!$.documents&&f.jsx("button",{onClick:()=>I("documents"),className:"edit-component-btn",children:f.jsx(sl,{})})]}),$.documents&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"upload-area",children:[f.jsxs("label",{className:"upload-button",children:[f.jsx(Gj,{})," Upload Documents",f.jsx("input",{type:"file",multiple:!0,onChange:ye,style:{display:"none"},disabled:ue})]}),ue&&f.jsxs("div",{className:"upload-progress",children:[f.jsx("progress",{value:R,max:"100"}),f.jsxs("span",{children:["Uploading... ",R,"%"]})]})]}),f.jsx("div",{className:"component-actions",children:f.jsxs("button",{onClick:()=>ne(te=>({...te,documents:!1})),className:"cancel-component-btn",children:[f.jsx(qi,{})," Done"]})})]}),f.jsx("div",{className:"documents-list",children:w&&w.length>0?f.jsx("ul",{children:w.map((te,ce)=>f.jsxs("li",{className:"document-item",children:[f.jsxs("a",{href:te.url,target:"_blank",rel:"noopener noreferrer",children:[f.jsx(iS,{})," ",te.name]}),$.documents&&f.jsx("button",{onClick:()=>De(te),className:"delete-doc",title:"Delete document",children:f.jsx(qi,{})})]},ce))}):f.jsx("p",{children:"No documents uploaded yet"})})]})]})]}):f.jsxs("div",{className:"error",children:[f.jsx("h2",{children:"Event Not Found"}),f.jsx("p",{children:"The event could not be found. Please check the URL or go back to the dashboard."}),f.jsx("button",{onClick:()=>e("/planner-dashboard"),children:"Back to Dashboard"})]})};function PV(){const t=Yn(),[e,n]=M.useState({full_name:"",email:"",phone:"",bio:""}),[i,s]=M.useState(null),[c,h]=M.useState(!0),[m,g]=M.useState(null),[y,_]=M.useState(!1);M.useEffect(()=>{(async()=>{const k=Ye.currentUser;if(k)try{const F=await Hn(it(Ue,"planners",k.uid));if(F.exists()){const Q=F.data();n({full_name:Q.full_name||"",email:k.email||"",phone:Q.phone||"",bio:Q.bio||""}),Q.profilePic&&(g(Q.profilePic),s(Q.profilePic))}}catch(F){console.error("Error fetching user data:",F)}finally{h(!1)}})()},[]);const T=z=>{const{name:k,value:F}=z.target;n(Q=>({...Q,[k]:F}))},w=z=>{const k=z.target.files[0];k&&g(k)},O=async z=>{z.preventDefault();const k=Ye.currentUser;if(k)try{_(!0);const F=it(Ue,"planners",k.uid),Q={full_name:e.full_name,phone:e.phone,bio:e.bio};m&&m!==i&&(Q.profilePic=typeof m=="string"?m:URL.createObjectURL(m)),await fr(F,Q),alert("Profile updated successfully!"),t("/planner-dashboard")}catch(F){console.error("Error updating profile:",F),alert("Failed to update profile.")}finally{_(!1)}},L=m?typeof m=="string"?m:URL.createObjectURL(m):null;return c?f.jsx("div",{className:"loading",children:"Loading..."}):f.jsxs("main",{className:"profile-container",children:[f.jsxs("button",{onClick:()=>t(-1),className:"back-button",children:[f.jsx(za,{})," Back"]}),f.jsxs("h1",{children:["Edit Your ",f.jsx("span",{style:{color:"#FFB6C1"},children:"Planner"})," Profile"]}),f.jsx("p",{children:"Update your personal information"}),f.jsxs("form",{className:"profile-form",onSubmit:O,children:[f.jsxs("div",{className:"form-group profile-pic-group",children:[f.jsx("label",{htmlFor:"profile_pic",className:"pic-upload-label",children:f.jsxs("div",{className:"pic-preview",style:{backgroundImage:L?`url(${L})`:"var(--primary-gradient)"},children:[!L&&f.jsxs("div",{className:"default-state",children:[f.jsx(sf,{size:60}),f.jsx("span",{children:"Add Profile Picture"})]}),L&&f.jsxs("div",{className:"change-overlay",children:[f.jsx(af,{}),f.jsx("span",{children:"Change"})]})]})}),f.jsx("input",{type:"file",id:"profile_pic",accept:"image/*",onChange:w,style:{display:"none"},disabled:y})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(lS,{})}),f.jsx("input",{type:"text",name:"full_name",className:`form-input ${e.full_name?"has-value":""}`,value:e.full_name,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Full Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(sS,{})}),f.jsx("input",{type:"tel",name:"phone",className:`form-input ${e.phone?"has-value":""}`,value:e.phone,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Phone Number"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(tS,{})}),f.jsx("textarea",{name:"bio",className:`form-input ${e.bio?"has-value":""}`,value:e.bio,onChange:T,rows:"4",required:!0}),f.jsx("label",{className:"form-label",children:"Bio"})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>t("/planner-dashboard"),children:"Cancel"}),f.jsx("button",{type:"submit",className:"submit-btn",disabled:y,children:y?"Saving...":"Save Changes"})]})]})]})}const LV=["Catering","Music","Flowers","Decor","Photography","Venue"];function UV(){const t=Yn(),[e,n]=M.useState({name_of_vendor:"",name_of_business:"",email:"",contact_number:"",category:[],description:""}),[i,s]=M.useState(null),[c,h]=M.useState(!0),[m,g]=M.useState(null),[y,_]=M.useState(!1);M.useEffect(()=>{(async()=>{const F=Ye.currentUser;if(F)try{const Q=await Hn(it(Ue,"vendors",F.uid));if(Q.exists()){const G=Q.data();n({name_of_vendor:G.name_of_vendor||"",name_of_business:G.name_of_business||"",email:F.email||"",contact_number:G.contact_number||"",category:G.category||[],description:G.description||""}),G.profilePic&&(g(G.profilePic),s(G.profilePic))}}catch(Q){console.error("Error fetching vendor data:",Q)}finally{h(!1)}})()},[]);const T=k=>{const{name:F,value:Q}=k.target;n(G=>({...G,[F]:Q}))},w=k=>{n(F=>({...F,category:F.category.includes(k)?F.category.filter(Q=>Q!==k):[...F.category,k]}))},O=k=>{const F=k.target.files[0];F&&g(F)},L=async k=>{k.preventDefault();const F=Ye.currentUser;if(F)try{_(!0);const Q=it(Ue,"vendors",F.uid),G={name_of_vendor:e.name_of_vendor,name_of_business:e.name_of_business,contact_number:e.contact_number,category:e.category,description:e.description};m&&m!==i&&(G.profilePic=typeof m=="string"?m:URL.createObjectURL(m)),await fr(Q,G),alert("Profile updated successfully!"),t("/vendor-dashboard")}catch(Q){console.error("Error updating vendor profile:",Q),alert("Failed to update profile.")}finally{_(!1)}},z=m?typeof m=="string"?m:URL.createObjectURL(m):null;return c?f.jsx("div",{className:"loading",children:"Loading..."}):f.jsxs("main",{className:"profile-container",children:[f.jsxs("button",{onClick:()=>t(-1),className:"back-button",children:[f.jsx(za,{})," Back"]}),f.jsxs("h1",{children:["Edit Your ",f.jsx("span",{style:{color:"#FFB6C1"},children:"Vendor"})," Profile"]}),f.jsx("p",{children:"Update your business information and services"}),f.jsxs("form",{className:"profile-form",onSubmit:L,children:[f.jsxs("div",{className:"form-group profile-pic-group",children:[f.jsx("label",{htmlFor:"profile_pic",className:"pic-upload-label",children:f.jsxs("div",{className:"pic-preview",style:{backgroundImage:z?`url(${z})`:"var(--primary-gradient)"},children:[!z&&f.jsxs("div",{className:"default-state",children:[f.jsx(sf,{size:60}),f.jsx("span",{children:"Add Profile Picture"})]}),z&&f.jsxs("div",{className:"change-overlay",children:[f.jsx(af,{}),f.jsx("span",{children:"Change"})]})]})}),f.jsx("input",{type:"file",id:"profile_pic",accept:"image/*",onChange:O,style:{display:"none"},disabled:y})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(lS,{})}),f.jsx("input",{type:"text",name:"name_of_vendor",className:`form-input ${e.name_of_vendor?"has-value":""}`,value:e.name_of_vendor,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Your Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(Pj,{})}),f.jsx("input",{type:"text",name:"name_of_business",className:`form-input ${e.name_of_business?"has-value":""}`,value:e.name_of_business,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Business Name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(sS,{})}),f.jsx("input",{type:"tel",name:"contact_number",className:`form-input ${e.contact_number?"has-value":""}`,value:e.contact_number,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Contact Number"})]}),f.jsxs("div",{className:"form-group category-group",children:[f.jsx("label",{children:"Services Offered"}),f.jsx("div",{className:"category-grid",children:LV.map(k=>f.jsxs("label",{className:`category-label ${e.category.includes(k)?"selected":""}`,children:[f.jsx("div",{className:"checkbox-custom",children:e.category.includes(k)&&f.jsx(nS,{size:12,color:"white"})}),f.jsx("input",{type:"checkbox",checked:e.category.includes(k),onChange:()=>w(k),style:{display:"none"}}),f.jsx("span",{children:k})]},k))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("i",{className:"form-icon",children:f.jsx(tS,{})}),f.jsx("textarea",{name:"description",className:`form-input ${e.description?"has-value":""}`,value:e.description,onChange:T,required:!0}),f.jsx("label",{className:"form-label",children:"Business Description"})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>t("/vendor-dashboard"),children:"Cancel"}),f.jsx("button",{type:"submit",className:"submit-btn",disabled:y,children:y?"Saving...":"Save Changes"})]})]})]})}const OE=t=>t==null?"":typeof t=="string"?t:typeof t.toString=="function"?t.toString():String(t),zV=t=>{if(!t)return"Not specified";try{return new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return t}},BV=({schedule:t})=>f.jsxs("div",{className:"schedule-section",children:[f.jsx("div",{className:"section-header",children:f.jsx("h2",{children:"Schedule"})}),f.jsx("div",{className:"schedule-list",children:t&&t.length>0?t.map((e,n)=>f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"schedule-time",children:e.time}),f.jsx("span",{className:"schedule-activity",children:e.activity})]},n)):f.jsx("p",{children:"No schedule items have been added yet."})})]}),FV=({guests:t})=>f.jsxs("div",{className:"guests-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{children:"Guest List"}),f.jsxs("span",{className:"guest-count",children:[t?.length||0," guests"]})]}),f.jsx("div",{className:"guest-list",children:t&&t.length>0?t.map((e,n)=>f.jsx("div",{className:"guest-item",children:f.jsxs("div",{className:"guest-info",children:[f.jsxs("div",{className:"guest-name",children:[e.name,e.isAttending&&f.jsx("span",{className:"attending-badge",children:"Attending"})]}),e.contact&&f.jsxs("div",{className:"guest-contact",children:[f.jsx(rS,{})," ",e.contact]}),e.dietary&&f.jsxs("div",{className:"guest-dietary",children:[f.jsx(Fj,{})," ",e.dietary]})]})},n)):f.jsx("p",{children:"No guests have been added yet."})})]}),qV=({theme:t})=>f.jsxs("div",{className:"event-theme",children:[f.jsx("h3",{children:"Event Theme"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",t.name||"No theme selected"]}),t.colors&&t.colors.length>0&&f.jsxs("div",{className:"theme-colors",children:[f.jsx("p",{children:f.jsx("strong",{children:"Color Scheme:"})}),f.jsx("div",{className:"color-swatches",children:t.colors.map((e,n)=>f.jsx("div",{className:"color-swatch",style:{backgroundColor:e},title:e},n))})]}),t.notes&&f.jsx("div",{className:"theme-notes",children:f.jsxs("p",{children:[f.jsx("strong",{children:"Notes:"})," ",t.notes]})})]}),HV=()=>{const{eventId:t}=BE(),e=Yn(),[n,i]=M.useState(null),[s,c]=M.useState(!0),[h,m]=M.useState("overview"),[g,y]=M.useState([]),[_,T]=M.useState([]),[w,O]=M.useState({name:"",colors:[],notes:""});return M.useEffect(()=>{const L=async k=>{if(k){c(!0);try{const F=it(Ue,"vendors",k.uid),Q=await Hn(F);if(!Q.exists()){console.error("Vendor not found"),i(null);return}const $=Q.data().requests?.find(ue=>ue.eventId===t&&ue.status==="accepted");if(!$){console.error("Event not found in vendor's accepted events"),i(null);return}const ne={id:t,name:$.eventName||"Event",date:$.eventDate||"",time:$.eventTime||"",venue:$.venue||"TBC",description:$.description||"",...$};i(ne),y($.schedule||[]),T($.guests||[]),O($.theme||{name:"",colors:[],notes:""})}catch(F){console.error("Error loading event:",F),i(null)}finally{c(!1)}}},z=Od(Ye,k=>{k?L(k):(c(!1),e("/login"))});return()=>z()},[t,e]),s?f.jsx("div",{className:"vendor-event-details",children:f.jsxs("div",{className:"loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Loading event details..."})]})}):n?f.jsxs("div",{className:"vendor-event-details",children:[f.jsxs("div",{className:"event-header",children:[f.jsxs("button",{onClick:()=>e(-1),className:"back-button",children:[f.jsx(za,{})," Back to Dashboard"]}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{onClick:()=>m("overview"),className:`new-button ${h==="overview"?"active":""}`,children:"Event Overview"}),f.jsx("button",{onClick:()=>m("schedule"),className:`new-button ${h==="schedule"?"active":""}`,children:"Schedule"}),f.jsx("button",{onClick:()=>m("guests"),className:`new-button ${h==="guests"?"active":""}`,children:"Guests"})]})]}),f.jsx("h1",{children:n.name||"Untitled Event"}),f.jsxs("div",{className:"event-info-boxes",children:[f.jsxs("div",{className:"info-box date-box",children:[f.jsxs("h4",{children:[f.jsx(Uy,{})," Date"]}),f.jsx("p",{children:zV(n.date)})]}),f.jsxs("div",{className:"info-box time-box",children:[f.jsxs("h4",{children:[f.jsx(zy,{})," Time"]}),f.jsx("p",{children:OE(n.time)||"Not specified"})]}),f.jsxs("div",{className:"info-box venue-box",children:[f.jsxs("h4",{children:[f.jsx(aS,{})," Venue"]}),f.jsx("p",{children:OE(n.venue)||"Not specified"})]}),f.jsxs("div",{className:"info-box theme-box",children:[f.jsxs("h4",{children:[f.jsx(oS,{})," Theme"]}),f.jsx("p",{children:w.name||"Not specified"})]})]}),f.jsxs("div",{className:"event-sections",children:[h==="overview"&&f.jsxs("section",{className:"overview-section",children:[f.jsx("div",{className:"section-header",children:f.jsx("h2",{children:"Event Overview"})}),f.jsx("p",{children:n.description||"No description available."}),f.jsx("hr",{}),f.jsx(qV,{theme:w})]}),h==="schedule"&&f.jsx("section",{children:f.jsx(BV,{schedule:g})}),h==="guests"&&f.jsx("section",{children:f.jsx(FV,{guests:_})})]})]}):f.jsx("div",{className:"vendor-event-details",children:f.jsxs("div",{className:"error-message",children:[f.jsx("h2",{children:"Event Not Found"}),f.jsx("p",{children:"The requested event could not be found or you don't have permission to view it."}),f.jsxs("button",{onClick:()=>e(-1),className:"back-button",children:[f.jsx(za,{})," Back to Events"]})]})})},Up=({children:t})=>f.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"radial-gradient(circle at 100% 0%, #E2C5AE, #E5ACBF)",padding:"20px",boxSizing:"border-box"},children:t});function GV(){return f.jsxs(o4,{children:[f.jsx(gn,{path:"/",element:f.jsx(w1,{to:"/landing",replace:!0})}),f.jsx(gn,{path:"/landing",element:f.jsx(z4,{})}),f.jsx(gn,{path:"/login",element:f.jsx(Up,{children:f.jsx(Nj,{})})}),f.jsx(gn,{path:"/signup",element:f.jsx(Up,{children:f.jsx(Cj,{})})}),f.jsx(gn,{path:"/planner-form",element:f.jsx(Up,{children:f.jsx(Kj,{})})}),f.jsx(gn,{path:"/vendor-form",element:f.jsx(Qj,{})}),f.jsx(gn,{path:"/admin-dashboard",element:f.jsx(Wj,{})}),f.jsx(gn,{path:"/planner-dashboard",element:f.jsx(RV,{})}),f.jsx(gn,{path:"/vendor-dashboard",element:f.jsx(NV,{})}),f.jsx(gn,{path:"/add-event",element:f.jsx(CV,{})}),f.jsx(gn,{path:"/event-details/:eventId",element:f.jsx(MV,{})}),f.jsx(gn,{path:"/edit-planner-profile",element:f.jsx(PV,{})}),f.jsx(gn,{path:"/edit-vendor-profile",element:f.jsx(UV,{})}),f.jsx(gn,{path:"/vendor/event/:eventId",element:f.jsx(HV,{})}),f.jsx(gn,{path:"*",element:f.jsx(w1,{to:"/landing",replace:!0})})]})}const $V=yx.createRoot(document.getElementById("root"));$V.render(f.jsx(zi.StrictMode,{children:f.jsx(I4,{children:f.jsx(GV,{})})}));
