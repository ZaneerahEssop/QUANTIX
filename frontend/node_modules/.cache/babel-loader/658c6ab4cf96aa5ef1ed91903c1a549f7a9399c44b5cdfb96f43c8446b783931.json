{"ast":null,"code":"import _objectSpread from\"C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import ReactMarkdown from'react-markdown';import{supabase}from'../../client';import'./VenueService.css';// Reusable SimpleTextEditor component (unchanged)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SimpleTextEditor=_ref=>{let{value,onChange,placeholder,height='150px'}=_ref;const textareaRef=useRef(null);const handleChange=e=>{onChange(e.target.value);};const applyFormat=format=>{const textarea=textareaRef.current;if(!textarea)return;const start=textarea.selectionStart;const end=textarea.selectionEnd;const selectedText=value.substring(start,end);let newValue=value;let newCursorPos=end;switch(format){case'bold':newValue=\"\".concat(value.substring(0,start),\"**\").concat(selectedText,\"**\").concat(value.substring(end));newCursorPos=selectedText?end+4:start+2;break;case'italic':newValue=\"\".concat(value.substring(0,start),\"*\").concat(selectedText,\"*\").concat(value.substring(end));newCursorPos=selectedText?end+2:start+1;break;case'bullet':newValue=\"\".concat(value.substring(0,start),\"- \").concat(selectedText).concat(value.substring(end));newCursorPos=selectedText?end+2:start+2;break;case'number':newValue=\"\".concat(value.substring(0,start),\"1. \").concat(selectedText).concat(value.substring(end));newCursorPos=selectedText?end+3:start+3;break;default:return;}onChange(newValue);setTimeout(()=>{textarea.selectionStart=textarea.selectionEnd=newCursorPos;textarea.focus();},0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"text-editor-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>applyFormat('bold'),title:\"Bold\",className:\"format-button\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"B\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>applyFormat('italic'),title:\"Italic\",className:\"format-button\",children:/*#__PURE__*/_jsx(\"em\",{children:\"I\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>applyFormat('bullet'),title:\"Bullet List\",className:\"format-button\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>applyFormat('number'),title:\"Numbered List\",className:\"format-button\",children:\"1.\"})]}),/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,className:\"simple-textarea\",value:value||'',onChange:handleChange,placeholder:placeholder,style:{minHeight:height}})]});};const VenueService=_ref2=>{let{vendorId,venueNames,isReadOnly}=_ref2;const[isEditing,setIsEditing]=useState(false);const[isLoading,setIsLoading]=useState(true);const[serviceId,setServiceId]=useState(null);const[venues,setVenues]=useState([]);const[toast,setToast]=useState(null);const toastTimeout=useRef(null);const showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';if(toastTimeout.current)clearTimeout(toastTimeout.current);setToast({message,type});toastTimeout.current=setTimeout(()=>setToast(null),5000);};const closeToast=()=>{if(toastTimeout.current)clearTimeout(toastTimeout.current);setToast(null);};useEffect(()=>()=>{if(toastTimeout.current)clearTimeout(toastTimeout.current);},[]);// âœ¨ CHANGED: This function has been completely refactored to be read-only\nconst fetchAndReconcileData=useCallback(async()=>{if(!vendorId||!venueNames||venueNames.length===0){setIsLoading(false);return;}setIsLoading(true);try{// Step 1: ONLY READ from vendor_services to get the service ID.\n// We no longer use .upsert() here.\nconst{data:serviceData,error:serviceError}=await supabase.from('vendor_services').select('id').eq('vendor_id',vendorId).eq('service_type','venue').maybeSingle();// Use maybeSingle() to handle cases where the record doesn't exist without throwing an error.\nif(serviceError)throw serviceError;// If no service record exists, the vendor hasn't set up this service yet.\n// We can just show an empty state.\nif(!serviceData){setVenues([]);setIsLoading(false);return;}const currentServiceId=serviceData.id;setServiceId(currentServiceId);// Step 2: Fetch venue details from the 'venues' table.\nconst{data:existingVenues,error:venuesError}=await supabase.from('venues').select('*').eq('service_id',currentServiceId);if(venuesError)throw venuesError;// Step 3: Reconcile the data just like before.\nconst reconciledVenues=venueNames.map(name=>{const existing=existingVenues.find(v=>v.name===name);return existing||{name:name,description:'',capacity:'',base_rate:'',additional_charges:'',photos:[],service_id:currentServiceId};});setVenues(reconciledVenues);}catch(error){console.error(\"Error fetching or reconciling venue data:\",error);showToast('Error loading venue data.','error');}finally{setIsLoading(false);}},[vendorId,venueNames]);useEffect(()=>{fetchAndReconcileData();},[fetchAndReconcileData]);const handleVenueChange=(index,field,value)=>{const updatedVenues=[...venues];updatedVenues[index][field]=value;setVenues(updatedVenues);};const handlePhotoUpload=async(e,index)=>{const file=e.target.files[0];if(!file)return;showToast('Uploading photo...','info');try{const{data:{user}}=await supabase.auth.getUser();if(!user)throw new Error('You must be logged in.');const filePath=\"\".concat(user.id,\"/venues/\").concat(Date.now(),\"-\").concat(file.name);const{error:uploadError}=await supabase.storage.from('portfolio-photos').upload(filePath,file);if(uploadError)throw uploadError;const{data:{publicUrl}}=supabase.storage.from('portfolio-photos').getPublicUrl(filePath);const newPhoto={url:publicUrl,path:filePath};const updatedVenues=[...venues];updatedVenues[index].photos=[...(updatedVenues[index].photos||[]),newPhoto];setVenues(updatedVenues);showToast('Photo uploaded!','success');}catch(error){showToast(\"Upload failed: \".concat(error.message),'error');}};const handleDeletePhoto=(venueIndex,photoIndex)=>{const updatedVenues=[...venues];updatedVenues[venueIndex].photos.splice(photoIndex,1);setVenues(updatedVenues);};const handleSubmit=async e=>{e.preventDefault();try{const venuesToSave=venues.map(venue=>_objectSpread(_objectSpread({},venue),{},{service_id:serviceId}));const{error}=await supabase.from('venues').upsert(venuesToSave,{onConflict:'service_id, name'});if(error)throw error;showToast('Venue information saved successfully!','success');setIsEditing(false);fetchAndReconcileData();}catch(error){console.error('Error saving venue data:',error);showToast(\"Failed to save: \".concat(error.message),'error');}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading venue information...\"});}if(!venueNames||venueNames.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"venue-service-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"service-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Venue Services\"})}),isReadOnly?/*#__PURE__*/_jsx(\"p\",{children:\"This vendor has not listed any specific venues in their profile.\"}):/*#__PURE__*/_jsx(\"p\",{children:\"You have not listed any venues in your profile. Please edit your main profile to add your venue names first.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"venue-service-container\",children:[toast&&/*#__PURE__*/_jsxs(\"div\",{className:\"toast-notification \".concat(toast.type),children:[/*#__PURE__*/_jsx(\"span\",{className:\"toast-message\",children:toast.message}),/*#__PURE__*/_jsx(\"button\",{onClick:closeToast,className:\"toast-close\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,id:\"venue-service-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Venue Details\"}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:()=>{setIsEditing(false);fetchAndReconcileData();},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-button\",children:\"Save Changes\"})]}):!isReadOnly&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"edit-button\",onClick:()=>setIsEditing(true),children:\"Edit Details\"})]}),venues.map((venue,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"venue-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"venue-card-title\",children:venue.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"venue-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"venue-info\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(SimpleTextEditor,{height:\"120px\",value:venue.description,onChange:val=>handleVenueChange(index,'description',val),placeholder:\"Describe this specific venue...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Capacity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"venue-input\",value:venue.capacity,onChange:e=>handleVenueChange(index,'capacity',e.target.value),placeholder:\"e.g., 150 Seated, 200 Standing\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Base Rate\"}),/*#__PURE__*/_jsx(SimpleTextEditor,{height:\"100px\",value:venue.base_rate,onChange:val=>handleVenueChange(index,'base_rate',val),placeholder:\"e.g., R20,000 hire fee for a full day...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Additional Charges\"}),/*#__PURE__*/_jsx(SimpleTextEditor,{height:\"100px\",value:venue.additional_charges,onChange:val=>handleVenueChange(index,'additional_charges',val),placeholder:\"e.g., Security fee, Corkage fee...\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"markdown-content\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:venue.description||'No details provided.'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Capacity\"}),/*#__PURE__*/_jsx(\"p\",{children:venue.capacity||'No details provided.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Base Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"markdown-content\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:venue.base_rate||'No details provided.'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Additional Charges\"}),/*#__PURE__*/_jsx(\"div\",{className:\"markdown-content\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:venue.additional_charges||'No details provided.'})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"venue-photos\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Venue Images\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"venue-photo-grid\",children:[venue.photos&&venue.photos.map((photo,photoIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"portfolio-photo\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo.url,alt:\"Venue \".concat(index+1)}),isEditing&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete-photo\",onClick:()=>handleDeletePhoto(index,photoIndex),children:\"\\xD7\"})]},photo.url||photoIndex)),(!venue.photos||venue.photos.length===0)&&!isEditing&&/*#__PURE__*/_jsx(\"div\",{className:\"no-photos-container\",children:/*#__PURE__*/_jsx(\"span\",{className:\"no-photos\",children:\"No images yet\"})})]}),isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"photo-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"venue-photo-upload-\".concat(index),accept:\"image/*\",onChange:e=>handlePhotoUpload(e,index),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"venue-photo-upload-\".concat(index),className:\"upload-button-small\",children:\"Add Image\"})]})]})]})]},venue.name))]})]});};export default VenueService;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","ReactMarkdown","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SimpleTextEditor","_ref","value","onChange","placeholder","height","textareaRef","handleChange","e","target","applyFormat","format","textarea","current","start","selectionStart","end","selectionEnd","selectedText","substring","newValue","newCursorPos","concat","setTimeout","focus","className","children","type","onClick","title","ref","style","minHeight","VenueService","_ref2","vendorId","venueNames","isReadOnly","isEditing","setIsEditing","isLoading","setIsLoading","serviceId","setServiceId","venues","setVenues","toast","setToast","toastTimeout","showToast","message","arguments","length","undefined","clearTimeout","closeToast","fetchAndReconcileData","data","serviceData","error","serviceError","from","select","eq","maybeSingle","currentServiceId","id","existingVenues","venuesError","reconciledVenues","map","name","existing","find","v","description","capacity","base_rate","additional_charges","photos","service_id","console","handleVenueChange","index","field","updatedVenues","handlePhotoUpload","file","files","user","auth","getUser","Error","filePath","Date","now","uploadError","storage","upload","publicUrl","getPublicUrl","newPhoto","url","path","handleDeletePhoto","venueIndex","photoIndex","splice","handleSubmit","preventDefault","venuesToSave","venue","_objectSpread","upsert","onConflict","onSubmit","val","photo","src","alt","accept","display","htmlFor"],"sources":["C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/frontend/src/components/services/VenueService.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { supabase } from '../../client';\r\nimport './VenueService.css';\r\n\r\n// Reusable SimpleTextEditor component (unchanged)\r\nconst SimpleTextEditor = ({ value, onChange, placeholder, height = '150px' }) => {\r\n  const textareaRef = useRef(null);\r\n  \r\n  const handleChange = (e) => {\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  const applyFormat = (format) => {\r\n    const textarea = textareaRef.current;\r\n    if (!textarea) return;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const selectedText = value.substring(start, end);\r\n    let newValue = value;\r\n    let newCursorPos = end;\r\n    switch(format) {\r\n      case 'bold': newValue = `${value.substring(0, start)}**${selectedText}**${value.substring(end)}`; newCursorPos = selectedText ? end + 4 : start + 2; break;\r\n      case 'italic': newValue = `${value.substring(0, start)}*${selectedText}*${value.substring(end)}`; newCursorPos = selectedText ? end + 2 : start + 1; break;\r\n      case 'bullet': newValue = `${value.substring(0, start)}- ${selectedText}${value.substring(end)}`; newCursorPos = selectedText ? end + 2 : start + 2; break;\r\n      case 'number': newValue = `${value.substring(0, start)}1. ${selectedText}${value.substring(end)}`; newCursorPos = selectedText ? end + 3 : start + 3; break;\r\n      default: return;\r\n    }\r\n    onChange(newValue);\r\n    setTimeout(() => {\r\n      textarea.selectionStart = textarea.selectionEnd = newCursorPos;\r\n      textarea.focus();\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-editor-wrapper\">\r\n      <div className=\"editor-toolbar\">\r\n        <button type=\"button\" onClick={() => applyFormat('bold')} title=\"Bold\" className=\"format-button\"><strong>B</strong></button>\r\n        <button type=\"button\" onClick={() => applyFormat('italic')} title=\"Italic\" className=\"format-button\"><em>I</em></button>\r\n        <button type=\"button\" onClick={() => applyFormat('bullet')} title=\"Bullet List\" className=\"format-button\">â€¢</button>\r\n        <button type=\"button\" onClick={() => applyFormat('number')} title=\"Numbered List\" className=\"format-button\">1.</button>\r\n      </div>\r\n      <textarea ref={textareaRef} className=\"simple-textarea\" value={value || ''} onChange={handleChange} placeholder={placeholder} style={{ minHeight: height }} />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst VenueService = ({ vendorId, venueNames, isReadOnly }) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [serviceId, setServiceId] = useState(null);\r\n  const [venues, setVenues] = useState([]);\r\n  const [toast, setToast] = useState(null);\r\n  const toastTimeout = useRef(null);\r\n\r\n  const showToast = (message, type = 'info') => {\r\n    if (toastTimeout.current) clearTimeout(toastTimeout.current);\r\n    setToast({ message, type });\r\n    toastTimeout.current = setTimeout(() => setToast(null), 5000);\r\n  };\r\n\r\n  const closeToast = () => {\r\n    if (toastTimeout.current) clearTimeout(toastTimeout.current);\r\n    setToast(null);\r\n  };\r\n\r\n  useEffect(() => () => { if (toastTimeout.current) clearTimeout(toastTimeout.current); }, []);\r\n\r\n  // âœ¨ CHANGED: This function has been completely refactored to be read-only\r\n  const fetchAndReconcileData = useCallback(async () => {\r\n    if (!vendorId || !venueNames || venueNames.length === 0) {\r\n        setIsLoading(false);\r\n        return;\r\n    }\r\n    setIsLoading(true);\r\n\r\n    try {\r\n        // Step 1: ONLY READ from vendor_services to get the service ID.\r\n        // We no longer use .upsert() here.\r\n        const { data: serviceData, error: serviceError } = await supabase\r\n            .from('vendor_services')\r\n            .select('id')\r\n            .eq('vendor_id', vendorId)\r\n            .eq('service_type', 'venue')\r\n            .maybeSingle(); // Use maybeSingle() to handle cases where the record doesn't exist without throwing an error.\r\n\r\n        if (serviceError) throw serviceError;\r\n\r\n        // If no service record exists, the vendor hasn't set up this service yet.\r\n        // We can just show an empty state.\r\n        if (!serviceData) {\r\n            setVenues([]);\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        \r\n        const currentServiceId = serviceData.id;\r\n        setServiceId(currentServiceId);\r\n\r\n        // Step 2: Fetch venue details from the 'venues' table.\r\n        const { data: existingVenues, error: venuesError } = await supabase\r\n            .from('venues')\r\n            .select('*')\r\n            .eq('service_id', currentServiceId);\r\n        if (venuesError) throw venuesError;\r\n        \r\n        // Step 3: Reconcile the data just like before.\r\n        const reconciledVenues = venueNames.map(name => {\r\n            const existing = existingVenues.find(v => v.name === name);\r\n            return existing || {\r\n                name: name,\r\n                description: '',\r\n                capacity: '',\r\n                base_rate: '',\r\n                additional_charges: '',\r\n                photos: [],\r\n                service_id: currentServiceId,\r\n            };\r\n        });\r\n\r\n        setVenues(reconciledVenues);\r\n    } catch (error) {\r\n        console.error(\"Error fetching or reconciling venue data:\", error);\r\n        showToast('Error loading venue data.', 'error');\r\n    } finally {\r\n        setIsLoading(false);\r\n    }\r\n  }, [vendorId, venueNames]);\r\n\r\n  useEffect(() => {\r\n    fetchAndReconcileData();\r\n  }, [fetchAndReconcileData]);\r\n\r\n  const handleVenueChange = (index, field, value) => {\r\n    const updatedVenues = [...venues];\r\n    updatedVenues[index][field] = value;\r\n    setVenues(updatedVenues);\r\n  };\r\n  \r\n  const handlePhotoUpload = async (e, index) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    showToast('Uploading photo...', 'info');\r\n    try {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) throw new Error('You must be logged in.');\r\n\r\n        const filePath = `${user.id}/venues/${Date.now()}-${file.name}`;\r\n        const { error: uploadError } = await supabase.storage.from('portfolio-photos').upload(filePath, file);\r\n        if (uploadError) throw uploadError;\r\n\r\n        const { data: { publicUrl } } = supabase.storage.from('portfolio-photos').getPublicUrl(filePath);\r\n        const newPhoto = { url: publicUrl, path: filePath };\r\n\r\n        const updatedVenues = [...venues];\r\n        updatedVenues[index].photos = [...(updatedVenues[index].photos || []), newPhoto];\r\n        setVenues(updatedVenues);\r\n        showToast('Photo uploaded!', 'success');\r\n    } catch (error) {\r\n        showToast(`Upload failed: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeletePhoto = (venueIndex, photoIndex) => {\r\n    const updatedVenues = [...venues];\r\n    updatedVenues[venueIndex].photos.splice(photoIndex, 1);\r\n    setVenues(updatedVenues);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const venuesToSave = venues.map(venue => ({ ...venue, service_id: serviceId }));\r\n      const { error } = await supabase.from('venues').upsert(venuesToSave, { onConflict: 'service_id, name' });\r\n      if (error) throw error;\r\n      \r\n      showToast('Venue information saved successfully!', 'success');\r\n      setIsEditing(false);\r\n      fetchAndReconcileData();\r\n    } catch (error) {\r\n      console.error('Error saving venue data:', error);\r\n      showToast(`Failed to save: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"loading\">Loading venue information...</div>;\r\n  }\r\n  \r\n  if (!venueNames || venueNames.length === 0) {\r\n    return (\r\n        <div className=\"venue-service-container\">\r\n            <div className=\"service-header\"><h3>Venue Services</h3></div>\r\n            {isReadOnly ? (\r\n              <p>This vendor has not listed any specific venues in their profile.</p>\r\n            ) : (\r\n              <p>You have not listed any venues in your profile. Please edit your main profile to add your venue names first.</p>\r\n            )}\r\n        </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"venue-service-container\">\r\n      {toast && <div className={`toast-notification ${toast.type}`}><span className=\"toast-message\">{toast.message}</span><button onClick={closeToast} className=\"toast-close\">&times;</button></div>}\r\n      <form onSubmit={handleSubmit} id=\"venue-service-form\">\r\n        <div className=\"service-header\">\r\n          <h3>Venue Details</h3>\r\n          {isEditing ? (\r\n            <div className=\"form-actions\">\r\n              <button type=\"button\" className=\"cancel-button\" onClick={() => { setIsEditing(false); fetchAndReconcileData(); }}>Cancel</button>\r\n              <button type=\"submit\" className=\"save-button\">Save Changes</button>\r\n            </div>\r\n          ) : !isReadOnly && (\r\n            <button type=\"button\" className=\"edit-button\" onClick={() => setIsEditing(true)}>Edit Details</button>\r\n          )}\r\n        </div>\r\n        \r\n        {venues.map((venue, index) => (\r\n          <div key={venue.name} className=\"venue-card\">\r\n            <h3 className=\"venue-card-title\">{venue.name}</h3>\r\n            <div className=\"venue-details\">\r\n                {/* Left Side: Details */}\r\n                <div className=\"venue-info\">\r\n                    {isEditing ? (\r\n                        <>\r\n                            <div className=\"form-group\"><label>Description</label><SimpleTextEditor height=\"120px\" value={venue.description} onChange={(val) => handleVenueChange(index, 'description', val)} placeholder=\"Describe this specific venue...\"/></div>\r\n                            <div className=\"form-group\"><label>Capacity</label><input type=\"text\" className=\"venue-input\" value={venue.capacity} onChange={(e) => handleVenueChange(index, 'capacity', e.target.value)} placeholder=\"e.g., 150 Seated, 200 Standing\"/></div>\r\n                            <div className=\"form-group\"><label>Base Rate</label><SimpleTextEditor height=\"100px\" value={venue.base_rate} onChange={(val) => handleVenueChange(index, 'base_rate', val)} placeholder=\"e.g., R20,000 hire fee for a full day...\"/></div>\r\n                            <div className=\"form-group\"><label>Additional Charges</label><SimpleTextEditor height=\"100px\" value={venue.additional_charges} onChange={(val) => handleVenueChange(index, 'additional_charges', val)} placeholder=\"e.g., Security fee, Corkage fee...\"/></div>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"service-section\"><h4>Description</h4><div className=\"markdown-content\"><ReactMarkdown>{venue.description || 'No details provided.'}</ReactMarkdown></div></div>\r\n                            <div className=\"service-section\"><h4>Capacity</h4><p>{venue.capacity || 'No details provided.'}</p></div>\r\n                            <div className=\"service-section\"><h4>Base Rate</h4><div className=\"markdown-content\"><ReactMarkdown>{venue.base_rate || 'No details provided.'}</ReactMarkdown></div></div>\r\n                            <div className=\"service-section\"><h4>Additional Charges</h4><div className=\"markdown-content\"><ReactMarkdown>{venue.additional_charges || 'No details provided.'}</ReactMarkdown></div></div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                {/* Right Side: Photos */}\r\n                <div className=\"venue-photos\">\r\n                    <h4>Venue Images</h4>\r\n                    <div className=\"venue-photo-grid\">\r\n                        {venue.photos && venue.photos.map((photo, photoIndex) => (\r\n                            <div key={photo.url || photoIndex} className=\"portfolio-photo\">\r\n                                <img src={photo.url} alt={`Venue ${index + 1}`} />\r\n                                {isEditing && <button type=\"button\" className=\"delete-photo\" onClick={() => handleDeletePhoto(index, photoIndex)}>&times;</button>}\r\n                            </div>\r\n                        ))}\r\n                         {(!venue.photos || venue.photos.length === 0) && !isEditing && (\r\n                            <div className=\"no-photos-container\"><span className=\"no-photos\">No images yet</span></div>\r\n                         )}\r\n                    </div>\r\n                    {isEditing && (\r\n                        <div className=\"photo-upload\">\r\n                            <input type=\"file\" id={`venue-photo-upload-${index}`} accept=\"image/*\" onChange={(e) => handlePhotoUpload(e, index)} style={{ display: 'none' }} />\r\n                            <label htmlFor={`venue-photo-upload-${index}`} className=\"upload-button-small\">Add Image</label>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VenueService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}