{"ast":null,"code":"import _objectSpread from\"C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14;import React,{useState,useRef,useEffect}from'react';import{BsEmojiSmile,BsPaperclip,BsSend}from'react-icons/bs';import{FaComments}from'react-icons/fa';import styled from'styled-components';import VendorSearch from'./VendorSearch';// Styled Components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ComponentWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  /* The parent container will handle margins */\\n\"])));const ComponentHeader=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 1rem;\\n\\n  h2 {\\n    color: #333;\\n    margin: 0 0 0 0.75rem;\\n  }\\n\\n  svg {\\n    color: #ff9c6d; /* Using a color from your theme */\\n  }\\n\"])));const ChatContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row; /* Changed to row for side-by-side layout */\\n  height: 500px;\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n  overflow: hidden;\\n  border: 1px solid #e9ecef;\\n\"])));const Sidebar=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 250px;\\n  background: #fff;\\n  border-right: 1px solid #e9ecef;\\n  overflow-y: auto;\\n  \\n  h3 {\\n    margin: 0 0 1rem 0;\\n    color: #5c3c2e;\\n    font-size: 1.25rem;\\n    font-weight: 600;\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n    padding-bottom: 0.5rem;\\n  }\\n\"])));const ChatList=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  .chat-item {\\n    padding: 0.75rem 1rem;\\n    border-bottom: 1px solid #ffe4d6;\\n    cursor: pointer;\\n    transition: background 0.2s;\\n    display: flex;\\n    align-items: center;\\n    \\n    &:hover {\\n      background: #ffede1;\\n    }\\n    \\n    &.active {\\n      background: #ffe4d6;\\n    }\\n    \\n    .info {\\n      flex: 1;\\n      \\n      .name {\\n        font-weight: 600;\\n        color: #5c3c2e;\\n        margin-bottom: 2px;\\n        font-size: 0.9rem;\\n      }\\n      \\n      .last-message {\\n        font-size: 0.8rem;\\n        color: #8c6b5e;\\n        white-space: nowrap;\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n      }\\n    }\\n    .unread-badge {\\n      background-color: #d45a29;\\n      color: white;\\n      font-size: 0.75rem;\\n      border-radius: 9999px;\\n      height: 20px;\\n      width: 20px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      font-weight: 600;\\n    }\\n  }\\n\"])));const ChatHeader=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background: #f8f9fa;\\n  color: #495057;\\n  padding: 1rem 1.5rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  border-bottom: 1px solid #e9ecef;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  margin: 0;\\n\"])));const MessagesContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 1.25rem;\\n  overflow-y: auto;\\n  background: #fff;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.75rem;\\n  background-color: #f8f9fa;\\n\"])));const ChatArea=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #fff;\\n  border-left: 1px solid #e9ecef;\\n\"])));const MessageBubble=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  max-width: 75%;\\n  padding: 0.75rem 1rem;\\n  border-radius: 1rem;\\n  position: relative;\\n  line-height: 1.4;\\n  font-size: 0.9375rem;\\n  \",\"\\n\"])),_ref=>{let{$isCurrentUser}=_ref;return $isCurrentUser?\"\\n    align-self: flex-end;\\n    background: #f8d7da;\\n    color: #721c24;\\n    border-bottom-right-radius: 0.25rem;\\n  \":\"\\n    align-self: flex-start;\\n    background: #f8f9fa;\\n    color: #212529;\\n    border: 1px solid #e9ecef;\\n    border-bottom-left-radius: 0.25rem;\\n  \";});const MessageHeader=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  font-size: 0.8125rem;\\n  margin-bottom: 0.25rem;\\n  \",\"\\n\"])),_ref2=>{let{$isCurrentUser}=_ref2;return $isCurrentUser?'color: #721c24;':'color: #495057;';});const MessageTime=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  font-size: 0.6875rem;\\n  text-align: \",\";\\n  margin-top: 0.25rem;\\n  opacity: 0.8;\\n  color: \",\";\\n\"])),_ref3=>{let{$isCurrentUser}=_ref3;return $isCurrentUser?'right':'left';},_ref4=>{let{$isCurrentUser}=_ref4;return $isCurrentUser?'#721c24':'#6c757d';});const InputContainer=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  border-top: 1px solid #e9ecef;\\n  background: #fff;\\n\"])));const InputForm=styled.form(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 0.5rem;\\n  align-items: center;\\n\"])));const Input=styled.input(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 0.6rem 1rem;\\n  border: 1px solid #ffd0b3;\\n  border-radius: 9999px;\\n  font-size: 0.9rem;\\n  background: #fff;\\n  color: #5c3c2e;\\n  transition: all 0.2s;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #ffb38a;\\n    box-shadow: 0 0 0 2px rgba(255, 179, 138, 0.3);\\n  }\\n  \\n  &::placeholder {\\n    color: #c4a99a;\\n  }\\n\"])));const IconButton=styled.button(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 36px;\\n  height: 36px;\\n  border-radius: 50%;\\n  background: transparent;\\n  border: none;\\n  color: #8c6b5e;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  \\n  &:hover {\\n    background: #ffede1;\\n    color: #d45a29;\\n  }\\n\"])));const SendButton=styled(IconButton)(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  background: #ff9c6d;\\n  color: white;\\n  \\n  &:hover {\\n    background: #ff8a50;\\n    color: white;\\n  }\\n\"])));const ChatUI=_ref5=>{let{listTitle='Vendors',onSendMessage,onSelectVendor,selectedVendor=null,messages=[],showSearch=true,vendors=[],unreadCount=0}=_ref5;const[newMessage,setNewMessage]=useState('');const messagesEndRef=useRef(null);// No need for localMessages state since we're using props for messages\nconst handleSendMessage=e=>{e.preventDefault();if(newMessage.trim()===''||!selectedVendor)return;const newMsg={id:Date.now(),text:newMessage,timestamp:new Date().toISOString(),isCurrentUser:true,sender:'You'};// Notify parent component\nif(onSendMessage){onSendMessage(_objectSpread(_objectSpread({},newMsg),{},{vendorId:selectedVendor.id}));}setNewMessage('');};// Scroll to bottom when messages change\nuseEffect(()=>{if(messages.length>0){var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});}},[messages]);return/*#__PURE__*/_jsxs(ComponentWrapper,{children:[/*#__PURE__*/_jsxs(ComponentHeader,{children:[/*#__PURE__*/_jsx(FaComments,{size:22}),/*#__PURE__*/_jsx(\"h2\",{children:\"Chat\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#ff4444',color:'white',borderRadius:'50%',width:'20px',height:'20px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px',fontWeight:'bold',marginLeft:'8px'},children:unreadCount>99?'99+':unreadCount})]}),/*#__PURE__*/_jsxs(ChatContainer,{children:[/*#__PURE__*/_jsx(Sidebar,{children:showSearch?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VendorSearch,{onSelectVendor:onSelectVendor,selectedVendorId:selectedVendor===null||selectedVendor===void 0?void 0:selectedVendor.id}),/*#__PURE__*/_jsx(ChatList,{children:selectedVendor&&/*#__PURE__*/_jsx(\"div\",{className:\"chat-item active\",onClick:()=>onSelectVendor(selectedVendor),children:/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:selectedVendor.name}),/*#__PURE__*/_jsx(\"div\",{className:\"last-message\",children:\"Click to chat\"})]})})})]}):/*#__PURE__*/_jsx(ChatList,{children:vendors.map(vendor=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-item \".concat((selectedVendor===null||selectedVendor===void 0?void 0:selectedVendor.id)===vendor.id?'active':''),onClick:()=>onSelectVendor(vendor),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:vendor.name}),/*#__PURE__*/_jsx(\"div\",{className:\"last-message\",children:vendor.lastMessage||'Click to chat'})]}),vendor.unread>0&&/*#__PURE__*/_jsx(\"div\",{className:\"unread-badge\",children:vendor.unread})]},vendor.id))})}),/*#__PURE__*/_jsx(ChatArea,{children:selectedVendor?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChatHeader,{children:/*#__PURE__*/_jsx(\"h3\",{children:selectedVendor.name})}),/*#__PURE__*/_jsxs(MessagesContainer,{children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100%',color:'#8c6b5e',textAlign:'center',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'0.5rem',color:'#5c3c2e'},children:\"No messages yet\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem'},children:[\"Send a message to start the conversation with \",selectedVendor.name,\".\"]})]}):messages.map((message,index)=>/*#__PURE__*/_jsxs(MessageBubble,{$isCurrentUser:message.isCurrentUser,children:[/*#__PURE__*/_jsx(MessageHeader,{$isCurrentUser:message.isCurrentUser,children:message.sender}),message.text,/*#__PURE__*/_jsx(MessageTime,{$isCurrentUser:message.isCurrentUser,children:new Date(message.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]},message.id||\"msg-\".concat(index))),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(InputContainer,{children:/*#__PURE__*/_jsxs(InputForm,{onSubmit:handleSendMessage,children:[/*#__PURE__*/_jsx(IconButton,{type:\"button\",children:/*#__PURE__*/_jsx(BsEmojiSmile,{size:18})}),/*#__PURE__*/_jsx(IconButton,{type:\"button\",children:/*#__PURE__*/_jsx(BsPaperclip,{size:18})}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Message \".concat(selectedVendor.name,\"...\"),disabled:!selectedVendor}),/*#__PURE__*/_jsx(SendButton,{type:\"submit\",children:/*#__PURE__*/_jsx(BsSend,{size:16})})]})})]}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100%',color:'#8c6b5e',textAlign:'center',padding:'2rem'},children:[/*#__PURE__*/_jsx(FaComments,{size:48,style:{marginBottom:'1rem',opacity:0.3}}),/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'0.5rem',color:'#5c3c2e'},children:\"No chat selected\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem'},children:\"Select a contact to start chatting\"})]})})]})]});};export default ChatUI;","map":{"version":3,"names":["React","useState","useRef","useEffect","BsEmojiSmile","BsPaperclip","BsSend","FaComments","styled","VendorSearch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ComponentWrapper","div","_templateObject","_taggedTemplateLiteral","ComponentHeader","_templateObject2","ChatContainer","_templateObject3","Sidebar","_templateObject4","ChatList","_templateObject5","ChatHeader","_templateObject6","MessagesContainer","_templateObject7","ChatArea","_templateObject8","MessageBubble","_templateObject9","_ref","$isCurrentUser","MessageHeader","_templateObject0","_ref2","MessageTime","_templateObject1","_ref3","_ref4","InputContainer","_templateObject10","InputForm","form","_templateObject11","Input","input","_templateObject12","IconButton","button","_templateObject13","SendButton","_templateObject14","ChatUI","_ref5","listTitle","onSendMessage","onSelectVendor","selectedVendor","messages","showSearch","vendors","unreadCount","newMessage","setNewMessage","messagesEndRef","handleSendMessage","e","preventDefault","trim","newMsg","id","Date","now","text","timestamp","toISOString","isCurrentUser","sender","_objectSpread","vendorId","length","_messagesEndRef$curre","current","scrollIntoView","behavior","children","size","style","backgroundColor","color","borderRadius","width","height","display","alignItems","justifyContent","fontSize","fontWeight","marginLeft","selectedVendorId","className","onClick","name","map","vendor","concat","lastMessage","unread","flexDirection","textAlign","padding","marginBottom","message","index","toLocaleTimeString","hour","minute","ref","onSubmit","type","value","onChange","target","placeholder","disabled","opacity"],"sources":["C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/frontend/src/components/ChatUI.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { BsEmojiSmile, BsPaperclip, BsSend } from 'react-icons/bs';\r\nimport { FaComments } from 'react-icons/fa';\r\nimport styled from 'styled-components';\r\nimport VendorSearch from './VendorSearch';\r\n\r\n// Styled Components\r\nconst ComponentWrapper = styled.div`\r\n  /* The parent container will handle margins */\r\n`;\r\n\r\nconst ComponentHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n\r\n  h2 {\r\n    color: #333;\r\n    margin: 0 0 0 0.75rem;\r\n  }\r\n\r\n  svg {\r\n    color: #ff9c6d; /* Using a color from your theme */\r\n  }\r\n`;\r\n\r\n\r\nconst ChatContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row; /* Changed to row for side-by-side layout */\r\n  height: 500px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  border: 1px solid #e9ecef;\r\n`;\r\n\r\nconst Sidebar = styled.div`\r\n  width: 250px;\r\n  background: #fff;\r\n  border-right: 1px solid #e9ecef;\r\n  overflow-y: auto;\r\n  \r\n  h3 {\r\n    margin: 0 0 1rem 0;\r\n    color: #5c3c2e;\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    padding-bottom: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst ChatList = styled.div`\r\n  .chat-item {\r\n    padding: 0.75rem 1rem;\r\n    border-bottom: 1px solid #ffe4d6;\r\n    cursor: pointer;\r\n    transition: background 0.2s;\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    &:hover {\r\n      background: #ffede1;\r\n    }\r\n    \r\n    &.active {\r\n      background: #ffe4d6;\r\n    }\r\n    \r\n    .info {\r\n      flex: 1;\r\n      \r\n      .name {\r\n        font-weight: 600;\r\n        color: #5c3c2e;\r\n        margin-bottom: 2px;\r\n        font-size: 0.9rem;\r\n      }\r\n      \r\n      .last-message {\r\n        font-size: 0.8rem;\r\n        color: #8c6b5e;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n    }\r\n    .unread-badge {\r\n      background-color: #d45a29;\r\n      color: white;\r\n      font-size: 0.75rem;\r\n      border-radius: 9999px;\r\n      height: 20px;\r\n      width: 20px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ChatHeader = styled.div`\r\n  background: #f8f9fa;\r\n  color: #495057;\r\n  padding: 1rem 1.5rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #e9ecef;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  margin: 0;\r\n`;\r\n\r\nconst MessagesContainer = styled.div`\r\n  flex: 1;\r\n  padding: 1.25rem;\r\n  overflow-y: auto;\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n  background-color: #f8f9fa;\r\n`;\r\n\r\nconst ChatArea = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #fff;\r\n  border-left: 1px solid #e9ecef;\r\n`;\r\n\r\nconst MessageBubble = styled.div`\r\n  max-width: 75%;\r\n  padding: 0.75rem 1rem;\r\n  border-radius: 1rem;\r\n  position: relative;\r\n  line-height: 1.4;\r\n  font-size: 0.9375rem;\r\n  ${({ $isCurrentUser }) => $isCurrentUser ? `\r\n    align-self: flex-end;\r\n    background: #f8d7da;\r\n    color: #721c24;\r\n    border-bottom-right-radius: 0.25rem;\r\n  ` : `\r\n    align-self: flex-start;\r\n    background: #f8f9fa;\r\n    color: #212529;\r\n    border: 1px solid #e9ecef;\r\n    border-bottom-left-radius: 0.25rem;\r\n  `}\r\n`;\r\n\r\nconst MessageHeader = styled.div`\r\n  font-weight: 600;\r\n  font-size: 0.8125rem;\r\n  margin-bottom: 0.25rem;\r\n  ${({ $isCurrentUser }) => $isCurrentUser ? 'color: #721c24;' : 'color: #495057;'}\r\n`;\r\n\r\nconst MessageTime = styled.div`\r\n  font-size: 0.6875rem;\r\n  text-align: ${({ $isCurrentUser }) => $isCurrentUser ? 'right' : 'left'};\r\n  margin-top: 0.25rem;\r\n  opacity: 0.8;\r\n  color: ${({ $isCurrentUser }) => $isCurrentUser ? '#721c24' : '#6c757d'};\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  padding: 1rem;\r\n  border-top: 1px solid #e9ecef;\r\n  background: #fff;\r\n`;\r\n\r\nconst InputForm = styled.form`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 0.6rem 1rem;\r\n  border: 1px solid #ffd0b3;\r\n  border-radius: 9999px;\r\n  font-size: 0.9rem;\r\n  background: #fff;\r\n  color: #5c3c2e;\r\n  transition: all 0.2s;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #ffb38a;\r\n    box-shadow: 0 0 0 2px rgba(255, 179, 138, 0.3);\r\n  }\r\n  \r\n  &::placeholder {\r\n    color: #c4a99a;\r\n  }\r\n`;\r\n\r\nconst IconButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  background: transparent;\r\n  border: none;\r\n  color: #8c6b5e;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  \r\n  &:hover {\r\n    background: #ffede1;\r\n    color: #d45a29;\r\n  }\r\n`;\r\n\r\nconst SendButton = styled(IconButton)`\r\n  background: #ff9c6d;\r\n  color: white;\r\n  \r\n  &:hover {\r\n    background: #ff8a50;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ChatUI = ({ \r\n  listTitle = 'Vendors',\r\n  onSendMessage,\r\n  onSelectVendor,\r\n  selectedVendor = null,\r\n  messages = [],\r\n  showSearch = true,\r\n  vendors = [],\r\n  unreadCount = 0\r\n}) => {\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n  \r\n  // No need for localMessages state since we're using props for messages\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (newMessage.trim() === '' || !selectedVendor) return;\r\n    \r\n    const newMsg = {\r\n      id: Date.now(),\r\n      text: newMessage,\r\n      timestamp: new Date().toISOString(),\r\n      isCurrentUser: true,\r\n      sender: 'You'\r\n    };\r\n    \r\n    // Notify parent component\r\n    if (onSendMessage) {\r\n      onSendMessage({\r\n        ...newMsg,\r\n        vendorId: selectedVendor.id\r\n      });\r\n    }\r\n    \r\n    setNewMessage('');\r\n  };\r\n\r\n  // Scroll to bottom when messages change\r\n  useEffect(() => {\r\n    if (messages.length > 0) {\r\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [messages]);\r\n\r\n\r\n  return (\r\n    <ComponentWrapper>\r\n      <ComponentHeader>\r\n        <FaComments size={22} />\r\n        <h2>Chat</h2>\r\n        {unreadCount > 0 && (\r\n          <div style={{\r\n            backgroundColor: '#ff4444',\r\n            color: 'white',\r\n            borderRadius: '50%',\r\n            width: '20px',\r\n            height: '20px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: '12px',\r\n            fontWeight: 'bold',\r\n            marginLeft: '8px'\r\n          }}>\r\n            {unreadCount > 99 ? '99+' : unreadCount}\r\n          </div>\r\n        )}\r\n      </ComponentHeader>\r\n      <ChatContainer>\r\n        <Sidebar>\r\n          {showSearch ? (\r\n            <>\r\n              <VendorSearch \r\n                onSelectVendor={onSelectVendor}\r\n                selectedVendorId={selectedVendor?.id}\r\n              />\r\n              <ChatList>\r\n                {selectedVendor && (\r\n                  <div \r\n                    className=\"chat-item active\"\r\n                    onClick={() => onSelectVendor(selectedVendor)}\r\n                  >\r\n                    <div className=\"info\">\r\n                      <div className=\"name\">{selectedVendor.name}</div>\r\n                      <div className=\"last-message\">Click to chat</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </ChatList>\r\n            </>\r\n          ) : (\r\n            <ChatList>\r\n              {vendors.map(vendor => (\r\n                <div \r\n                  key={vendor.id}\r\n                  className={`chat-item ${selectedVendor?.id === vendor.id ? 'active' : ''}`}\r\n                  onClick={() => onSelectVendor(vendor)}\r\n                >\r\n                  <div className=\"info\">\r\n                    <div className=\"name\">{vendor.name}</div>\r\n                    <div className=\"last-message\">{vendor.lastMessage || 'Click to chat'}</div>\r\n                  </div>\r\n                  {vendor.unread > 0 && (\r\n                    <div className=\"unread-badge\">\r\n                      {vendor.unread}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </ChatList>\r\n          )}\r\n        </Sidebar>\r\n        \r\n        <ChatArea>\r\n          {selectedVendor ? (\r\n            <>\r\n              <ChatHeader>\r\n                <h3>{selectedVendor.name}</h3>\r\n              </ChatHeader>\r\n              <MessagesContainer>\r\n      \r\n              {messages.length === 0 ? (\r\n                <div style={{ \r\n                  display: 'flex', \r\n                  flexDirection: 'column', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center',\r\n                  height: '100%',\r\n                  color: '#8c6b5e',\r\n                  textAlign: 'center',\r\n                  padding: '2rem'\r\n                }}>\r\n                  <h3 style={{ marginBottom: '0.5rem', color: '#5c3c2e' }}>No messages yet</h3>\r\n                  <p style={{ fontSize: '0.9rem' }}>Send a message to start the conversation with {selectedVendor.name}.</p>\r\n                </div>\r\n              ) : (\r\n                messages.map((message, index) => (\r\n                  <MessageBubble \r\n                    key={message.id || `msg-${index}`} \r\n                    $isCurrentUser={message.isCurrentUser}\r\n                  >\r\n                    <MessageHeader $isCurrentUser={message.isCurrentUser}>\r\n                      {message.sender}\r\n                    </MessageHeader>\r\n                    {message.text}\r\n                    <MessageTime $isCurrentUser={message.isCurrentUser}>\r\n                      {new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                    </MessageTime>\r\n                  </MessageBubble>\r\n                ))\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n              </MessagesContainer>\r\n              \r\n              <InputContainer>\r\n                <InputForm onSubmit={handleSendMessage}>\r\n                  <IconButton type=\"button\">\r\n                    <BsEmojiSmile size={18} />\r\n                  </IconButton>\r\n                  <IconButton type=\"button\">\r\n                    <BsPaperclip size={18} />\r\n                  </IconButton>\r\n                  <Input\r\n                    type=\"text\"\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    placeholder={`Message ${selectedVendor.name}...`}\r\n                    disabled={!selectedVendor}\r\n                  />\r\n                  <SendButton type=\"submit\">\r\n                    <BsSend size={16} />\r\n                  </SendButton>\r\n                </InputForm>\r\n              </InputContainer>\r\n            </>\r\n          ) : (\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              height: '100%',\r\n              color: '#8c6b5e',\r\n              textAlign: 'center',\r\n              padding: '2rem'\r\n            }}>\r\n              <FaComments size={48} style={{ marginBottom: '1rem', opacity: 0.3 }} />\r\n              <h3 style={{ marginBottom: '0.5rem', color: '#5c3c2e' }}>No chat selected</h3>\r\n              <p style={{ fontSize: '0.9rem' }}>Select a contact to start chatting</p>\r\n            </div>\r\n          )}\r\n        </ChatArea>\r\n      </ChatContainer>\r\n    </ComponentWrapper>\r\n  );\r\n};\r\n\r\nexport default ChatUI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}