{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ammaarah\\\\EventuallyPerfect\\\\QUANTIX\\\\frontend\\\\src\\\\pages\\\\PendingApproval.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styling/PendingApproval.css\";\nimport { supabase } from \"../client\";\nimport { FaClock } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PendingApprovalPage() {\n  _s();\n  const [status, setStatus] = useState(\"pending\");\n  const [loading, setLoading] = useState(true);\n  const [session, setSession] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkStatus = async () => {\n      const {\n        data: {\n          session\n        }\n      } = await supabase.auth.getSession();\n      setSession(session);\n      if (!(session !== null && session !== void 0 && session.user)) {\n        navigate(\"/login\");\n        return;\n      }\n\n      // fetch vendor status\n      const {\n        data: vendor,\n        error\n      } = await supabase.from(\"vendors\").select(\"status\").eq(\"vendor_id\", session.user.id).single();\n      if (error || !vendor) {\n        console.error(\"Error fetching vendor status:\", error === null || error === void 0 ? void 0 : error.message);\n        setStatus(\"pending\");\n      } else if (vendor.status === \"accepted\") {\n        navigate(\"/vendor-dashboard\"); // redirect accepted vendors\n      } else if (vendor.status === \"pending\") {\n        setStatus(\"pending\");\n      } else if (vendor.status === \"rejected\") {\n        setStatus(\"rejected\");\n      } else {\n        setStatus(\"pending\"); // fallback\n      }\n      setLoading(false);\n    };\n    checkStatus();\n  }, [navigate]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      session: session,\n      showOnlyLogout: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pending-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pending-card\",\n        children: [status === \"pending\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FaClock, {\n            className: \"pulsing-clock\",\n            size: 50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Application Under Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Thank you for registering as a vendor. Your application is currently under review by our admins.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Once approved, you\\u2019ll gain access to your vendor dashboard and can start listing your services.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), status === \"rejected\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Application Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Unfortunately, your vendor application has been rejected by our admins.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), status !== \"pending\" && status !== \"rejected\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Unknown Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"We couldn\\u2019t determine your application status.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(PendingApprovalPage, \"uKHFvAUQ1sXf9wdgL2ghtdwZhng=\", false, function () {\n  return [useNavigate];\n});\n_c = PendingApprovalPage;\nvar _c;\n$RefreshReg$(_c, \"PendingApprovalPage\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","useNavigate","supabase","FaClock","jsxDEV","_jsxDEV","Fragment","_Fragment","PendingApprovalPage","_s","status","setStatus","loading","setLoading","session","setSession","navigate","checkStatus","data","auth","getSession","user","vendor","error","from","select","eq","id","single","console","message","children","fileName","_jsxFileName","lineNumber","columnNumber","showOnlyLogout","className","size","_c","$RefreshReg$"],"sources":["C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/frontend/src/pages/PendingApproval.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styling/PendingApproval.css\";\r\nimport { supabase } from \"../client\";\r\nimport { FaClock } from \"react-icons/fa\";\r\n\r\nexport default function PendingApprovalPage() {\r\n  const [status, setStatus] = useState(\"pending\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [session,setSession] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkStatus = async () => {\r\n      const { data: { session } } = await supabase.auth.getSession();\r\n      setSession(session);\r\n      if (!session?.user) {\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      // fetch vendor status\r\n      const { data: vendor, error } = await supabase\r\n        .from(\"vendors\")\r\n        .select(\"status\")\r\n        .eq(\"vendor_id\", session.user.id)\r\n        .single();\r\n\r\n      if (error || !vendor) {\r\n        console.error(\"Error fetching vendor status:\", error?.message);\r\n        setStatus(\"pending\");\r\n      } else if (vendor.status === \"accepted\") {\r\n        navigate(\"/vendor-dashboard\"); // redirect accepted vendors\r\n      } else if (vendor.status === \"pending\") {\r\n        setStatus(\"pending\");\r\n      } else if (vendor.status === \"rejected\") {\r\n        setStatus(\"rejected\");\r\n      } else {\r\n        setStatus(\"pending\"); // fallback\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    checkStatus();\r\n  }, [navigate]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar session={session} showOnlyLogout={true} />\r\n      <div className=\"pending-container\">\r\n        <div className=\"pending-card\">\r\n          {status === \"pending\" && (\r\n            <>\r\n              <FaClock className=\"pulsing-clock\" size={50} />\r\n              <h2>Application Under Review</h2>\r\n              <p>\r\n                Thank you for registering as a vendor. Your application is\r\n                currently under review by our admins.\r\n              </p>\r\n              <p>\r\n                Once approved, you’ll gain access to your vendor dashboard and\r\n                can start listing your services.\r\n              </p>\r\n            </>\r\n          )}\r\n\r\n          {status === \"rejected\" && (\r\n            <>\r\n              <h2>Application Rejected</h2>\r\n              <p>\r\n                Unfortunately, your vendor application has been rejected by our\r\n                admins.\r\n              </p>\r\n            </>\r\n          )}\r\n\r\n          {status !== \"pending\" && status !== \"rejected\" && (\r\n            <>\r\n              <h2>Unknown Status</h2>\r\n              <p>\r\n                We couldn’t determine your application status. \r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}