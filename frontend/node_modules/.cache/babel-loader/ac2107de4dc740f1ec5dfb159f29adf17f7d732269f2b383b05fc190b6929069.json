{"ast":null,"code":"// src/App.js\nimport{useEffect,useState}from'react';import{supabase}from'./client';import PlannerDashboard from'./pages/PlannerDashboard';import'./App.css';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import Landing from'./pages/Landing';import LoginPage from'./pages/LoginPage';import SignUpPage from'./pages/SignUpPage';import PlannerForm from'./pages/PlannerForm';import VendorForm from'./pages/VendorForm';import VendorDashboard from'./pages/VendorDashboard';import PostSignupRedirect from'./pages/PostSignupRedirect';import LoadingPage from'./pages/LoadingPage';import EditVendorProfile from'./pages/EditVendorProfile';import EditPlannerProfile from'./pages/EditPlannerProfile';import AddEventForm from'./pages/AddEventForm';import EventDetails from'./pages/EventDetails';import AdminDashboard from'./pages/AdminDashboard';import PendingApproval from'./pages/PendingApproval';import React from'react';import VendorServices from'./pages/VendorServices';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[session,setSession]=useState(null);useEffect(()=>{if(process.env.NODE_ENV==='test'){// Skip Supabase calls in tests\nsetSession(null);return;}// Real Supabase logic\nsupabase.auth.getSession().then(_ref=>{let{data:{session}}=_ref;setSession(session);});const{data:{subscription}}=supabase.auth.onAuthStateChange((_event,session)=>{setSession(session);});return()=>subscription.unsubscribe();},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUpPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/loading\",element:/*#__PURE__*/_jsx(LoadingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:session?/*#__PURE__*/_jsx(PlannerDashboard,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/loading\"})}),/*#__PURE__*/_jsx(Route,{path:\"/planner-form\",element:/*#__PURE__*/_jsx(PlannerForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/vendor-form\",element:/*#__PURE__*/_jsx(VendorForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/vendor-dashboard\",element:session?/*#__PURE__*/_jsx(VendorDashboard,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/loading\"})}),/*#__PURE__*/_jsx(Route,{path:\"/post-signup\",element:/*#__PURE__*/_jsx(PostSignupRedirect,{})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-vendor-profile\",element:session?/*#__PURE__*/_jsx(EditVendorProfile,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-planner-profile\",element:session?/*#__PURE__*/_jsx(EditPlannerProfile,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/add-event\",element:session?/*#__PURE__*/_jsx(AddEventForm,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/viewEvent/:id\",element:session?/*#__PURE__*/_jsx(EventDetails,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/vendor/services\",element:session?/*#__PURE__*/_jsx(VendorServices,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/vendors/:vendorId/services\",element:session?/*#__PURE__*/_jsx(VendorServices,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-dashboard\",element:session?/*#__PURE__*/_jsx(AdminDashboard,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/pending-approval\",element:session?/*#__PURE__*/_jsx(PendingApproval,{session:session}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});}","map":{"version":3,"names":["useEffect","useState","supabase","PlannerDashboard","BrowserRouter","Routes","Route","Navigate","Landing","LoginPage","SignUpPage","PlannerForm","VendorForm","VendorDashboard","PostSignupRedirect","LoadingPage","EditVendorProfile","EditPlannerProfile","AddEventForm","EventDetails","AdminDashboard","PendingApproval","React","VendorServices","jsx","_jsx","jsxs","_jsxs","App","session","setSession","process","env","NODE_ENV","auth","getSession","then","_ref","data","subscription","onAuthStateChange","_event","unsubscribe","children","path","element","to"],"sources":["C:/Users/Ammaarah/EventuallyPerfect/QUANTIX/frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport { useEffect, useState } from 'react';\r\nimport { supabase } from './client';\r\nimport PlannerDashboard from './pages/PlannerDashboard';\r\nimport './App.css';\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Landing from './pages/Landing';\r\nimport LoginPage from './pages/LoginPage';\r\nimport SignUpPage from './pages/SignUpPage';\r\nimport PlannerForm from './pages/PlannerForm';\r\nimport VendorForm from './pages/VendorForm';\r\nimport VendorDashboard from './pages/VendorDashboard';\r\nimport PostSignupRedirect from './pages/PostSignupRedirect';\r\nimport LoadingPage from './pages/LoadingPage';\r\nimport EditVendorProfile from './pages/EditVendorProfile';\r\nimport EditPlannerProfile from './pages/EditPlannerProfile';\r\nimport AddEventForm from './pages/AddEventForm';\r\nimport EventDetails from './pages/EventDetails';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport PendingApproval from './pages/PendingApproval';\r\nimport React from 'react';\r\n\r\nimport VendorServices from './pages/VendorServices';\r\n\r\nexport default function App() {\r\n  const [session, setSession] = useState(null);\r\n  useEffect(() => {\r\n\r\n    if (process.env.NODE_ENV === 'test') {\r\n      // Skip Supabase calls in tests\r\n      setSession(null);\r\n      return;\r\n    }\r\n\r\n    // Real Supabase logic\r\n  \r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n    });\r\n\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Landing />} />\r\n        <Route path=\"/login\" element={<LoginPage />} />\r\n        <Route path=\"/signup\" element={<SignUpPage />} />\r\n        <Route path=\"/loading\" element={<LoadingPage />} />\r\n        <Route path=\"/dashboard\" element={\r\n          session ? <PlannerDashboard session={session} /> : <Navigate to=\"/loading\" />\r\n        } />\r\n        <Route path=\"/planner-form\" element={<PlannerForm />} />\r\n        <Route path=\"/vendor-form\" element={<VendorForm />} />\r\n        <Route path=\"/vendor-dashboard\" element={\r\n          session ? <VendorDashboard session={session} /> : <Navigate to=\"/loading\" />\r\n        } />\r\n        <Route path=\"/post-signup\" element={<PostSignupRedirect />} />\r\n        <Route path=\"/edit-vendor-profile\" element={\r\n          session ? <EditVendorProfile session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/edit-planner-profile\" element={\r\n          session ? <EditPlannerProfile session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/add-event\" element={\r\n          session ? <AddEventForm session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/viewEvent/:id\" element={\r\n          session ? <EventDetails session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/vendor/services\" element={\r\n          session ? <VendorServices session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        {/* âœ¨ CHANGED: Added new route for planners to view vendor services */}\r\n        <Route path=\"/vendors/:vendorId/services\" element={\r\n          session ? <VendorServices session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/admin-dashboard\" element={\r\n          session? <AdminDashboard session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/pending-approval\" element={\r\n          session? <PendingApproval session={session} /> : <Navigate to=\"/login\" />\r\n        } />\r\n      </Routes>\r\n\r\n    </BrowserRouter>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}